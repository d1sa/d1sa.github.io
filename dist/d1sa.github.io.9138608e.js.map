{"mappings":"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","sources":["<anon>","node_modules/@parcel/runtime-js/lib/runtime-46e695b2b16811b6.js","src/js/main.mjs","src/js/header.mjs","src/js/forms.mjs","src/js/toast.js","src/js/analytics.js","node_modules/@parcel/runtime-js/lib/runtime-23a660667bdf816e.js","src/js/pricing.js","src/js/slider.js","src/js/glightbox.js"],"sourcesContent":["\nfunction $parcel$extendImportMap(map) {\n  Object.assign(parcelRequire.i ??= {}, map);\n}\n\nfunction $parcel$resolve(url) {\n  url = parcelRequire.i?.[url] || url;\n  return new URL($parcel$distDir + url, import.meta.url).toString();\n}\n\n      var $parcel$global =\n        typeof globalThis !== 'undefined'\n          ? globalThis\n          : typeof self !== 'undefined'\n          ? self\n          : typeof window !== 'undefined'\n          ? window\n          : typeof global !== 'undefined'\n          ? global\n          : {};\n  var $parcel$distDir = \"./\";\n\nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequireef94\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequireef94\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nvar $c04856ef6b9e2dbf$exports = {};\n$parcel$extendImportMap({\n    \"8BHOp\": \"phone-call-white-fill.c9801877.svg\"\n});\n\n// ==========================================================================\n// Header Height Compensation\n// ==========================================================================\n/**\r\n * Компенсирует высоту фиксированного хедера\r\n * Добавляет padding-top к body равный высоте .header\r\n */ document.addEventListener('DOMContentLoaded', function() {\n    function updateBodyPadding() {\n        const header = document.querySelector('.header');\n        if (header) {\n            const headerHeight = Math.round(header.offsetHeight);\n            if (headerHeight > 0) document.body.style.paddingTop = headerHeight + 'px';\n        }\n    }\n    // Применяем при загрузке\n    updateBodyPadding();\n    // Debounce для resize\n    let resizeTimeout;\n    window.addEventListener('resize', function() {\n        clearTimeout(resizeTimeout);\n        resizeTimeout = setTimeout(updateBodyPadding, 100);\n    });\n    // Обработка изменения ориентации\n    window.addEventListener('orientationchange', function() {\n        setTimeout(updateBodyPadding, 200);\n    });\n});\n// ==========================================================================\n// Mobile Menu Functionality\n// ==========================================================================\n/**\r\n * Управление мобильным меню\r\n */ document.addEventListener('DOMContentLoaded', function() {\n    const header = document.querySelector('.header');\n    const mobileMenuToggle = document.querySelector('.mobile-menu-toggle');\n    const mobileMenuOverlay = document.querySelector('.mobile-menu-overlay');\n    const navLinks = document.querySelectorAll('.nav-link');\n    if (!mobileMenuToggle || !header) return;\n    // Открытие/закрытие мобильного меню\n    function toggleMobileMenu() {\n        const isOpen = header.classList.contains('mobile-menu-open');\n        if (isOpen) closeMobileMenu();\n        else openMobileMenu();\n    }\n    // Открытие мобильного меню\n    function openMobileMenu() {\n        header.classList.add('mobile-menu-open');\n        document.body.style.overflow = 'hidden';\n        mobileMenuToggle.setAttribute('aria-expanded', 'true');\n        mobileMenuToggle.setAttribute('aria-label', \"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C \\u043C\\u0435\\u043D\\u044E\");\n        // Фокус на первую ссылку в меню\n        const firstNavLink = document.querySelector('.nav-link');\n        if (firstNavLink) setTimeout(()=>firstNavLink.focus(), 300);\n    }\n    // Закрытие мобильного меню\n    function closeMobileMenu() {\n        header.classList.remove('mobile-menu-open');\n        document.body.style.overflow = '';\n        mobileMenuToggle.setAttribute('aria-expanded', 'false');\n        mobileMenuToggle.setAttribute('aria-label', \"\\u041E\\u0442\\u043A\\u0440\\u044B\\u0442\\u044C \\u043C\\u0435\\u043D\\u044E\");\n        // Возвращаем фокус на кнопку меню\n        mobileMenuToggle.focus();\n    }\n    // Обработчик клика по кнопке гамбургера\n    mobileMenuToggle.addEventListener('click', function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        toggleMobileMenu();\n    });\n    // Обработчик клика по оверлею\n    if (mobileMenuOverlay) mobileMenuOverlay.addEventListener('click', function() {\n        closeMobileMenu();\n    });\n    // Закрытие меню при клике на ссылки навигации\n    navLinks.forEach((link)=>{\n        link.addEventListener('click', function() {\n            // Небольшая задержка для плавности\n            setTimeout(()=>{\n                closeMobileMenu();\n            }, 150);\n        });\n    });\n    // Закрытие меню при нажатии Escape\n    document.addEventListener('keydown', function(e) {\n        if (e.key === 'Escape' && header.classList.contains('mobile-menu-open')) closeMobileMenu();\n    });\n    // Закрытие меню при изменении размера экрана\n    window.addEventListener('resize', function() {\n        if (window.innerWidth >= 768) // tablet breakpoint\n        closeMobileMenu();\n    });\n    // Обработка фокуса для доступности\n    function trapFocus(container) {\n        const focusableElements = container.querySelectorAll('a[href], button, textarea, input[type=\"text\"], input[type=\"radio\"], input[type=\"checkbox\"], select');\n        const firstFocusableElement = focusableElements[0];\n        const lastFocusableElement = focusableElements[focusableElements.length - 1];\n        container.addEventListener('keydown', function(e) {\n            if (e.key === 'Tab') {\n                if (e.shiftKey) {\n                    if (document.activeElement === firstFocusableElement) {\n                        lastFocusableElement.focus();\n                        e.preventDefault();\n                    }\n                } else if (document.activeElement === lastFocusableElement) {\n                    firstFocusableElement.focus();\n                    e.preventDefault();\n                }\n            }\n        });\n    }\n    // Применяем trap focus к мобильному меню\n    const navWrapper = document.querySelector('.nav-and-actions-wrapper');\n    if (navWrapper) trapFocus(navWrapper);\n});\n// ==========================================================================\n// Smooth Scroll with Header Offset\n// ==========================================================================\n/**\r\n * Инициализация плавного скролла с учетом отступа от хедера\r\n * Учитывает, что padding-top уже добавлен к body для компенсации высоты хедера\r\n */ document.addEventListener('DOMContentLoaded', function() {\n    function initializeSmoothScroll() {\n        document.querySelectorAll('a[href^=\"#\"]').forEach((anchor)=>{\n            anchor.addEventListener('click', function(e) {\n                e.preventDefault();\n                const targetId = this.getAttribute('href');\n                const target = document.querySelector(targetId);\n                if (target) {\n                    // Определяем размер экрана для адаптивных отступов\n                    const isMobile = window.innerWidth < 768;\n                    // Адаптивные отступы: больше для десктопа, меньше для мобильного\n                    const additionalOffset = isMobile ? 32 : 48; // 16px для мобильного, 32px для десктопа\n                    // Вычисляем позицию для скролла\n                    // Учитываем, что padding-top уже добавлен к body\n                    const targetPosition = target.offsetTop - additionalOffset;\n                    // Плавный скролл с учетом отступа\n                    window.scrollTo({\n                        top: targetPosition,\n                        behavior: 'smooth'\n                    });\n                }\n            });\n        });\n    }\n    // Инициализируем плавный скролл\n    initializeSmoothScroll();\n});\n\n\n// ==========================================================================\n// Toast Notification Component\n// ==========================================================================\n/**\r\n * Create toast notification container if it doesn't exist\r\n */ const $e6c79a397e222007$export$daa5e11bf35da0d0 = ()=>{\n    let container = document.getElementById('toast-container');\n    if (!container) {\n        container = document.createElement('div');\n        container.id = 'toast-container';\n        container.className = 'toast-container';\n        document.body.appendChild(container);\n    }\n    return container;\n};\n/**\r\n * Create individual toast element\r\n * @param {string} message - Error message\r\n * @param {string} type - Toast type (error, success, info)\r\n * @param {number} duration - Duration in milliseconds\r\n * @returns {HTMLElement} - Toast element\r\n */ const $e6c79a397e222007$export$1290c4a291d31c79 = (message, type = 'error', duration = 12000)=>{\n    const toast = document.createElement('div');\n    toast.className = `toast toast-${type}`;\n    const getIcon = (type)=>{\n        if (type === 'error') return `<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M12 1.5C6.15 1.5 1.5 6.15 1.5 12C1.5 17.85 6.15 22.5 12 22.5C17.85 22.5 22.5 17.85 22.5 12C22.5 6.15 17.85 1.5 12 1.5ZM16.05 17.25L12 13.2L7.95 17.25L6.75 16.05L10.8 12L6.75 7.95L7.95 6.75L12 10.8L16.05 6.75L17.25 7.95L13.2 12L17.25 16.05L16.05 17.25Z\" fill=\"white\"/>\n      </svg>`;\n        if (type === 'success') return `<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M12 1.5C9.9233 1.5 7.89323 2.11581 6.16652 3.26957C4.4398 4.42332 3.09399 6.0632 2.29927 7.98182C1.50455 9.90045 1.29661 12.0116 1.70176 14.0484C2.1069 16.0852 3.10693 17.9562 4.57538 19.4246C6.04383 20.8931 7.91476 21.8931 9.95156 22.2982C11.9884 22.7034 14.0996 22.4955 16.0182 21.7007C17.9368 20.906 19.5767 19.5602 20.7304 17.8335C21.8842 16.1068 22.5 14.0767 22.5 12C22.5 9.21523 21.3938 6.54451 19.4246 4.57538C17.4555 2.60625 14.7848 1.5 12 1.5ZM10.5 16.1925L6.75 12.4425L7.94251 11.25L10.5 13.8075L16.0575 8.25L17.2545 9.4395L10.5 16.1925Z\" fill=\"white\"/>\n      </svg>`;\n        return \"\\u2139\\uFE0F\"; // default for info\n    };\n    toast.innerHTML = `\n    <div class=\"toast-content\">\n      <div class=\"toast-icon\">\n        ${getIcon(type)}\n      </div>\n      <div class=\"toast-message\">${message}</div>\n      <button class=\"toast-close\" aria-label=\"\\u{417}\\u{430}\\u{43A}\\u{440}\\u{44B}\\u{442}\\u{44C} \\u{443}\\u{432}\\u{435}\\u{434}\\u{43E}\\u{43C}\\u{43B}\\u{435}\\u{43D}\\u{438}\\u{435}\">\n        <svg width=\"14\" height=\"14\" viewBox=\"0 0 14 14\" fill=\"none\">\n          <path d=\"M13 1L1 13M1 1L13 13\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\"/>\n        </svg>\n      </button>\n    </div>\n    <div class=\"toast-progress\"></div>\n  `;\n    return toast;\n};\n/**\r\n * Show toast notification\r\n * @param {string} message - Message to show\r\n * @param {string} type - Toast type (error, success, info)\r\n * @param {number} duration - Duration in milliseconds (default: 12000)\r\n */ const $e6c79a397e222007$export$f6cef6fcf9ca4e17 = (message, type = 'error', duration = 12000)=>{\n    const container = $e6c79a397e222007$export$daa5e11bf35da0d0();\n    const toast = $e6c79a397e222007$export$1290c4a291d31c79(message, type, duration);\n    // Add unique ID to toast for debugging and isolation\n    const toastId = `toast-${Date.now()}-${Math.random().toString(36).substr(2, 5)}`;\n    toast.dataset.toastId = toastId;\n    // Add toast to container\n    container.appendChild(toast);\n    // Trigger animation after DOM insertion\n    setTimeout(()=>{\n        toast.classList.add('toast-show');\n        // Start progress bar animation after toast is visible\n        setTimeout(()=>{\n            const progressBar = toast.querySelector('.toast-progress');\n            if (progressBar) {\n                progressBar.style.animationDuration = `${duration / 1000}s`;\n                progressBar.style.animationName = 'toast-progress';\n                progressBar.style.animationPlayState = 'running';\n            }\n        }, 50);\n    }, 10);\n    // Setup close button\n    const closeBtn = toast.querySelector('.toast-close');\n    closeBtn.addEventListener('click', ()=>{\n        $e6c79a397e222007$export$49ee64cc8ae40679(toast);\n    });\n    // Simple timer management - each toast has its own isolated state\n    let autoHideTimeout = null;\n    let isPaused = false;\n    let isDestroyed = false;\n    let startTime = Date.now();\n    let totalPausedTime = 0; // Общее время, проведенное на паузе\n    let pauseStartTime = 0; // Время начала текущей паузы\n    // Function to start auto-hide timer\n    const startAutoHideTimer = ()=>{\n        if (isDestroyed || isPaused) return;\n        const elapsed = Date.now() - startTime - totalPausedTime;\n        const remaining = Math.max(0, duration - elapsed);\n        if (remaining <= 0) {\n            $e6c79a397e222007$export$49ee64cc8ae40679(toast);\n            return;\n        }\n        // Clear any existing timeout\n        if (autoHideTimeout) clearTimeout(autoHideTimeout);\n        autoHideTimeout = setTimeout(()=>{\n            if (!isDestroyed && !isPaused) $e6c79a397e222007$export$49ee64cc8ae40679(toast);\n        }, remaining);\n    };\n    // Function to pause toast\n    const pauseToast = ()=>{\n        if (isPaused || isDestroyed) return;\n        isPaused = true;\n        pauseStartTime = Date.now();\n        // Pause progress bar animation\n        const progressBar = toast.querySelector('.toast-progress');\n        if (progressBar) progressBar.style.animationPlayState = 'paused';\n        // Clear timer\n        if (autoHideTimeout) {\n            clearTimeout(autoHideTimeout);\n            autoHideTimeout = null;\n        }\n    };\n    // Function to resume toast\n    const resumeToast = ()=>{\n        if (!isPaused || isDestroyed) return;\n        // Add current pause duration to total paused time\n        totalPausedTime += Date.now() - pauseStartTime;\n        isPaused = false;\n        // Resume progress bar animation\n        const progressBar = toast.querySelector('.toast-progress');\n        if (progressBar) progressBar.style.animationPlayState = 'running';\n        // Restart timer for remaining time\n        startAutoHideTimer();\n    };\n    // Setup hover effects - isolated for this specific toast\n    let isHovered = false;\n    const handleMouseEnter = ()=>{\n        if (isHovered || isDestroyed) return;\n        isHovered = true;\n        pauseToast();\n    };\n    const handleMouseLeave = ()=>{\n        if (!isHovered || isDestroyed) return;\n        isHovered = false;\n        resumeToast();\n    };\n    // Bind events to this specific toast element\n    toast.addEventListener('mouseenter', handleMouseEnter);\n    toast.addEventListener('mouseleave', handleMouseLeave);\n    // Cleanup function - isolated for this toast instance\n    const cleanup = ()=>{\n        isDestroyed = true;\n        if (autoHideTimeout) {\n            clearTimeout(autoHideTimeout);\n            autoHideTimeout = null;\n        }\n        toast.removeEventListener('mouseenter', handleMouseEnter);\n        toast.removeEventListener('mouseleave', handleMouseLeave);\n    };\n    // Store cleanup function\n    toast._cleanup = cleanup;\n    // Start initial timer\n    startAutoHideTimer();\n    return toast;\n};\n/**\r\n * Hide toast notification\r\n * @param {HTMLElement} toast - Toast element to hide\r\n */ const $e6c79a397e222007$export$49ee64cc8ae40679 = (toast)=>{\n    if (!toast || !toast.parentNode) return;\n    // Call cleanup function if it exists\n    if (typeof toast._cleanup === 'function') toast._cleanup();\n    // Clear timeout if exists\n    if (toast.dataset.timeoutId) clearTimeout(parseInt(toast.dataset.timeoutId));\n    // Add hide animation\n    toast.classList.add('toast-hide');\n    // Remove from DOM after animation\n    setTimeout(()=>{\n        if (toast.parentNode) toast.parentNode.removeChild(toast);\n    }, 300); // Match CSS transition duration\n};\n\n\n// ==========================================================================\n// Analytics Module\n// ==========================================================================\n/**\r\n * Get client IP address\r\n * @returns {Promise<string>} - Client IP\r\n */ const $c2689a35442517bd$export$15fbeedb50c4115d = async ()=>{\n    try {\n        const response = await fetch('https://api.ipify.org?format=json');\n        const data = await response.json();\n        return data.ip;\n    } catch (error) {\n        return \"\\u041D\\u0435 \\u043E\\u043F\\u0440\\u0435\\u0434\\u0435\\u043B\\u0435\\u043D\";\n    }\n};\nconst $c2689a35442517bd$export$40d1553a779d3c84 = ()=>{\n    const urlParams = new URLSearchParams(window.location.search);\n    const utmParams = {};\n    for (let [key, value] of urlParams.entries())if (key.startsWith('utm_')) utmParams[key] = value;\n    return utmParams;\n};\nconst $c2689a35442517bd$export$a5202107d3e3cdb0 = ()=>{\n    const userAgent = navigator.userAgent || '';\n    const isIPadDesktopUA = navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1;\n    const isAndroid = /Android/i.test(userAgent);\n    const isIPhone = /iPhone/i.test(userAgent);\n    const isIPad = /iPad/i.test(userAgent) || isIPadDesktopUA;\n    const isIOSLike = /iPhone|iPad|iPod/i.test(userAgent) || isIPadDesktopUA;\n    const isMobile = isAndroid && /Mobile/i.test(userAgent) || isIPhone || !!navigator.userAgentData && navigator.userAgentData.mobile === true;\n    const isTablet = isIPad || isAndroid && !/Mobile/i.test(userAgent);\n    const screenMin = Math.min(screen.width, screen.height);\n    const screenMax = Math.max(screen.width, screen.height);\n    const dpr = Math.round(window.devicePixelRatio || 1);\n    const screenKey = `${screenMin}x${screenMax}@${dpr}`;\n    function approximateIPhoneModel() {\n        const map = {\n            '320x568@2': 'iPhone SE / 5/5s/5c (approx.)',\n            '375x667@2': 'iPhone 6/6s/7/8/SE 2-3 (approx.)',\n            '414x736@3': 'iPhone 6+/6s+/7+/8+ (approx.)',\n            '375x812@3': 'iPhone X/XS/11 Pro (approx.)',\n            '360x780@3': 'iPhone 12 mini/13 mini (approx.)',\n            '390x844@3': 'iPhone 12/13/14/16e (approx.)',\n            '393x852@3': 'iPhone 14 Pro/15 Pro/16 (approx.)',\n            '402x874@3': 'iPhone 16 Pro (approx.)',\n            '428x926@3': 'iPhone 12/13 Pro Max / 14 Plus (approx.)',\n            '430x932@3': 'iPhone 14 Pro Max / 15 Pro Max / 16 Plus (approx.)',\n            '440x956@3': 'iPhone 16 Pro Max (approx.)'\n        };\n        return map[screenKey] || \"iPhone (\\u043C\\u043E\\u0434\\u0435\\u043B\\u044C \\u043D\\u0435 \\u0440\\u0430\\u0441\\u043F\\u043E\\u0437\\u043D\\u0430\\u043D\\u0430)\";\n    }\n    function guessAndroidBrandFromModel(model) {\n        const m = model || '';\n        if (/POCO/i.test(m)) return 'POCO';\n        if (/Redmi/i.test(m)) return 'Redmi';\n        if (/SM-|SAMSUNG|Samsung|GT-|SCH-|SGH-/i.test(m)) return 'Samsung';\n        if (/ONEPLUS|LE\\d|NE\\d/i.test(m)) return 'OnePlus';\n        if (/Pixel|Nexus|Google/i.test(m)) return 'Google';\n        if (/HUAWEI|Huawei|HONOR|Honor|EVA-|VOG-|LYA-|CLT-|ANE-/i.test(m)) return /HONOR|Honor/i.test(m) ? 'Honor' : 'Huawei';\n        if (/CPH\\d|OPPO|P[A-Z]\\d{3}/i.test(m)) return 'OPPO';\n        if (/Vivo|V\\d{3}/i.test(m)) return 'Vivo';\n        if (/RMX\\d|Realme/i.test(m)) return 'Realme';\n        if (/Moto|Motorola|XT\\d/i.test(m)) return 'Motorola';\n        if (/ASUS|ROG|AI\\d/i.test(m)) return 'ASUS';\n        if (/Sony|XQ-|H\\d{4}/i.test(m)) return 'Sony';\n        if (/Xiaomi|Mi\\s|MIX\\s|M\\d{4}/i.test(m)) return 'Xiaomi';\n        return null;\n    }\n    function extractAndroidModelFromUA(ua) {\n        try {\n            const afterAndroid = ua.split(/Android\\s+[\\d.]+\\s*;\\s*/i)[1];\n            if (!afterAndroid) return null;\n            const untilParen = afterAndroid.split(')')[0];\n            const tokens = untilParen.split(/;\\s*/);\n            const candidate = tokens.find((t)=>{\n                const token = t.trim();\n                if (!token) return false;\n                if (/^[a-z]{2}-[A-Z]{2}$/.test(token)) return false; // locale\n                if (/Build\\//i.test(token)) return false;\n                if (/Linux|U|wv|AppleWebKit|KHTML|Version|Mobile/i.test(token)) return false;\n                if (/^\\d+(?:[._]\\d+)*$/.test(token)) return false; // pure version\n                return /[A-Za-z]/.test(token) && /[0-9A-Za-z-]/.test(token);\n            });\n            return candidate ? candidate.trim() : null;\n        } catch (e) {\n            return null;\n        }\n    }\n    let brand = null;\n    let model = null;\n    let deviceModel = \"\\u041D\\u0435\\u0438\\u0437\\u0432\\u0435\\u0441\\u0442\\u043D\\u043E\\u0435 \\u0443\\u0441\\u0442\\u0440\\u043E\\u0439\\u0441\\u0442\\u0432\\u043E\";\n    let approximationLevel = 'unknown';\n    if (isIPhone) {\n        const exactModelMatch = userAgent.match(/\\(([^;]+);\\s*CPU\\s+iPhone\\s+OS\\s+(\\d+)_(\\d+)/);\n        brand = 'Apple';\n        if (exactModelMatch) {\n            const modelInfo = exactModelMatch[1].trim();\n            const majorVersion = parseInt(exactModelMatch[2]);\n            const minorVersion = parseInt(exactModelMatch[3]);\n            // Если указана конкретная модель, используем её\n            if (modelInfo.includes('iPhone') && modelInfo !== 'iPhone') {\n                model = modelInfo.replace(/^Apple\\s+/i, '');\n                approximationLevel = 'exact';\n            } else {\n                // Если точной модели нет, пробуем определить по экрану\n                const approx = approximateIPhoneModel();\n                if (approx && !/не распознана/i.test(approx)) {\n                    model = approx;\n                    approximationLevel = 'approximate';\n                } else {\n                    model = `iPhone (iOS ${majorVersion}.${minorVersion})`;\n                    approximationLevel = 'approximate';\n                }\n            }\n        } else {\n            // Нет iOS версии в UA — определяем по экрану\n            const approx = approximateIPhoneModel();\n            model = approx;\n            approximationLevel = 'approximate';\n        }\n    } else if (isIPad) {\n        brand = 'Apple';\n        model = 'iPad';\n        approximationLevel = 'approximate';\n    } else if (isAndroid) {\n        const androidModel = extractAndroidModelFromUA(userAgent);\n        if (androidModel) {\n            model = androidModel;\n            const guessed = guessAndroidBrandFromModel(androidModel);\n            brand = guessed || /(Samsung|Xiaomi|Huawei|OnePlus|Google|OPPO|Vivo|Realme|Redmi|POCO)/i.exec(userAgent)?.[1] || null;\n            approximationLevel = 'exact';\n        } else {\n            const match = /(Samsung|Xiaomi|Huawei|OnePlus|Google|OPPO|Vivo|Realme|Redmi|POCO)/i.exec(userAgent);\n            if (match) {\n                brand = match[1];\n                model = `${brand} \\u{443}\\u{441}\\u{442}\\u{440}\\u{43E}\\u{439}\\u{441}\\u{442}\\u{432}\\u{43E}`;\n                approximationLevel = 'approximate';\n            }\n        }\n    } else if (/Windows/i.test(userAgent)) {\n        brand = null;\n        model = 'Windows PC';\n        approximationLevel = 'approximate';\n    } else if (/Macintosh/i.test(userAgent) && !isIPadDesktopUA) {\n        brand = 'Apple';\n        model = 'Mac';\n        approximationLevel = 'approximate';\n    } else if (/Linux/i.test(userAgent)) {\n        brand = null;\n        model = 'Linux PC';\n        approximationLevel = 'approximate';\n    }\n    if (brand && model) {\n        const modelLower = model.toLowerCase();\n        const brandLower = brand.toLowerCase();\n        deviceModel = modelLower.includes(brandLower) ? model : `${brand} ${model}`;\n    } else if (model) deviceModel = model;\n    else if (isIOSLike) deviceModel = isIPhone ? 'iPhone' : 'iPad';\n    else if (isAndroid) deviceModel = \"Android \\u0443\\u0441\\u0442\\u0440\\u043E\\u0439\\u0441\\u0442\\u0432\\u043E\";\n    else deviceModel = \"\\u041D\\u0435 \\u0443\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C \\u043E\\u043F\\u0440\\u0435\\u0434\\u0435\\u043B\\u0438\\u0442\\u044C \\u0443\\u0441\\u0442\\u0440\\u043E\\u0439\\u0441\\u0442\\u0432\\u043E\";\n    // Browser detection\n    let browser = \"\\u041D\\u0435\\u0438\\u0437\\u0432\\u0435\\u0441\\u0442\\u043D\\u044B\\u0439 \\u0431\\u0440\\u0430\\u0443\\u0437\\u0435\\u0440\";\n    if (/YaBrowser|Yowser/i.test(userAgent)) browser = 'Yandex Browser';\n    else if (/Edg\\//i.test(userAgent)) browser = 'Edge';\n    else if (/OPR\\//i.test(userAgent)) browser = 'Opera';\n    else if (/Chrome/i.test(userAgent) && !/Edg\\//i.test(userAgent)) browser = 'Chrome';\n    else if (/Firefox/i.test(userAgent)) browser = 'Firefox';\n    else if (/Safari/i.test(userAgent) && !/Chrome/i.test(userAgent)) browser = 'Safari';\n    // OS version string\n    let osVersion = \"\\u041D\\u0435\\u0438\\u0437\\u0432\\u0435\\u0441\\u0442\\u043D\\u0430\\u044F \\u041E\\u0421\";\n    if (/Windows NT/i.test(userAgent)) {\n        const windowsMatch = userAgent.match(/Windows NT (\\d+\\.\\d+)/);\n        if (windowsMatch) {\n            const version = parseFloat(windowsMatch[1]);\n            osVersion = version >= 10.0 ? 'Windows 11/10' : version >= 6.3 ? 'Windows 8.1' : version >= 6.2 ? 'Windows 8' : version >= 6.1 ? 'Windows 7' : version >= 6.0 ? 'Windows Vista' : \"Windows (\\u0441\\u0442\\u0430\\u0440\\u0430\\u044F \\u0432\\u0435\\u0440\\u0441\\u0438\\u044F)\";\n        } else osVersion = 'Windows';\n    } else if (/Macintosh/i.test(userAgent) && !isIPadDesktopUA) {\n        const macMatch = userAgent.match(/Mac OS X (\\d+[._]\\d+)/);\n        if (macMatch) {\n            const version = macMatch[1].replace('_', '.');\n            const versionNum = parseFloat(version);\n            osVersion = versionNum >= 14.0 ? 'macOS Sonoma (14+)' : versionNum >= 13.0 ? 'macOS Ventura (13+)' : versionNum >= 12.0 ? 'macOS Monterey (12+)' : versionNum >= 11.0 ? 'macOS Big Sur (11+)' : versionNum >= 10.15 ? 'macOS Catalina (10.15)' : versionNum >= 10.14 ? 'macOS Mojave (10.14)' : \"macOS (\\u0441\\u0442\\u0430\\u0440\\u0430\\u044F \\u0432\\u0435\\u0440\\u0441\\u0438\\u044F)\";\n        } else osVersion = 'macOS';\n    } else if (isIOSLike) {\n        const iosMatch = userAgent.match(/OS (\\d+)_?(\\d+)?/);\n        if (iosMatch) {\n            const majorVersion = parseInt(iosMatch[1]);\n            const minorVersion = iosMatch[2] ? parseInt(iosMatch[2]) : undefined;\n            osVersion = `iOS/iPadOS ${majorVersion}${typeof minorVersion === 'number' ? `.${minorVersion}` : ''}`;\n        } else osVersion = isIPadDesktopUA ? 'iPadOS (approx.)' : 'iOS';\n    } else if (isAndroid) {\n        const androidMatch = userAgent.match(/Android (\\d+\\.?\\d*)/);\n        if (androidMatch) {\n            const version = parseFloat(androidMatch[1]);\n            osVersion = version >= 14 ? 'Android 14+' : version >= 13 ? 'Android 13+' : version >= 12 ? 'Android 12+' : version >= 11 ? 'Android 11+' : version >= 10 ? 'Android 10+' : version >= 9 ? 'Android 9+' : \"Android (\\u0441\\u0442\\u0430\\u0440\\u0430\\u044F \\u0432\\u0435\\u0440\\u0441\\u0438\\u044F)\";\n        } else osVersion = 'Android';\n    } else if (/Linux/i.test(userAgent)) osVersion = 'Linux';\n    return {\n        isMobile: isMobile,\n        isTablet: isTablet,\n        isDesktop: !isMobile && !isTablet,\n        deviceModel: deviceModel,\n        brand: brand || \"\\u2014\",\n        model: model || \"\\u2014\",\n        approximation: approximationLevel,\n        browser: browser,\n        osVersion: osVersion,\n        userAgent: userAgent.substring(0, 120) + (userAgent.length > 120 ? \"\\u2026\" : ''),\n        screenResolution: `${screen.width}x${screen.height}`,\n        language: navigator.language,\n        timezone: Intl.DateTimeFormat().resolvedOptions().timeZone\n    };\n};\n/**\r\n * Get session information\r\n * @returns {Object} - Session info\r\n */ // ----------------------------------------------------------------------------\n// Persistence helpers (handle iOS tab discard / reload)\n// ----------------------------------------------------------------------------\nconst $c2689a35442517bd$var$getOrInitTabId = ()=>{\n    try {\n        if (!window.name || !window.name.startsWith('tab:')) window.name = `tab:${Math.random().toString(36).slice(2)}-${Date.now()}`;\n        return window.name;\n    } catch (_) {\n        return 'tab:unknown';\n    }\n};\nconst $c2689a35442517bd$var$getAccActivePersistKey = ()=>`accActiveMs:${$c2689a35442517bd$var$getOrInitTabId()}`;\nconst $c2689a35442517bd$var$readPersistedAccActiveMs = ()=>{\n    try {\n        const key = $c2689a35442517bd$var$getAccActivePersistKey();\n        const value = localStorage.getItem(key);\n        if (value != null) return parseInt(value) || 0;\n        // Legacy/global fallback\n        const legacy = localStorage.getItem('accActiveMsPersist');\n        return legacy != null ? parseInt(legacy) || 0 : 0;\n    } catch (_) {\n        return 0;\n    }\n};\nconst $c2689a35442517bd$var$writePersistedAccActiveMs = (ms)=>{\n    try {\n        const normalized = Math.max(0, ms | 0);\n        localStorage.setItem($c2689a35442517bd$var$getAccActivePersistKey(), String(normalized));\n        // Keep a global backup to survive even if tab id changes\n        localStorage.setItem('accActiveMsPersist', String(normalized));\n    } catch (_) {}\n};\nconst $c2689a35442517bd$export$28055d25e3f96ec1 = ()=>{\n    // Read accumulated active time (in ms) and estimate up to idle threshold\n    const IDLE_THRESHOLD_MS = 30000; // 30s of inactivity switches to idle\n    // Fallback to localStorage backup in case iOS discarded the page (sessionStorage lost)\n    const accumulatedActiveMs = parseInt(sessionStorage.getItem('accActiveMs') || (typeof $c2689a35442517bd$var$readPersistedAccActiveMs === 'function' ? String($c2689a35442517bd$var$readPersistedAccActiveMs()) : '0') || '0');\n    const lastEventTs = parseInt(sessionStorage.getItem('lastEventTs') || '0');\n    const isIdle = sessionStorage.getItem('isIdle') === '1';\n    let activeMs = accumulatedActiveMs;\n    if (!isIdle && lastEventTs) {\n        // Add recent activity since last event, capped by idle threshold\n        const delta = Date.now() - lastEventTs;\n        activeMs += Math.max(0, Math.min(delta, IDLE_THRESHOLD_MS));\n    }\n    const timeOnSite = Math.max(Math.floor(activeMs / 1000), 0);\n    const visitCount = parseInt(localStorage.getItem('visitCount') || '1');\n    const lastVisit = localStorage.getItem('lastVisit');\n    return {\n        timeOnSite: `${Math.floor(timeOnSite / 60)}\\u{43C} ${timeOnSite % 60}\\u{441}`,\n        visitCount: visitCount,\n        lastVisit: lastVisit ? new Date(parseInt(lastVisit)).toLocaleDateString('ru-RU') : \"\\u041F\\u0435\\u0440\\u0432\\u043E\\u0435 \\u043F\\u043E\\u0441\\u0435\\u0449\\u0435\\u043D\\u0438\\u0435\",\n        currentPage: window.location.pathname,\n        referrer: document.referrer || \"\\u041F\\u0440\\u044F\\u043C\\u043E\\u0439 \\u043F\\u0435\\u0440\\u0435\\u0445\\u043E\\u0434\"\n    };\n};\n/**\r\n * Initialize session tracking and activity listeners\r\n */ // ----------------------------------------------------------------------------\n// Active time tracking (pure time on site)\n// ----------------------------------------------------------------------------\nconst $c2689a35442517bd$var$IDLE_THRESHOLD_MS = 30000; // 30 seconds of inactivity -> idle\nlet $c2689a35442517bd$var$__idleTimerId = null;\nconst $c2689a35442517bd$var$scheduleIdleTimer = ()=>{\n    if ($c2689a35442517bd$var$__idleTimerId) clearTimeout($c2689a35442517bd$var$__idleTimerId);\n    $c2689a35442517bd$var$__idleTimerId = setTimeout(()=>{\n        try {\n            const last = parseInt(sessionStorage.getItem('lastEventTs') || '0');\n            if (!last) {\n                sessionStorage.setItem('isIdle', '1');\n                sessionStorage.setItem('lastEventTs', Date.now().toString());\n                // persist current accumulated value\n                const acc = parseInt(sessionStorage.getItem('accActiveMs') || '0');\n                $c2689a35442517bd$var$writePersistedAccActiveMs(acc);\n                return;\n            }\n            const now = Date.now();\n            const delta = now - last;\n            const addMs = Math.max(0, Math.min(delta, $c2689a35442517bd$var$IDLE_THRESHOLD_MS));\n            const acc = parseInt(sessionStorage.getItem('accActiveMs') || '0');\n            const newAcc = acc + addMs;\n            sessionStorage.setItem('accActiveMs', String(newAcc));\n            $c2689a35442517bd$var$writePersistedAccActiveMs(newAcc);\n            sessionStorage.setItem('isIdle', '1');\n            sessionStorage.setItem('lastEventTs', String(now));\n        } catch (_) {}\n    }, $c2689a35442517bd$var$IDLE_THRESHOLD_MS);\n};\nconst $c2689a35442517bd$var$handleActivity = ()=>{\n    try {\n        const now = Date.now();\n        const last = parseInt(sessionStorage.getItem('lastEventTs') || String(now));\n        const wasIdle = sessionStorage.getItem('isIdle') === '1';\n        if (!wasIdle) {\n            const delta = now - last;\n            if (delta > 0) {\n                const acc = parseInt(sessionStorage.getItem('accActiveMs') || '0');\n                const addMs = Math.max(0, Math.min(delta, $c2689a35442517bd$var$IDLE_THRESHOLD_MS));\n                const newAcc = acc + addMs;\n                sessionStorage.setItem('accActiveMs', String(newAcc));\n                $c2689a35442517bd$var$writePersistedAccActiveMs(newAcc);\n            }\n        } else // Transition from idle to active\n        sessionStorage.setItem('isIdle', '0');\n        sessionStorage.setItem('lastEventTs', String(now));\n    } catch (_) {}\n    $c2689a35442517bd$var$scheduleIdleTimer();\n};\nconst $c2689a35442517bd$var$forceFlushActiveTime = ()=>{\n    try {\n        const isIdle = sessionStorage.getItem('isIdle') === '1';\n        const last = parseInt(sessionStorage.getItem('lastEventTs') || '0');\n        if (!isIdle && last) {\n            const now = Date.now();\n            const delta = now - last;\n            const addMs = Math.max(0, Math.min(delta, $c2689a35442517bd$var$IDLE_THRESHOLD_MS));\n            const acc = parseInt(sessionStorage.getItem('accActiveMs') || '0');\n            const newAcc = acc + addMs;\n            sessionStorage.setItem('accActiveMs', String(newAcc));\n            $c2689a35442517bd$var$writePersistedAccActiveMs(newAcc);\n            sessionStorage.setItem('lastEventTs', String(now));\n        }\n    } catch (_) {}\n};\nconst $c2689a35442517bd$export$e1ffb6ba450b0317 = ()=>{\n    // Ensure tab id exists early and preload persisted acc time if sessionStorage was wiped\n    const persistedAcc = $c2689a35442517bd$var$readPersistedAccActiveMs();\n    // Core session info\n    if (!sessionStorage.getItem('sessionStartTime')) sessionStorage.setItem('sessionStartTime', Date.now().toString());\n    if (!sessionStorage.getItem('accActiveMs')) sessionStorage.setItem('accActiveMs', String(persistedAcc));\n    sessionStorage.setItem('lastEventTs', Date.now().toString());\n    sessionStorage.setItem('isIdle', '0');\n    // Persist immediately to align storages\n    try {\n        $c2689a35442517bd$var$writePersistedAccActiveMs(parseInt(sessionStorage.getItem('accActiveMs') || '0'));\n    } catch (_) {}\n    // Visit stats\n    const visitCount = parseInt(localStorage.getItem('visitCount') || '0') + 1;\n    localStorage.setItem('visitCount', visitCount.toString());\n    localStorage.setItem('lastVisit', Date.now().toString());\n    // Unique pages in this session\n    const viewedPages = JSON.parse(sessionStorage.getItem('viewedPages') || '[]');\n    const currentPage = window.location.pathname;\n    if (!viewedPages.includes(currentPage)) {\n        viewedPages.push(currentPage);\n        sessionStorage.setItem('viewedPages', JSON.stringify(viewedPages));\n    }\n    // Activity listeners (pure time tracking)\n    const activityEvents = [\n        'pointerdown',\n        'pointerup',\n        'mousemove',\n        'keydown',\n        'scroll',\n        'touchstart',\n        'click',\n        'wheel'\n    ];\n    activityEvents.forEach((evt)=>{\n        document.addEventListener(evt, $c2689a35442517bd$var$handleActivity, {\n            passive: true\n        });\n    });\n    // Visibility/focus handling\n    document.addEventListener('visibilitychange', ()=>{\n        if (document.hidden) {\n            // Go idle immediately and flush up to threshold since last event\n            if ($c2689a35442517bd$var$__idleTimerId) clearTimeout($c2689a35442517bd$var$__idleTimerId);\n            try {\n                const last = parseInt(sessionStorage.getItem('lastEventTs') || '0');\n                const now = Date.now();\n                if (last) {\n                    const delta = now - last;\n                    const addMs = Math.max(0, Math.min(delta, $c2689a35442517bd$var$IDLE_THRESHOLD_MS));\n                    const acc = parseInt(sessionStorage.getItem('accActiveMs') || '0');\n                    const newAcc = acc + addMs;\n                    sessionStorage.setItem('accActiveMs', String(newAcc));\n                    $c2689a35442517bd$var$writePersistedAccActiveMs(newAcc);\n                }\n                sessionStorage.setItem('isIdle', '1');\n                sessionStorage.setItem('lastEventTs', String(Date.now()));\n            } catch (_) {}\n        } else $c2689a35442517bd$var$handleActivity();\n    });\n    window.addEventListener('blur', ()=>{\n        if ($c2689a35442517bd$var$__idleTimerId) clearTimeout($c2689a35442517bd$var$__idleTimerId);\n        try {\n            const last = parseInt(sessionStorage.getItem('lastEventTs') || '0');\n            const now = Date.now();\n            if (last) {\n                const delta = now - last;\n                const addMs = Math.max(0, Math.min(delta, $c2689a35442517bd$var$IDLE_THRESHOLD_MS));\n                const acc = parseInt(sessionStorage.getItem('accActiveMs') || '0');\n                const newAcc = acc + addMs;\n                sessionStorage.setItem('accActiveMs', String(newAcc));\n                $c2689a35442517bd$var$writePersistedAccActiveMs(newAcc);\n            }\n            sessionStorage.setItem('isIdle', '1');\n            sessionStorage.setItem('lastEventTs', String(Date.now()));\n        } catch (_) {}\n    });\n    window.addEventListener('focus', ()=>$c2689a35442517bd$var$handleActivity());\n    // Flush active time when leaving\n    window.addEventListener('beforeunload', ()=>{\n        $c2689a35442517bd$var$forceFlushActiveTime();\n    });\n    // iOS Safari often fires pagehide/pageshow and can discard bfcache/state\n    window.addEventListener('pagehide', ()=>{\n        try {\n            $c2689a35442517bd$var$forceFlushActiveTime();\n            const acc = parseInt(sessionStorage.getItem('accActiveMs') || '0');\n            $c2689a35442517bd$var$writePersistedAccActiveMs(acc);\n        } catch (_) {}\n    });\n    window.addEventListener('pageshow', (evt)=>{\n        try {\n            // If the page was restored from BFCache, keep going; if it was a new load after discard, restore acc time\n            if (evt.persisted) // Just resume timers\n            $c2689a35442517bd$var$handleActivity();\n            else {\n                // New context; restore from persistence\n                const restored = $c2689a35442517bd$var$readPersistedAccActiveMs();\n                const current = parseInt(sessionStorage.getItem('accActiveMs') || '0');\n                if (restored > current) sessionStorage.setItem('accActiveMs', String(restored));\n                $c2689a35442517bd$var$handleActivity();\n            }\n        } catch (_) {}\n    });\n    // Start idle timer\n    $c2689a35442517bd$var$scheduleIdleTimer();\n};\nconst $c2689a35442517bd$export$905c141cdcfadb4c = async ()=>{\n    const deviceInfo = $c2689a35442517bd$export$a5202107d3e3cdb0();\n    const sessionInfo = $c2689a35442517bd$export$28055d25e3f96ec1();\n    const utmParams = $c2689a35442517bd$export$40d1553a779d3c84();\n    const clientIP = await $c2689a35442517bd$export$15fbeedb50c4115d();\n    return {\n        deviceInfo: deviceInfo,\n        sessionInfo: sessionInfo,\n        utmParams: utmParams,\n        clientIP: clientIP\n    };\n};\nconst $c2689a35442517bd$export$304be620a6f87756 = ({ deviceInfo: deviceInfo, sessionInfo: sessionInfo, utmParams: utmParams, clientIP: clientIP })=>{\n    let res = '';\n    if (utmParams && Object.keys(utmParams).length > 0) {\n        res += `\n\n<b>\\u{1F4C8} UTM \\u{43C}\\u{435}\\u{442}\\u{43A}\\u{438}:</b>`;\n        Object.entries(utmParams).forEach(([key, value])=>{\n            const utmName = key.replace('utm_', '').replace(/\\b\\w/g, (l)=>l.toUpperCase());\n            res += `\\n${utmName}: <b>${value}</b>`;\n        });\n    }\n    res += `\n\n<i>\\u{418}\\u{43D}\\u{444}\\u{43E}\\u{440}\\u{43C}\\u{430}\\u{446}\\u{438}\\u{44F} \\u{43E} \\u{43F}\\u{43E}\\u{441}\\u{435}\\u{442}\\u{438}\\u{442}\\u{435}\\u{43B}\\u{435}:</i>`;\n    res += `\n\\u{412}\\u{440}\\u{435}\\u{43C}\\u{44F} \\u{43E}\\u{442}\\u{43F}\\u{440}\\u{430}\\u{432}\\u{43A}\\u{438}: ${new Date().toLocaleString('ru-RU')}; `;\n    res += `\\u{423}\\u{441}\\u{442}\\u{440}\\u{43E}\\u{439}\\u{441}\\u{442}\\u{432}\\u{43E}: ${deviceInfo.isMobile ? \"\\u041C\\u043E\\u0431\\u0438\\u043B\\u044C\\u043D\\u043E\\u0435\" : deviceInfo.isTablet ? \"\\u041F\\u043B\\u0430\\u043D\\u0448\\u0435\\u0442\" : \"\\u0414\\u0435\\u0441\\u043A\\u0442\\u043E\\u043F\"}; `;\n    res += `\\u{41C}\\u{43E}\\u{434}\\u{435}\\u{43B}\\u{44C}: ${deviceInfo.deviceModel}; `;\n    res += `\\u{411}\\u{440}\\u{430}\\u{443}\\u{437}\\u{435}\\u{440}: ${deviceInfo.browser}; `;\n    res += `\\u{41E}\\u{421}: ${deviceInfo.osVersion}; `;\n    res += `\\u{420}\\u{430}\\u{437}\\u{440}\\u{435}\\u{448}\\u{435}\\u{43D}\\u{438}\\u{435}: ${deviceInfo.screenResolution}; `;\n    res += `\\u{42F}\\u{437}\\u{44B}\\u{43A}: ${deviceInfo.language}; `;\n    res += `\\u{23F1}\\u{FE0F} \\u{412}\\u{440}\\u{435}\\u{43C}\\u{44F} \\u{43D}\\u{430} \\u{441}\\u{430}\\u{439}\\u{442}\\u{435}: <b>${sessionInfo.timeOnSite}</b>; `;\n    res += `\\u{1F465} \\u{41F}\\u{43E}\\u{441}\\u{435}\\u{449}\\u{435}\\u{43D}\\u{438}\\u{439}: <b>${sessionInfo.visitCount}</b>; `;\n    res += `\\u{1F517} \\u{418}\\u{441}\\u{442}\\u{43E}\\u{447}\\u{43D}\\u{438}\\u{43A}: <b>${sessionInfo.referrer}</b>; `;\n    res += `IP: ${clientIP};`;\n    return res;\n};\n\n\nconst $060b6401bd8f1882$var$isDevelopment = false;\nconst $060b6401bd8f1882$var$TELEGRAM_CONFIG = {\n    t1: '6368637668',\n    t2: 'AAGa4ngnyHcZrLVwRCIMB3XFlE1dFzCPv_0',\n    chatId: '-1001961313866',\n    mode: 'html',\n    get token () {\n        return `${this.t1}:${this.t2}`;\n    }\n};\nconst $060b6401bd8f1882$var$FORM_SENDED_KEY = 'formSended';\nconst $060b6401bd8f1882$var$FORM_SENDED_AT_KEY = 'formSendedAt';\nconst $060b6401bd8f1882$var$FORM_SENDED_TTL_MS = 7200000; // 2 hours\n/**\n * Check if form was sent recently (within TTL period)\n */ const $060b6401bd8f1882$var$isFormSendedFresh = ()=>{\n    try {\n        const flag = localStorage.getItem($060b6401bd8f1882$var$FORM_SENDED_KEY) === 'true';\n        if (!flag) return false;\n        const timestamp = parseInt(localStorage.getItem($060b6401bd8f1882$var$FORM_SENDED_AT_KEY) || '0', 10);\n        const now = Date.now();\n        if (!Number.isFinite(timestamp) || now - timestamp > $060b6401bd8f1882$var$FORM_SENDED_TTL_MS) {\n            // Clear expired data\n            localStorage.removeItem($060b6401bd8f1882$var$FORM_SENDED_KEY);\n            localStorage.removeItem($060b6401bd8f1882$var$FORM_SENDED_AT_KEY);\n            return false;\n        }\n        return true;\n    } catch (_) {\n        return false;\n    }\n};\n/**\n * Set form as sent with current timestamp\n */ const $060b6401bd8f1882$var$setFormSended = ()=>{\n    try {\n        localStorage.setItem($060b6401bd8f1882$var$FORM_SENDED_KEY, 'true');\n        localStorage.setItem($060b6401bd8f1882$var$FORM_SENDED_AT_KEY, Date.now().toString());\n    } catch (_) {}\n    $060b6401bd8f1882$var$isFormSent = true;\n};\nlet $060b6401bd8f1882$var$isFormSent = $060b6401bd8f1882$var$isFormSendedFresh();\nconst $060b6401bd8f1882$var$showGiftDelay = 20000;\nconst $060b6401bd8f1882$var$showCallbackFormDelay = 15000;\nconst $060b6401bd8f1882$var$CRMName = 'LeadTrackerCRM';\n// Form field configurations\nconst $060b6401bd8f1882$var$FIELD_CONFIG = {\n    tel: \"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\",\n    name: \"\\u0418\\u043C\\u044F\",\n    email: \"Email (\\u041D\\u0435\\u043E\\u0431\\u044F\\u0437\\u0430\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E)\"\n};\n// Form types configuration\nconst $060b6401bd8f1882$var$FORM_TYPES = {\n    modal: 'modalForm',\n    onPage: 'onPageForm',\n    callback: 'callbackForm',\n    giftForm: 'giftForm'\n};\n// ==========================================================================\n// Utilities (integrated from utils.js)\n// ==========================================================================\n/**\n * Phone input mask\n * 79991234567 → +7 (999) 123-45-67\n */ const $060b6401bd8f1882$var$formatPhoneInput = (e)=>{\n    const val = e.target.value;\n    // Очищаем номер от всех символов кроме цифр\n    const digits = val.replace(/\\D/g, '');\n    // Используем регулярное выражение для извлечения кода оператора и номера\n    const match = digits.match(/(7|8)?(\\d{0,3})(\\d{0,3})(\\d{0,2})(\\d{0,2})/);\n    let result = '+7 ';\n    if (match[2]) {\n        result += '(' + match[2];\n        if (match[2] && match[3]) result += ')';\n    }\n    if (match[3]) result += ' ' + match[3];\n    if (match[4]) result += ' ' + match[4];\n    if (match[5]) result += '-' + match[5];\n    e.target.value = result;\n};\n/**\n * Format phone number\n * +7 (999) 123-45-67 → +79991234567\n * 7 (999) 123-45-67 → +79991234567\n * etc\n */ const $060b6401bd8f1882$var$formatPhoneForMessage = (phone)=>{\n    // Очищаем номер от всех символов кроме цифр\n    const digits = phone.replace(/\\D/g, '');\n    // Используем логику для формата +7\n    if (digits.startsWith('7') || digits.startsWith('8')) return '+7' + digits.substring(1);\n    else if (digits.startsWith('9') && digits.length === 10) return '+7' + digits;\n    else if (phone.startsWith('+7')) return phone;\n    else return '+7' + digits;\n};\n/**\n * Validate phone number\n */ const $060b6401bd8f1882$var$validatePhone = (phone)=>{\n    // Очищаем номер от всех символов кроме цифр\n    const digits = phone.replace(/\\D/g, '');\n    // Проверяем базовый формат российского номера\n    const regex = /^(\\+7|7|8)?[\\s\\-]?\\(?[489][0-9]{2}\\)?[\\s\\-]?[0-9]{3}[\\s\\-]?[0-9]{2}[\\s\\-]?[0-9]{2}$/;\n    if (!regex.test(phone)) return false;\n    let operatorCode;\n    if (digits.startsWith('7') || digits.startsWith('8')) operatorCode = digits.substring(1, 4);\n    else if (digits.startsWith('9')) operatorCode = digits.substring(0, 3);\n    else return false;\n    // Проверяем, что код оператора начинается с 9\n    if (!operatorCode.startsWith('9')) return false;\n    return true;\n};\n/**\n * Get field display name\n */ const $060b6401bd8f1882$var$getFieldName = (key)=>{\n    return $060b6401bd8f1882$var$FIELD_CONFIG[key] || key;\n};\n// ==========================================================================\n// Telegram Bot Integration\n// ==========================================================================\n/**\n * Send message to Telegram bot\n */ const $060b6401bd8f1882$var$sendToTelegram = ({ message: message, formType: formType })=>{\n    const { token: token, chatId: chatId, mode: mode } = $060b6401bd8f1882$var$TELEGRAM_CONFIG;\n    const encodedMessage = encodeURIComponent(message);\n    const url = `https://api.telegram.org/bot${token}/sendMessage?chat_id=${chatId}&parse_mode=${mode}&text=${encodedMessage}`;\n    fetch(url).then((res)=>res.json()).then((res)=>{\n        // console.log('Telegram API response:', res);\n        if (res.ok) {\n            $060b6401bd8f1882$var$handleSubmissionSuccess(formType);\n            $060b6401bd8f1882$var$setFormSended();\n            $060b6401bd8f1882$var$triggerMetrikaSubmitGoal(formType.type);\n        }\n    }).catch((error)=>{\n        console.error('Telegram API error:', error);\n        $060b6401bd8f1882$var$handleSubmissionError(formType);\n    });\n};\n/**\n * Fallback for development/testing\n */ const $060b6401bd8f1882$var$sendToTelegramFake = ({ message: message, formType: formType })=>{\n    $060b6401bd8f1882$var$setFormSended();\n    console.group(`\\u{1F4CB} \\u{424}\\u{41E}\\u{420}\\u{41C}\\u{410} \\u{41E}\\u{422}\\u{41F}\\u{420}\\u{410}\\u{412}\\u{41B}\\u{415}\\u{41D}\\u{410} (DEV MODE)`);\n    console.log(`\\u{1F4DD} \\u{422}\\u{438}\\u{43F} \\u{444}\\u{43E}\\u{440}\\u{43C}\\u{44B}: ${formType.formLocation}`);\n    console.log(`\\u{1F3F7}\\u{FE0F} Form Type: ${formType.type}`);\n    // Добавляем информацию о триггере\n    if (formType.type === $060b6401bd8f1882$var$FORM_TYPES.modal && formType.triggerSource) {\n        console.log(`\\u{1F3AF} \\u{418}\\u{441}\\u{442}\\u{43E}\\u{447}\\u{43D}\\u{438}\\u{43A} \\u{43A}\\u{43B}\\u{438}\\u{43A}\\u{430}: ${formType.triggerSource}`);\n        console.log(`\\u{1F4CD} \\u{421}\\u{435}\\u{43A}\\u{446}\\u{438}\\u{44F}: ${formType.triggerSection}`);\n    }\n    console.log(`\\u{1F4C4} \\u{421}\\u{43E}\\u{43E}\\u{431}\\u{449}\\u{435}\\u{43D}\\u{438}\\u{435} \\u{434}\\u{43B}\\u{44F} \\u{43E}\\u{442}\\u{43F}\\u{440}\\u{430}\\u{432}\\u{43A}\\u{438}:`);\n    console.log(decodeURI(message));\n    console.groupEnd();\n    // Simulate network delay for realistic testing\n    setTimeout(()=>{\n        console.log(`\\u{2705} \\u{424}\\u{43E}\\u{440}\\u{43C}\\u{430} \\u{443}\\u{441}\\u{43F}\\u{435}\\u{448}\\u{43D}\\u{43E} \"\\u{43E}\\u{442}\\u{43F}\\u{440}\\u{430}\\u{432}\\u{43B}\\u{435}\\u{43D}\\u{430}\" (\\u{438}\\u{43C}\\u{438}\\u{442}\\u{430}\\u{446}\\u{438}\\u{44F})`);\n        $060b6401bd8f1882$var$handleSubmissionSuccess(formType);\n    }, 800);\n};\n/**\n * Smart form sender - automatically chooses real or fake based on environment\n */ const $060b6401bd8f1882$var$sendForm = ({ message: message, formType: formType })=>{\n    if ($060b6401bd8f1882$var$isDevelopment) {\n        console.log('Dev mode - using fake form sending');\n        $060b6401bd8f1882$var$sendToTelegramFake({\n            message: message,\n            formType: formType\n        });\n    } else $060b6401bd8f1882$var$sendToTelegram({\n        message: message,\n        formType: formType\n    });\n};\n// ==========================================================================\n// Yandex Metrika integration\n// ==========================================================================\nconst $060b6401bd8f1882$var$ym = window.ym;\nif (!$060b6401bd8f1882$var$ym) console.log(\"Yandex Metrika \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u0430\");\n/**\n * Trigger Yandex Metrika goals\n */ const $060b6401bd8f1882$var$triggerMetrikaSubmitGoal = (formType)=>{\n    if ($060b6401bd8f1882$var$isDevelopment || !$060b6401bd8f1882$var$ym) return;\n    const goalMap = {\n        [$060b6401bd8f1882$var$FORM_TYPES.modal]: 'new_lid',\n        [$060b6401bd8f1882$var$FORM_TYPES.callback]: 'new_lid',\n        [$060b6401bd8f1882$var$FORM_TYPES.giftForm]: 'new_lid',\n        [$060b6401bd8f1882$var$FORM_TYPES.onPage]: 'new_lid'\n    };\n    const goal = goalMap[formType];\n    if (goal) $060b6401bd8f1882$var$ym(75394450, 'reachGoal', goal);\n    else $060b6401bd8f1882$var$ym(75394450, 'reachGoal', 'new_lid');\n};\nconst $060b6401bd8f1882$var$triggerMetrikaCloseModal = ()=>{\n    if ($060b6401bd8f1882$var$isDevelopment || !$060b6401bd8f1882$var$ym) return;\n    $060b6401bd8f1882$var$ym(75394450, 'reachGoal', 'non-f');\n};\nconst $060b6401bd8f1882$var$triggerMetrikaOpenGiftForm = ()=>{\n    if ($060b6401bd8f1882$var$isDevelopment || !$060b6401bd8f1882$var$ym) return;\n    $060b6401bd8f1882$var$ym(75394450, 'reachGoal', 'cpc_podarok_lid');\n};\n// ==========================================================================\n// Form Processing\n// ==========================================================================\n/**\n * Validate form data\n */ const $060b6401bd8f1882$var$validateFormData = (formData)=>{\n    const validation = {\n        isValid: true,\n        errors: []\n    };\n    for (let [key, value] of formData.entries()){\n        if (key === 'g-recaptcha-response') continue;\n        const trimmedValue = value.trim();\n        // Validation for required fields\n        if (key === 'name') {\n            if (!trimmedValue || trimmedValue.length < 2) {\n                validation.isValid = false;\n                validation.errors.push(\"\\u041F\\u043E\\u0436\\u0430\\u043B\\u0443\\u0439\\u0441\\u0442\\u0430, \\u0443\\u043A\\u0430\\u0436\\u0438\\u0442\\u0435 \\u0432\\u0430\\u0448\\u0435 \\u0438\\u043C\\u044F\");\n            }\n        }\n        if (key === 'tel') {\n            if (!trimmedValue || trimmedValue === '+7' || trimmedValue === '+7 ') {\n                validation.isValid = false;\n                validation.errors.push(\"\\u0423\\u043A\\u0430\\u0436\\u0438\\u0442\\u0435 \\u043D\\u043E\\u043C\\u0435\\u0440 \\u0442\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\\u0430 \\u0434\\u043B\\u044F \\u0441\\u0432\\u044F\\u0437\\u0438\");\n            } else if (!$060b6401bd8f1882$var$validatePhone(trimmedValue)) {\n                validation.isValid = false;\n                validation.errors.push(\"\\u041F\\u0440\\u043E\\u0432\\u0435\\u0440\\u044C\\u0442\\u0435 \\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u044C \\u043D\\u043E\\u043C\\u0435\\u0440\\u0430 \\u0442\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\\u0430\");\n            }\n        }\n    }\n    return validation;\n};\n/**\n * Prepare Telegram message from form data\n */ const $060b6401bd8f1882$var$prepareTelegramMessage = async (formData, formType)=>{\n    let message = `\\u{417}\\u{430}\\u{44F}\\u{432}\\u{43A}\\u{430} \\u{441} <b>${window.location.hostname}</b>\\n\\n`;\n    for (let [key, value] of formData.entries()){\n        if (key === 'g-recaptcha-response') continue;\n        const fieldName = $060b6401bd8f1882$var$getFieldName(key);\n        const trimmedValue = value.trim();\n        if (trimmedValue) {\n            // Специальная обработка для поля телефона\n            if (key === 'tel') {\n                const formattedPhone = $060b6401bd8f1882$var$formatPhoneForMessage(trimmedValue);\n                message += `${fieldName}: <b>${formattedPhone}</b>\\n`;\n            } else message += `${fieldName}: <b>${trimmedValue}</b>\\n`;\n        }\n    }\n    message += `\n<i>\\u{424}\\u{43E}\\u{440}\\u{43C}\\u{430}:</i>\n<b>${formType.formLocation ? `${formType.formLocation}` : ''}</b>`;\n    if (formType.type === $060b6401bd8f1882$var$FORM_TYPES.modal && formType.triggerSource) {\n        message += `\\n<i>${formType.buttonType}: \"${formType.triggerSource}\"</i>`;\n        message += `\n<i>\\u{421}\\u{435}\\u{43A}\\u{446}\\u{438}\\u{44F}: \"${formType.triggerSection}\"</i>`;\n    }\n    // const analytics = await collectAnalyticsInfo();\n    // message += formatAnalyticsMessage(analytics);\n    // message += `\\n\\n<i>Информация подготовлена <b>${CRMName}</b></i>`;\n    return message;\n};\n/**\n * Handle form submission\n */ const $060b6401bd8f1882$var$handleFormSubmit = (formType)=>async (e)=>{\n        e.preventDefault();\n        // reCAPTCHA check for modal forms\n        // if (formType.type === FORM_TYPES.modal && typeof grecaptcha !== 'undefined') {\n        //   const response = grecaptcha.getResponse();\n        //   if (response.length === 0) {\n        //     showToast('Пожалуйста, подтвердите, что вы не робот!', 'error', 8000);\n        //     return false;\n        //   }\n        // }\n        const form = e.target;\n        const formData = new FormData(form);\n        const validation = $060b6401bd8f1882$var$validateFormData(formData);\n        if (!validation.isValid) {\n            $060b6401bd8f1882$var$showFormErrors(validation);\n            return;\n        }\n        const message = await $060b6401bd8f1882$var$prepareTelegramMessage(formData, formType);\n        $060b6401bd8f1882$var$sendForm({\n            message: message,\n            formType: formType\n        });\n    };\n/**\n * Show form validation errors as toast notifications\n */ const $060b6401bd8f1882$var$showFormErrors = (validation)=>{\n    // Create a single, comprehensive error message\n    let errorMessage = '';\n    if (validation.errors.length === 1) errorMessage = validation.errors[0];\n    else {\n        const errorList = validation.errors.map((error)=>`<div style=\"margin: 4px 0; padding-left: 8px;\">\\u{2022} ${error}</div>`).join('');\n        errorMessage = `${errorList}`;\n    }\n    const duration = validation.errors.length > 1 ? 11000 : 6000;\n    (0, $e6c79a397e222007$export$f6cef6fcf9ca4e17)(errorMessage, 'error', duration);\n};\n/**\n * Handle successful form submission\n */ const $060b6401bd8f1882$var$handleSubmissionSuccess = (formType)=>{\n    const { form: form, isModal: isModal } = formType;\n    (0, $e6c79a397e222007$export$f6cef6fcf9ca4e17)(\"\\u0417\\u0430\\u044F\\u0432\\u043A\\u0430 \\u0443\\u0441\\u043F\\u0435\\u0448\\u043D\\u043E \\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0430! \\u041C\\u044B \\u0441\\u0432\\u044F\\u0436\\u0435\\u043C\\u0441\\u044F \\u0441&nbsp;\\u0432\\u0430\\u043C\\u0438 \\u0432&nbsp;\\u0431\\u043B\\u0438\\u0436\\u0430\\u0439\\u0448\\u0435\\u0435 \\u0432\\u0440\\u0435\\u043C\\u044F.\", 'success', 18000);\n    if (isModal) {\n        $060b6401bd8f1882$var$updateModalSuccessTag(form);\n        setTimeout(()=>{\n            $060b6401bd8f1882$var$hideModal(form);\n            $060b6401bd8f1882$var$formReset(form);\n        }, 1000);\n    } else $060b6401bd8f1882$var$formReset(form);\n};\n/**\n * Handle form submission error\n */ const $060b6401bd8f1882$var$handleSubmissionError = (formType)=>{\n    const { form: form, isModal: isModal } = formType;\n    (0, $e6c79a397e222007$export$f6cef6fcf9ca4e17)(\"\\u041F\\u0440\\u043E\\u0438\\u0437\\u043E\\u0448\\u043B\\u0430 \\u043E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u043F\\u0440\\u0438 \\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043A\\u0435 \\u0437\\u0430\\u044F\\u0432\\u043A\\u0438. \\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439\\u0442\\u0435 \\u043F\\u043E\\u0437\\u0436\\u0435 \\u0438\\u043B\\u0438 \\u043F\\u043E\\u0437\\u0432\\u043E\\u043D\\u0438\\u0442\\u0435 \\u043D\\u0430\\u043C \\u043F\\u043E \\u0442\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\\u0443 +7 (4842) 23-00-15\", 'error', 18000);\n    if (isModal) setTimeout(()=>{\n        $060b6401bd8f1882$var$hideModal(form);\n        $060b6401bd8f1882$var$formReset(form);\n    }, 1000);\n    else $060b6401bd8f1882$var$formReset(form);\n};\nconst $060b6401bd8f1882$var$formReset = (form)=>{\n    const formTag = form.nodeName === 'FORM' ? form : form.querySelector('.contact-form');\n    if (!formTag) return;\n    // Reset form\n    formTag.reset();\n    const phoneInput = formTag.querySelector('input[type=\"tel\"]');\n    if (phoneInput) phoneInput.value = '+7 ';\n};\n// ==========================================================================\n// Modal System\n// ==========================================================================\n/**\n * Update modal content with success tag if form was sent\n */ const $060b6401bd8f1882$var$updateModalSuccessTag = (modal)=>{\n    $060b6401bd8f1882$var$isFormSent = $060b6401bd8f1882$var$isFormSendedFresh();\n    const formContent = modal.querySelector('.form-content .form-header');\n    const existingTag = modal.querySelector('.form-tag');\n    // Remove existing tag if present\n    if (existingTag) existingTag.remove();\n    // Add success tag if form was sent\n    if ($060b6401bd8f1882$var$isFormSent && formContent) {\n        const tagElement = `\n      <div class=\"form-tag form-tag--success-modal\">\n        <svg width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" fill=\"none\">\n          <path d=\"M1 5.35L4.75 9.25L11 2.75\" stroke=\"#2BB109\" stroke-width=\"2\"></path>\n        </svg>\n        <span>\\u{417}\\u{430}\\u{44F}\\u{432}\\u{43A}\\u{430} \\u{43E}\\u{442}\\u{43F}\\u{440}\\u{430}\\u{432}\\u{43B}\\u{435}\\u{43D}\\u{430}! \\u{41C}\\u{44B} \\u{441}\\u{43A}\\u{43E}\\u{440}\\u{43E} \\u{441}\\u{432}\\u{44F}\\u{436}\\u{435}\\u{43C}\\u{441}\\u{44F} \\u{441} \\u{432}\\u{430}\\u{43C}\\u{438}</span>\n      </div>\n    `;\n        formContent.insertAdjacentHTML('afterbegin', tagElement);\n    }\n};\nfunction $060b6401bd8f1882$export$dcc7b70fba9bea24(formId, fields, options = {}) {\n    const form = document.getElementById(formId);\n    if (!form) {\n        console.warn(`Form with ID \"${formId}\" not found`);\n        return;\n    }\n    const formType = {\n        type: $060b6401bd8f1882$var$FORM_TYPES.onPage,\n        fields: fields,\n        isModal: false,\n        options: options,\n        form: form,\n        formLocation: options.formLocation || \"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u043D\\u0430\\u044F \\u0444\\u043E\\u0440\\u043C\\u0430\"\n    };\n    $060b6401bd8f1882$var$createLocalForm(formType);\n}\nconst $060b6401bd8f1882$var$createLocalForm = (formType)=>{\n    const { form: form } = formType;\n    const phoneInput = form.querySelector('input[type=\"tel\"]');\n    if (phoneInput) phoneInput.addEventListener('input', $060b6401bd8f1882$var$formatPhoneInput);\n    form.addEventListener('submit', $060b6401bd8f1882$var$handleFormSubmit(formType));\n};\n/**\n * Initialize modal form system\n */ const $060b6401bd8f1882$var$initializeModalForm = (type, options = {})=>{\n    const formType = {\n        type: type,\n        isModal: true,\n        form: null,\n        buttonType: '',\n        formLocation: options.formLocation || \"\\u041C\\u043E\\u0434\\u0430\\u043B\\u044C\\u043D\\u0430\\u044F \\u0444\\u043E\\u0440\\u043C\\u0430 (\\u0432\\u0441\\u043F\\u043B\\u044B\\u0432\\u0430\\u044E\\u0449\\u0430\\u044F)\",\n        triggerSource: '',\n        triggerSection: ''\n    };\n    $060b6401bd8f1882$var$createModalForm(formType);\n};\nvar $d7ab04b40f31cbd3$exports = {};\n$d7ab04b40f31cbd3$exports = $parcel$resolve(\"8BHOp\");\n\n\n/**\n * Create modal form\n */ const $060b6401bd8f1882$var$createModalForm = (formType)=>{\n    const formTemplates = {\n        [$060b6401bd8f1882$var$FORM_TYPES.modal]: `\n    <div class='modal-container modal-container--default-form'>\n      <div class='modal-close modal-close-icon'></div>\n      <div class='form-content'>\n        <form class='contact-form'>  \n          <div class='form-header'>\n            <h3>\\u{41E}\\u{441}\\u{442}\\u{430}\\u{432}\\u{44C}\\u{442}\\u{435} \\u{437}\\u{430}\\u{44F}\\u{432}\\u{43A}\\u{443}</h3>\n            <p>\\u{41C}\\u{44B} \\u{441}\\u{432}\\u{44F}\\u{436}\\u{435}\\u{43C}\\u{441}\\u{44F} \\u{441} \\u{432}\\u{430}\\u{43C}\\u{438} \\u{43A}\\u{430}\\u{43A} \\u{43C}\\u{43E}\\u{436}\\u{43D}\\u{43E} \\u{440}\\u{430}\\u{43D}\\u{44C}\\u{448}\\u{435}</p>\n          </div>\n          <div class='form-fields'>\n            <div class='form-field'>\n              <input type='text' name='name' placeholder='\\u{412}\\u{430}\\u{448}\\u{435} \\u{438}\\u{43C}\\u{44F}' class='input input-solid' />\n            </div>\n            <div class='form-field'>\n              <input type='tel' name='tel' placeholder='+7' class='input input-solid' minlength=\"10\" value='+7 ' />\n            </div>\n          </div>\n          <button type='submit' class='btn btn-orange'>\\u{41E}\\u{442}\\u{43F}\\u{440}\\u{430}\\u{432}\\u{438}\\u{442}\\u{44C}</button>\n          <p class='form-disclaimer'>\n            \\u{41E}\\u{442}\\u{43F}\\u{440}\\u{430}\\u{432}\\u{43B}\\u{44F}\\u{44F} \\u{434}\\u{430}\\u{43D}\\u{43D}\\u{44B}\\u{435} \\u{447}\\u{435}\\u{440}\\u{435}\\u{437} \\u{444}\\u{43E}\\u{440}\\u{43C}\\u{443} \\u{432}\\u{44B} \\u{434}\\u{430}\\u{435}\\u{442}\\u{435} \\u{441}\\u{43E}\\u{433}\\u{43B}\\u{430}\\u{441}\\u{438}\\u{435} \\u{43D}\\u{430} \\u{43E}\\u{431}\\u{440}\\u{430}\\u{431}\\u{43E}\\u{442}\\u{43A}\\u{443} \\u{441}\\u{432}\\u{43E}\\u{438}\\u{445} \n            <a href=\"/policy.pdf\" target=\"_blank\" rel=\"noopener noreferrer\">\\u{43F}\\u{435}\\u{440}\\u{441}\\u{43E}\\u{43D}\\u{430}\\u{43B}\\u{44C}\\u{43D}\\u{44B}\\u{445} \\u{434}\\u{430}\\u{43D}\\u{43D}\\u{44B}\\u{445}</a>\n          </p>\n        </form>\n      </div>\n    </div>\n    `,\n        [$060b6401bd8f1882$var$FORM_TYPES.callback]: `\n      <div class='modal-container modal-container--callback-form'>\n        <div class='modal-close modal-close-icon'></div>\n        <div class='form-content'>\n          <form class='contact-form'>\n            <div class='form-header'>\n              <h4>\\u{41E}\\u{441}\\u{442}\\u{430}\\u{432}\\u{44C}\\u{442}\\u{435} \\u{437}\\u{430}\\u{44F}\\u{432}\\u{43A}\\u{443} \\u{43D}\\u{430} \\u{43A}\\u{43E}\\u{43D}\\u{441}\\u{443}\\u{43B}\\u{44C}\\u{442}\\u{430}\\u{446}\\u{438}\\u{44E} \\u{438}&nbsp;\\u{43C}\\u{44B}&nbsp;\\u{432}\\u{430}\\u{43C} \\u{43F}\\u{435}\\u{440}\\u{435}\\u{437}\\u{432}\\u{43E}\\u{43D}\\u{438}\\u{43C}</h4>\n            </div>\n            <div class='form-fields'>\n              <div class='form-field'>\n                <input type='tel' name='tel' minlength=10 value='+7 ' class='input input-solid input--phone' required />\n              </div>\n            </div>\n            <button type=\"submit\" class=\"btn btn-green btn-fw\">\n              \\u{414}\\u{430}, \\u{43F}\\u{435}\\u{440}\\u{435}\\u{437}\\u{432}\\u{43E}\\u{43D}\\u{438}\\u{442}\\u{435} \\u{43C}\\u{43D}\\u{435}\n            </button>\n            <p class='form-disclaimer'>\n              \\u{41E}\\u{442}\\u{43F}\\u{440}\\u{430}\\u{432}\\u{43B}\\u{44F}\\u{44F} \\u{434}\\u{430}\\u{43D}\\u{43D}\\u{44B}\\u{435} \\u{447}\\u{435}\\u{440}\\u{435}\\u{437} \\u{444}\\u{43E}\\u{440}\\u{43C}\\u{443} \\u{432}\\u{44B}&nbsp;\\u{434}\\u{430}\\u{435}\\u{442}\\u{435} <a href=\"/policy.pdf\" target=\"_blank\" rel=\"noopener noreferrer\">\\u{441}\\u{43E}\\u{433}\\u{43B}\\u{430}\\u{441}\\u{438}\\u{435} \\u{43D}\\u{430}&nbsp;\\u{43E}\\u{431}\\u{440}\\u{430}\\u{431}\\u{43E}\\u{442}\\u{43A}\\u{443} \\u{441}\\u{432}\\u{43E}\\u{438}\\u{445} \\u{43F}\\u{435}\\u{440}\\u{441}\\u{43E}\\u{43D}\\u{430}\\u{43B}\\u{44C}\\u{43D}\\u{44B}\\u{445} \\u{434}\\u{430}\\u{43D}\\u{43D}\\u{44B}\\u{445}</a>\n            </p>\n          </form> \n        </div>\n      </div>\n    `,\n        [$060b6401bd8f1882$var$FORM_TYPES.giftForm]: `\n      <div class='modal-container modal-container--gift-form'>\n        <div class='modal-close modal-close-icon'></div>\n        <div class='form-content'>\n          <form class='contact-form'>\n            <div class='form-header'>\n              <h4>\n                \\u{423}\\xa0\\u{43D}\\u{430}\\u{441}\\xa0\\u{434}\\u{43B}\\u{44F}\\xa0\\u{432}\\u{430}\\u{441}\\xa0\\u{43F}\\u{43E}\\u{434}\\u{430}\\u{440}\\u{43E}\\u{43A}\\xa0\\u{2014} \\u{441}\\u{43F}\\u{435}\\u{446}\\u{438}\\u{430}\\u{43B}\\u{44C}\\u{43D}\\u{430}\\u{44F} \\u{446}\\u{435}\\u{43D}\\u{430}\n              </h4>\n              <p>\n              \\u{41E}\\u{441}\\u{442}\\u{430}\\u{432}\\u{44C}\\u{442}\\u{435} \\u{437}\\u{430}\\u{44F}\\u{432}\\u{43A}\\u{443}, \\u{447}\\u{442}\\u{43E}\\u{431}\\u{44B}&nbsp;\\u{43F}\\u{43E}\\u{43B}\\u{443}\\u{447}\\u{438}\\u{442}\\u{44C} \\u{43F}\\u{435}\\u{440}\\u{441}\\u{43E}\\u{43D}\\u{430}\\u{43B}\\u{44C}\\u{43D}\\u{43E}\\u{435} \\u{43F}\\u{440}\\u{435}\\u{434}\\u{43B}\\u{43E}\\u{436}\\u{435}\\u{43D}\\u{438}\\u{435} \\u{438}&nbsp;\\u{431}\\u{435}\\u{441}\\u{43F}\\u{43B}\\u{430}\\u{442}\\u{43D}\\u{44B}\\u{439} \\u{432}\\u{44B}\\u{435}\\u{437}\\u{434} \\u{437}\\u{430}\\u{43C}\\u{435}\\u{440}\\u{449}\\u{438}\\u{43A}\\u{430}!\n            </p>\n            </div>\n            <div class='form-fields'>\n              <div class='form-field'>\n                <input type='tel' name='tel' minlength=10 value='+7 ' class='input input--phone' required />\n              </div>\n            </div>\n            <button type=\"submit\" class=\"btn btn-green btn-fw\">\n              \\u{414}\\u{430}, \\u{43F}\\u{435}\\u{440}\\u{435}\\u{437}\\u{432}\\u{43E}\\u{43D}\\u{438}\\u{442}\\u{435} \\u{43C}\\u{43D}\\u{435}\n            </button>\n            <p class='form-disclaimer'>\n              \\u{41E}\\u{442}\\u{43F}\\u{440}\\u{430}\\u{432}\\u{43B}\\u{44F}\\u{44F} \\u{434}\\u{430}\\u{43D}\\u{43D}\\u{44B}\\u{435} \\u{447}\\u{435}\\u{440}\\u{435}\\u{437} \\u{444}\\u{43E}\\u{440}\\u{43C}\\u{443} \\u{432}\\u{44B}&nbsp;\\u{434}\\u{430}\\u{435}\\u{442}\\u{435} <a href=\"/policy.pdf\" target=\"_blank\" rel=\"noopener noreferrer\">\\u{441}\\u{43E}\\u{433}\\u{43B}\\u{430}\\u{441}\\u{438}\\u{435} \\u{43D}\\u{430}&nbsp;\\u{43E}\\u{431}\\u{440}\\u{430}\\u{431}\\u{43E}\\u{442}\\u{43A}\\u{443} \\u{441}\\u{432}\\u{43E}\\u{438}\\u{445} \\u{43F}\\u{435}\\u{440}\\u{441}\\u{43E}\\u{43D}\\u{430}\\u{43B}\\u{44C}\\u{43D}\\u{44B}\\u{445} \\u{434}\\u{430}\\u{43D}\\u{43D}\\u{44B}\\u{445}</a>\n            </p>\n          </form>\n        </div>\n      </div>`\n    };\n    const formModal = document.createElement('div');\n    const modalClasses = {\n        [$060b6401bd8f1882$var$FORM_TYPES.modal]: 'modal-form modal-default-form hide',\n        [$060b6401bd8f1882$var$FORM_TYPES.callback]: 'modal-form modal-callback-form hide',\n        [$060b6401bd8f1882$var$FORM_TYPES.giftForm]: 'modal-form modal-gift-form hide'\n    };\n    formModal.className = modalClasses[formType.type];\n    formModal.innerHTML = formTemplates[formType.type];\n    $060b6401bd8f1882$var$updateModalSuccessTag(formModal);\n    formType.form = formModal;\n    document.body.appendChild(formModal);\n    if (formType.type === $060b6401bd8f1882$var$FORM_TYPES.callback) {\n        const iconPhoneCall = new URL($d7ab04b40f31cbd3$exports);\n        const callbackButton = `\n      <button class=\"openCallBackModal btn-callback\">\n        <img src=\"${iconPhoneCall}\" \n          alt=\"\\u{417}\\u{430}\\u{43A}\\u{430}\\u{437}\\u{430}\\u{442}\\u{44C} \\u{43A}\\u{43E}\\u{43D}\\u{441}\\u{443}\\u{43B}\\u{44C}\\u{442}\\u{430}\\u{446}\\u{438}\\u{44E} \\u{431}\\u{435}\\u{441}\\u{43F}\\u{43B}\\u{430}\\u{442}\\u{43D}\\u{43E}\" \n          loading=\"lazy\"\n          decoding=\"async\" \n        />\n      </button>`;\n        formModal.insertAdjacentHTML('afterbegin', callbackButton);\n        const openCallBackModal = document.querySelector('.openCallBackModal');\n        if (openCallBackModal) openCallBackModal.addEventListener('click', (e)=>{\n            e.preventDefault();\n            $060b6401bd8f1882$var$toggleModal(formModal);\n        });\n        if (!$060b6401bd8f1882$var$isFormSendedFresh()) setTimeout(()=>{\n            $060b6401bd8f1882$var$showModal(formModal);\n        }, $060b6401bd8f1882$var$showCallbackFormDelay);\n    }\n    if (formType.type === $060b6401bd8f1882$var$FORM_TYPES.giftForm) {\n        const giftButton = `\n      <button class=\"openGiftModal btn-gift hide\">\n        <label>\\u{41F}\\u{43E}\\u{43B}\\u{443}\\u{447}\\u{438} \\u{43F}\\u{43E}\\u{434}\\u{430}\\u{440}\\u{43E}\\u{43A}!</label>\n      </button>`;\n        formModal.insertAdjacentHTML('afterbegin', giftButton);\n        const openGiftModal = formModal.querySelector('.openGiftModal');\n        if (openGiftModal) openGiftModal.addEventListener('click', (e)=>{\n            e.preventDefault();\n            $060b6401bd8f1882$var$toggleModal(formModal);\n            $060b6401bd8f1882$var$triggerMetrikaOpenGiftForm();\n        });\n        if (!$060b6401bd8f1882$var$isFormSendedFresh()) setTimeout(()=>{\n            const button = formModal.querySelector('.btn-gift.hide');\n            button.classList.remove('hide');\n        }, $060b6401bd8f1882$var$showGiftDelay);\n    }\n    if (formType.type === $060b6401bd8f1882$var$FORM_TYPES.modal) {\n        const modalTriggers = document.querySelectorAll('[href=\"/forma-obratnoj-svyaz\"], .modal-trigger');\n        modalTriggers.forEach((trigger)=>{\n            trigger.addEventListener('click', (e)=>{\n                e.preventDefault();\n                $060b6401bd8f1882$var$getTriggerInfo({\n                    trigger: trigger,\n                    formType: formType\n                });\n                $060b6401bd8f1882$var$showModal(formModal);\n            });\n        });\n    }\n    /***** Setup form handlers *****/ // Submit handler\n    const formTag = formModal.querySelector('.contact-form');\n    if (formTag) {\n        formTag.addEventListener('submit', $060b6401bd8f1882$var$handleFormSubmit(formType));\n        // Setup phone input\n        const phoneInput = formTag.querySelector('input[type=\"tel\"]');\n        if (phoneInput) phoneInput.addEventListener('input', $060b6401bd8f1882$var$formatPhoneInput);\n    }\n    // Close handler\n    const closeIcon = formModal.querySelector('.modal-close-icon');\n    if (closeIcon) closeIcon.addEventListener('click', (e)=>{\n        e.preventDefault();\n        $060b6401bd8f1882$var$hideModal(formModal);\n        $060b6401bd8f1882$var$triggerMetrikaCloseModal();\n    });\n    // Close on backdrop handler\n    window.addEventListener('click', (e)=>{\n        if (e.target === formModal) $060b6401bd8f1882$var$hideModal(formModal);\n    });\n    return formModal;\n};\nconst $060b6401bd8f1882$var$getTriggerInfo = ({ trigger: trigger, formType: formType })=>{\n    const buttonText = trigger.textContent?.trim() || trigger.querySelector('.btn-main-text')?.textContent?.trim() || \"\\u041A\\u043D\\u043E\\u043F\\u043A\\u0430\";\n    const buttonType = trigger.className?.includes('btn-green') ? \"\\u0417\\u0435\\u043B\\u0435\\u043D\\u0430\\u044F \\u043A\\u043D\\u043E\\u043F\\u043A\\u0430\" : trigger.className?.includes('btn-light-blue') ? \"\\u0413\\u043E\\u043B\\u0443\\u0431\\u0430\\u044F \\u043A\\u043D\\u043E\\u043F\\u043A\\u0430\" : trigger.className?.includes('btn-primary') ? \"\\u041E\\u0441\\u043D\\u043E\\u0432\\u043D\\u0430\\u044F \\u043A\\u043D\\u043E\\u043F\\u043A\\u0430\" : \"\\u041A\\u043D\\u043E\\u043F\\u043A\\u0430\";\n    // Define section or header\n    const section = $060b6401bd8f1882$var$findParentSection(trigger);\n    const headerContainer = trigger.closest('.header');\n    const sectionTitle = section ? $060b6401bd8f1882$var$getSectionTitle(section) : headerContainer ? \"\\u0428\\u0430\\u043F\\u043A\\u0430 \\u0441\\u0430\\u0439\\u0442\\u0430\" : \"\\u041D\\u0435\\u0438\\u0437\\u0432\\u0435\\u0441\\u0442\\u043D\\u0430\\u044F \\u0441\\u0435\\u043A\\u0446\\u0438\\u044F\";\n    // Update trigger info\n    formType.buttonType = `${buttonType}`;\n    formType.triggerSource = `${buttonText}`;\n    formType.triggerSection = sectionTitle;\n    formType.formLocation = `\\u{41C}\\u{43E}\\u{434}\\u{430}\\u{43B}\\u{44C}\\u{43D}\\u{430}\\u{44F} \\u{444}\\u{43E}\\u{440}\\u{43C}\\u{430}`;\n};\nconst $060b6401bd8f1882$var$showModal = (modal)=>{\n    modal.classList.remove('hide');\n    modal.classList.add('show');\n};\nconst $060b6401bd8f1882$var$hideModal = (modal)=>{\n    modal.classList.remove('show');\n    modal.classList.add('hide');\n};\nconst $060b6401bd8f1882$var$toggleModal = (modal)=>{\n    modal.classList.toggle('show');\n    modal.classList.toggle('hide');\n};\n/**\n * Find parent section of an element\n */ const $060b6401bd8f1882$var$findParentSection = (element)=>{\n    let current = element;\n    while(current && current !== document.body){\n        if (current.tagName === 'SECTION' || current.classList.contains('section')) return current;\n        current = current.parentElement;\n    }\n    return null;\n};\n/**\n * Get section title for tracking\n */ const $060b6401bd8f1882$var$getSectionTitle = (section)=>{\n    if (!section) return \"\\u2014\";\n    // Попытка найти заголовок секции\n    const titleElement = section.querySelector('.section-title, h2, h3');\n    if (titleElement) return titleElement.textContent?.trim() || \"\\u0421\\u0435\\u043A\\u0446\\u0438\\u044F, \\u0437\\u0430\\u0433\\u043E\\u043B\\u043E\\u0432\\u043E\\u043A \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\";\n    // Определение по классу секции\n    const sectionClass = section.className;\n    if (sectionClass.includes('hero-section')) return \"Hero \\u0441\\u0435\\u043A\\u0446\\u0438\\u044F\";\n    if (sectionClass.includes('pricing-section')) return \"\\u0421\\u0435\\u043A\\u0446\\u0438\\u044F \\u0446\\u0435\\u043D\";\n    if (sectionClass.includes('glazing-balconies-section')) return \"\\u041E\\u0441\\u0442\\u0435\\u043A\\u043B\\u0435\\u043D\\u0438\\u0435 \\u0431\\u0430\\u043B\\u043A\\u043E\\u043D\\u043E\\u0432\";\n    if (sectionClass.includes('balcony-loggias-section')) return \"\\u0411\\u0430\\u043B\\u043A\\u043E\\u043D\\u044B \\u0438 \\u043B\\u043E\\u0434\\u0436\\u0438\\u0438\";\n    if (sectionClass.includes('reviews-section')) return \"\\u041E\\u0442\\u0437\\u044B\\u0432\\u044B \\u0438 \\u0440\\u0430\\u0431\\u043E\\u0442\\u044B\";\n    if (sectionClass.includes('lead-form-section')) return \"\\u0424\\u043E\\u0440\\u043C\\u0430 \\u0437\\u0430\\u044F\\u0432\\u043A\\u0438\";\n    if (sectionClass.includes('contacts-section')) return \"\\u041A\\u043E\\u043D\\u0442\\u0430\\u043A\\u0442\\u044B\";\n    if (sectionClass.includes('header')) return \"\\u0428\\u0430\\u043F\\u043A\\u0430 \\u0441\\u0430\\u0439\\u0442\\u0430\";\n    return \"\\u041D\\u0435\\u0438\\u0437\\u0432\\u0435\\u0441\\u0442\\u043D\\u0430\\u044F \\u0441\\u0435\\u043A\\u0446\\u0438\\u044F\";\n};\nfunction $060b6401bd8f1882$export$c3fb7012d8f4f781() {\n    console.log(\"\\uD83D\\uDE80 Initializing Forms System...\");\n    console.log(`\\u{1F527} Mode: ${$060b6401bd8f1882$var$isDevelopment ? 'Development (fake sending)' : 'Production (real sending)'}`);\n    // initializeAnalytics();\n    $060b6401bd8f1882$var$initializeModalForm($060b6401bd8f1882$var$FORM_TYPES.modal, {\n        formLocation: \"\\u041C\\u043E\\u0434\\u0430\\u043B\\u044C\\u043D\\u0430\\u044F \\u0444\\u043E\\u0440\\u043C\\u0430 (\\u0432\\u0441\\u043F\\u043B\\u044B\\u0432\\u0430\\u044E\\u0449\\u0430\\u044F)\"\n    });\n    $060b6401bd8f1882$var$initializeModalForm($060b6401bd8f1882$var$FORM_TYPES.callback, {\n        formLocation: \"\\u0424\\u043E\\u0440\\u043C\\u0430 callback\"\n    });\n    $060b6401bd8f1882$var$initializeModalForm($060b6401bd8f1882$var$FORM_TYPES.giftForm, {\n        formLocation: '\\u0424\\u043E\\u0440\\u043C\\u0430 \"\\u043F\\u043E\\u0434\\u0430\\u0440\\u043E\\u043A\"'\n    });\n    $060b6401bd8f1882$export$dcc7b70fba9bea24('contactForm', [\n        'name',\n        'tel'\n    ], {\n        formLocation: \"\\u0413\\u043B\\u0430\\u0432\\u043D\\u0430\\u044F \\u0444\\u043E\\u0440\\u043C\\u0430 (Hero \\u0441\\u0435\\u043A\\u0446\\u0438\\u044F)\"\n    });\n    $060b6401bd8f1882$export$dcc7b70fba9bea24('leadForm', [\n        'tel'\n    ], {\n        formLocation: '\\u0424\\u043E\\u0440\\u043C\\u0430 \\u0441\\u0431\\u043E\\u0440\\u0430 \\u043B\\u0438\\u0434\\u043E\\u0432 (\\u0441\\u0435\\u043A\\u0446\\u0438\\u044F \"\\u041D\\u0435 \\u0437\\u043D\\u0430\\u0435\\u0442\\u0435 \\u043A\\u0430\\u043A\\u0438\\u0435 \\u043E\\u043A\\u043D\\u0430 \\u043F\\u043E\\u0434\\u043E\\u0439\\u0434\\u0443\\u0442 \\u0438\\u043C\\u0435\\u043D\\u043D\\u043E \\u0432\\u0430\\u043C\")'\n    });\n    $060b6401bd8f1882$export$dcc7b70fba9bea24('reviewLeadForm', [\n        'name',\n        'tel'\n    ], {\n        formLocation: '\\u0424\\u043E\\u0440\\u043C\\u0430 \\u043E\\u0442\\u0437\\u044B\\u0432\\u043E\\u0432 (\\u0441\\u0435\\u043A\\u0446\\u0438\\u044F \"\\u041E\\u0441\\u0442\\u0430\\u0432\\u044C\\u0442\\u0435 \\u0437\\u0430\\u044F\\u0432\\u043A\\u0443 \\u0438 \\u043F\\u043E\\u043B\\u0443\\u0447\\u0438\\u0442\\u0435 \\u0442\\u043E\\u0447\\u043D\\u0443\\u044E \\u0441\\u043C\\u0435\\u0442\\u0443 \\u043D\\u0430 \\u043F\\u043B\\u0430\\u0441\\u0442\\u0438\\u043A\\u043E\\u0432\\u044B\\u0435 \\u043E\\u043A\\u043D\\u0430...\")'\n    });\n}\ndocument.addEventListener('DOMContentLoaded', $060b6401bd8f1882$export$c3fb7012d8f4f781);\n\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    const tabs = document.querySelectorAll('.pricing-tabs .tab');\n    const carouselContainers = document.querySelectorAll('.pricing-carousel-container');\n    function switchTab(tabType) {\n        carouselContainers.forEach((container)=>{\n            container.style.display = 'none';\n        });\n        const targetContainer = document.querySelector(`.pricing-carousel-container[data-tab=\"${tabType}\"]`);\n        if (targetContainer) targetContainer.style.display = 'block';\n    }\n    tabs.forEach((tab)=>{\n        tab.addEventListener('click', function() {\n            tabs.forEach((t)=>t.classList.remove('active'));\n            this.classList.add('active');\n            const tabType = this.getAttribute('data-tab');\n            console.log(tabType);\n            switchTab(tabType);\n        });\n    });\n    switchTab('whs');\n});\nfunction $28bf8525269b4c90$var$debounce(func, delay) {\n    let timeout;\n    return function(...args) {\n        const context = this;\n        clearTimeout(timeout);\n        timeout = setTimeout(()=>{\n            func.apply(context, args);\n        }, delay);\n    };\n}\ndocument.fonts.addEventListener('loadingdone', function() {\n    const profileComparison = document.querySelector('.profile-comparison');\n    const titles = profileComparison.querySelectorAll('.card-title');\n    const headers = profileComparison.querySelectorAll('.card-header');\n    function getMaxHeight() {\n        let maxHeight = 0;\n        titles.forEach((title)=>{\n            maxHeight = Math.max(maxHeight, title.offsetHeight);\n        });\n        return maxHeight;\n    }\n    const maxHeight = getMaxHeight();\n    headers.forEach((h)=>{\n        h.style.minHeight = `${maxHeight}px`;\n    });\n    window.addEventListener('resize', ()=>{\n        const maxHeight = getMaxHeight();\n        headers.forEach((h)=>{\n            h.style.minHeight = `${maxHeight}px`;\n        });\n    });\n});\n\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    let swiperPricing1 = new Swiper('.swiper-section-pricing-1', {\n        slidesPerView: 1,\n        spaceBetween: 24,\n        navigation: {\n            nextEl: '.swiper-button-next-1',\n            prevEl: '.swiper-button-prev-1'\n        },\n        pagination: {\n            el: '.swiper-pagination-1',\n            clickable: true\n        },\n        breakpoints: {\n            390: {\n                slidesPerView: 2,\n                spaceBetween: 16\n            },\n            768: {\n                slidesPerView: 3,\n                spaceBetween: 24\n            },\n            1024: {\n                slidesPerView: 4,\n                spaceBetween: 24\n            }\n        }\n    });\n    let swiperPricing2 = new Swiper('.swiper-section-pricing-2', {\n        slidesPerView: 1,\n        spaceBetween: 24,\n        navigation: {\n            nextEl: '.swiper-button-next-2',\n            prevEl: '.swiper-button-prev-2'\n        },\n        pagination: {\n            el: '.swiper-pagination-2',\n            clickable: true\n        },\n        breakpoints: {\n            390: {\n                slidesPerView: 2,\n                spaceBetween: 16\n            },\n            768: {\n                slidesPerView: 3,\n                spaceBetween: 24\n            },\n            1024: {\n                slidesPerView: 4,\n                spaceBetween: 24\n            }\n        }\n    });\n    let swiperPricing3 = new Swiper('.swiper-section-pricing-3', {\n        slidesPerView: 1,\n        spaceBetween: 24,\n        navigation: {\n            nextEl: '.swiper-button-next-3',\n            prevEl: '.swiper-button-prev-3'\n        },\n        pagination: {\n            el: '.swiper-pagination-3',\n            clickable: true\n        },\n        breakpoints: {\n            390: {\n                slidesPerView: 2,\n                spaceBetween: 16\n            },\n            768: {\n                slidesPerView: 3,\n                spaceBetween: 24\n            },\n            1024: {\n                slidesPerView: 4,\n                spaceBetween: 24\n            }\n        }\n    });\n    let swiperComparison1 = new Swiper('.swiper-section-comparison-1', {\n        slidesPerView: 1,\n        spaceBetween: 24,\n        navigation: {\n            nextEl: '.swiper-button-next-comparison-1',\n            prevEl: '.swiper-button-prev-comparison-1'\n        },\n        pagination: {\n            el: '.swiper-pagination-comparison-1',\n            clickable: true\n        },\n        breakpoints: {\n            390: {\n                slidesPerView: 2,\n                spaceBetween: 16\n            },\n            768: {\n                slidesPerView: 3,\n                spaceBetween: 24\n            },\n            1024: {\n                slidesPerView: 3,\n                spaceBetween: 24\n            }\n        }\n    });\n    let ourWorks = new Swiper('.our-works-slider', {\n        slidesPerView: 1,\n        spaceBetween: 12,\n        grid: {\n            rows: 1\n        },\n        pagination: {\n            el: '.swiper-pagination',\n            clickable: true,\n            dynamicBullets: true\n        },\n        navigation: {\n            nextEl: '.swiper-btn-next',\n            prevEl: '.swiper-btn-prev'\n        },\n        breakpoints: {\n            375: {\n                slidesPerView: 1,\n                spaceBetween: 12,\n                grid: {\n                    rows: 1\n                }\n            },\n            768: {\n                slidesPerView: 3,\n                spaceBetween: 24,\n                grid: {\n                    rows: 2\n                },\n                pagination: {\n                    dynamicBullets: false\n                }\n            },\n            1024: {\n                slidesPerView: 4,\n                spaceBetween: 24,\n                grid: {\n                    rows: 2\n                },\n                pagination: {\n                    dynamicBullets: false\n                }\n            }\n        }\n    });\n});\n\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    const lightbox = GLightbox({\n        selector: '.owlbox',\n        touchNavigation: true,\n        loop: true\n    });\n});\n\n\nfunction $e4da278cf2ecae37$var$initializeApp() {}\ndocument.addEventListener('DOMContentLoaded', $e4da278cf2ecae37$var$initializeApp);\nwindow.addEventListener('error', function(event) {\n    console.error('JavaScript error:', event.error);\n});\nwindow.addEventListener('unhandledrejection', function(event) {\n    console.error('Unhandled promise rejection:', event.reason);\n});\n\n\n//# sourceMappingURL=d1sa.github.io.9138608e.js.map\n","parcelRequire.extendImportMap({\"8BHOp\":\"phone-call-white-fill.c9801877.svg\"});","import './header.mjs';\r\nimport './forms.mjs';\r\nimport './pricing.js';\r\nimport './slider.js';\r\nimport './glightbox.js';\r\n\r\nfunction initializeApp() {}\r\n\r\ndocument.addEventListener('DOMContentLoaded', initializeApp);\r\n\r\nwindow.addEventListener('error', function (event) {\r\n  console.error('JavaScript error:', event.error);\r\n});\r\n\r\nwindow.addEventListener('unhandledrejection', function (event) {\r\n  console.error('Unhandled promise rejection:', event.reason);\r\n});\r\n","// ==========================================================================\r\n// Header Height Compensation\r\n// ==========================================================================\r\n\r\n/**\r\n * Компенсирует высоту фиксированного хедера\r\n * Добавляет padding-top к body равный высоте .header\r\n */\r\n\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n  function updateBodyPadding() {\r\n    const header = document.querySelector('.header');\r\n    if (header) {\r\n      const headerHeight = Math.round(header.offsetHeight);\r\n      if (headerHeight > 0) {\r\n        document.body.style.paddingTop = headerHeight + 'px';\r\n      }\r\n    }\r\n  }\r\n\r\n  // Применяем при загрузке\r\n  updateBodyPadding();\r\n\r\n  // Debounce для resize\r\n  let resizeTimeout;\r\n  window.addEventListener('resize', function () {\r\n    clearTimeout(resizeTimeout);\r\n    resizeTimeout = setTimeout(updateBodyPadding, 100);\r\n  });\r\n\r\n  // Обработка изменения ориентации\r\n  window.addEventListener('orientationchange', function () {\r\n    setTimeout(updateBodyPadding, 200);\r\n  });\r\n});\r\n\r\n// ==========================================================================\r\n// Mobile Menu Functionality\r\n// ==========================================================================\r\n\r\n/**\r\n * Управление мобильным меню\r\n */\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n  const header = document.querySelector('.header');\r\n  const mobileMenuToggle = document.querySelector('.mobile-menu-toggle');\r\n  const mobileMenuOverlay = document.querySelector('.mobile-menu-overlay');\r\n  const navLinks = document.querySelectorAll('.nav-link');\r\n\r\n  if (!mobileMenuToggle || !header) return;\r\n\r\n  // Открытие/закрытие мобильного меню\r\n  function toggleMobileMenu() {\r\n    const isOpen = header.classList.contains('mobile-menu-open');\r\n\r\n    if (isOpen) {\r\n      closeMobileMenu();\r\n    } else {\r\n      openMobileMenu();\r\n    }\r\n  }\r\n\r\n  // Открытие мобильного меню\r\n  function openMobileMenu() {\r\n    header.classList.add('mobile-menu-open');\r\n    document.body.style.overflow = 'hidden';\r\n    mobileMenuToggle.setAttribute('aria-expanded', 'true');\r\n    mobileMenuToggle.setAttribute('aria-label', 'Закрыть меню');\r\n\r\n    // Фокус на первую ссылку в меню\r\n    const firstNavLink = document.querySelector('.nav-link');\r\n    if (firstNavLink) {\r\n      setTimeout(() => firstNavLink.focus(), 300);\r\n    }\r\n  }\r\n\r\n  // Закрытие мобильного меню\r\n  function closeMobileMenu() {\r\n    header.classList.remove('mobile-menu-open');\r\n    document.body.style.overflow = '';\r\n    mobileMenuToggle.setAttribute('aria-expanded', 'false');\r\n    mobileMenuToggle.setAttribute('aria-label', 'Открыть меню');\r\n\r\n    // Возвращаем фокус на кнопку меню\r\n    mobileMenuToggle.focus();\r\n  }\r\n\r\n  // Обработчик клика по кнопке гамбургера\r\n  mobileMenuToggle.addEventListener('click', function (e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    toggleMobileMenu();\r\n  });\r\n\r\n  // Обработчик клика по оверлею\r\n  if (mobileMenuOverlay) {\r\n    mobileMenuOverlay.addEventListener('click', function () {\r\n      closeMobileMenu();\r\n    });\r\n  }\r\n\r\n  // Закрытие меню при клике на ссылки навигации\r\n  navLinks.forEach(link => {\r\n    link.addEventListener('click', function () {\r\n      // Небольшая задержка для плавности\r\n      setTimeout(() => {\r\n        closeMobileMenu();\r\n      }, 150);\r\n    });\r\n  });\r\n\r\n  // Закрытие меню при нажатии Escape\r\n  document.addEventListener('keydown', function (e) {\r\n    if (e.key === 'Escape' && header.classList.contains('mobile-menu-open')) {\r\n      closeMobileMenu();\r\n    }\r\n  });\r\n\r\n  // Закрытие меню при изменении размера экрана\r\n  window.addEventListener('resize', function () {\r\n    if (window.innerWidth >= 768) {\r\n      // tablet breakpoint\r\n      closeMobileMenu();\r\n    }\r\n  });\r\n\r\n  // Обработка фокуса для доступности\r\n  function trapFocus(container) {\r\n    const focusableElements = container.querySelectorAll(\r\n      'a[href], button, textarea, input[type=\"text\"], input[type=\"radio\"], input[type=\"checkbox\"], select'\r\n    );\r\n    const firstFocusableElement = focusableElements[0];\r\n    const lastFocusableElement =\r\n      focusableElements[focusableElements.length - 1];\r\n\r\n    container.addEventListener('keydown', function (e) {\r\n      if (e.key === 'Tab') {\r\n        if (e.shiftKey) {\r\n          if (document.activeElement === firstFocusableElement) {\r\n            lastFocusableElement.focus();\r\n            e.preventDefault();\r\n          }\r\n        } else {\r\n          if (document.activeElement === lastFocusableElement) {\r\n            firstFocusableElement.focus();\r\n            e.preventDefault();\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  // Применяем trap focus к мобильному меню\r\n  const navWrapper = document.querySelector('.nav-and-actions-wrapper');\r\n  if (navWrapper) {\r\n    trapFocus(navWrapper);\r\n  }\r\n});\r\n\r\n// ==========================================================================\r\n// Smooth Scroll with Header Offset\r\n// ==========================================================================\r\n\r\n/**\r\n * Инициализация плавного скролла с учетом отступа от хедера\r\n * Учитывает, что padding-top уже добавлен к body для компенсации высоты хедера\r\n */\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n  function initializeSmoothScroll() {\r\n    document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\r\n      anchor.addEventListener('click', function (e) {\r\n        e.preventDefault();\r\n        const targetId = this.getAttribute('href');\r\n        const target = document.querySelector(targetId);\r\n\r\n        if (target) {\r\n          // Определяем размер экрана для адаптивных отступов\r\n          const isMobile = window.innerWidth < 768;\r\n\r\n          // Адаптивные отступы: больше для десктопа, меньше для мобильного\r\n          const additionalOffset = isMobile ? 32 : 48; // 16px для мобильного, 32px для десктопа\r\n\r\n          // Вычисляем позицию для скролла\r\n          // Учитываем, что padding-top уже добавлен к body\r\n          const targetPosition = target.offsetTop - additionalOffset;\r\n\r\n          // Плавный скролл с учетом отступа\r\n          window.scrollTo({\r\n            top: targetPosition,\r\n            behavior: 'smooth',\r\n          });\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  // Инициализируем плавный скролл\r\n  initializeSmoothScroll();\r\n});\r\n","import { showToast, hideToast } from './toast.js';\nimport {\n  initializeAnalytics,\n  collectAnalyticsInfo,\n  formatAnalyticsMessage,\n  getDeviceInfo as getDeviceInfoFromAnalytics,\n  getSessionInfo as getSessionInfoFromAnalytics,\n  getUTMParams as getUTMParamsFromAnalytics,\n  getClientIP as getClientIPFromAnalytics,\n} from './analytics.js';\n\nconst isDevelopment = process.env.NODE_ENV !== 'production';\n\nconst TELEGRAM_CONFIG = {\n  t1: '6368637668',\n  t2: 'AAGa4ngnyHcZrLVwRCIMB3XFlE1dFzCPv_0',\n  chatId: '-1001961313866',\n  mode: 'html',\n  get token() {\n    return `${this.t1}:${this.t2}`;\n  },\n};\n\nconst FORM_SENDED_KEY = 'formSended';\nconst FORM_SENDED_AT_KEY = 'formSendedAt';\nconst FORM_SENDED_TTL_MS = 2 * 60 * 60 * 1000; // 2 hours\n\n/**\n * Check if form was sent recently (within TTL period)\n */\nconst isFormSendedFresh = () => {\n  try {\n    const flag = localStorage.getItem(FORM_SENDED_KEY) === 'true';\n    if (!flag) return false;\n\n    const timestamp = parseInt(\n      localStorage.getItem(FORM_SENDED_AT_KEY) || '0',\n      10\n    );\n    const now = Date.now();\n\n    if (!Number.isFinite(timestamp) || now - timestamp > FORM_SENDED_TTL_MS) {\n      // Clear expired data\n      localStorage.removeItem(FORM_SENDED_KEY);\n      localStorage.removeItem(FORM_SENDED_AT_KEY);\n      return false;\n    }\n\n    return true;\n  } catch (_) {\n    return false;\n  }\n};\n\n/**\n * Set form as sent with current timestamp\n */\nconst setFormSended = () => {\n  try {\n    localStorage.setItem(FORM_SENDED_KEY, 'true');\n    localStorage.setItem(FORM_SENDED_AT_KEY, Date.now().toString());\n  } catch (_) {}\n  isFormSent = true;\n};\n\nlet isFormSent = isFormSendedFresh();\nconst showGiftDelay = 20 * 1000;\nconst showCallbackFormDelay = 15 * 1000;\n\nconst CRMName = 'LeadTrackerCRM';\n\n// Form field configurations\nconst FIELD_CONFIG = {\n  tel: 'Телефон',\n  name: 'Имя',\n  email: 'Email (Необязательно)',\n};\n\n// Form types configuration\nconst FORM_TYPES = {\n  modal: 'modalForm',\n  onPage: 'onPageForm',\n  callback: 'callbackForm',\n  giftForm: 'giftForm',\n};\n\n// ==========================================================================\n// Utilities (integrated from utils.js)\n// ==========================================================================\n\n/**\n * Phone input mask\n * 79991234567 → +7 (999) 123-45-67\n */\nconst formatPhoneInput = e => {\n  const val = e.target.value;\n  // Очищаем номер от всех символов кроме цифр\n  const digits = val.replace(/\\D/g, '');\n\n  // Используем регулярное выражение для извлечения кода оператора и номера\n  const match = digits.match(/(7|8)?(\\d{0,3})(\\d{0,3})(\\d{0,2})(\\d{0,2})/);\n\n  let result = '+7 ';\n\n  if (match[2]) {\n    result += '(' + match[2];\n    if (match[2] && match[3]) {\n      result += ')';\n    }\n  }\n\n  if (match[3]) {\n    result += ' ' + match[3];\n  }\n\n  if (match[4]) {\n    result += ' ' + match[4];\n  }\n\n  if (match[5]) {\n    result += '-' + match[5];\n  }\n\n  e.target.value = result;\n};\n\n/**\n * Format phone number\n * +7 (999) 123-45-67 → +79991234567\n * 7 (999) 123-45-67 → +79991234567\n * etc\n */\nconst formatPhoneForMessage = phone => {\n  // Очищаем номер от всех символов кроме цифр\n  const digits = phone.replace(/\\D/g, '');\n\n  // Используем логику для формата +7\n  if (digits.startsWith('7') || digits.startsWith('8')) {\n    return '+7' + digits.substring(1);\n  } else if (digits.startsWith('9') && digits.length === 10) {\n    return '+7' + digits;\n  } else if (phone.startsWith('+7')) {\n    return phone;\n  } else {\n    return '+7' + digits;\n  }\n};\n\n/**\n * Validate phone number\n */\nconst validatePhone = phone => {\n  // Очищаем номер от всех символов кроме цифр\n  const digits = phone.replace(/\\D/g, '');\n\n  // Проверяем базовый формат российского номера\n  const regex =\n    /^(\\+7|7|8)?[\\s\\-]?\\(?[489][0-9]{2}\\)?[\\s\\-]?[0-9]{3}[\\s\\-]?[0-9]{2}[\\s\\-]?[0-9]{2}$/;\n\n  if (!regex.test(phone)) {\n    return false;\n  }\n\n  let operatorCode;\n  if (digits.startsWith('7') || digits.startsWith('8')) {\n    operatorCode = digits.substring(1, 4);\n  } else if (digits.startsWith('9')) {\n    operatorCode = digits.substring(0, 3);\n  } else {\n    return false;\n  }\n\n  // Проверяем, что код оператора начинается с 9\n  if (!operatorCode.startsWith('9')) {\n    return false;\n  }\n\n  return true;\n};\n\n/**\n * Get field display name\n */\nconst getFieldName = key => {\n  return FIELD_CONFIG[key] || key;\n};\n\n// ==========================================================================\n// Telegram Bot Integration\n// ==========================================================================\n\n/**\n * Send message to Telegram bot\n */\nconst sendToTelegram = ({ message, formType }) => {\n  const { token, chatId, mode } = TELEGRAM_CONFIG;\n  const encodedMessage = encodeURIComponent(message);\n  const url = `https://api.telegram.org/bot${token}/sendMessage?chat_id=${chatId}&parse_mode=${mode}&text=${encodedMessage}`;\n\n  fetch(url)\n    .then(res => res.json())\n    .then(res => {\n      // console.log('Telegram API response:', res);\n\n      if (res.ok) {\n        handleSubmissionSuccess(formType);\n        setFormSended();\n        triggerMetrikaSubmitGoal(formType.type);\n      }\n    })\n    .catch(error => {\n      console.error('Telegram API error:', error);\n      handleSubmissionError(formType);\n    });\n};\n\n/**\n * Fallback for development/testing\n */\nconst sendToTelegramFake = ({ message, formType }) => {\n  setFormSended();\n\n  console.group(`📋 ФОРМА ОТПРАВЛЕНА (DEV MODE)`);\n  console.log(`📝 Тип формы: ${formType.formLocation}`);\n  console.log(`🏷️ Form Type: ${formType.type}`);\n\n  // Добавляем информацию о триггере\n  if (formType.type === FORM_TYPES.modal && formType.triggerSource) {\n    console.log(`🎯 Источник клика: ${formType.triggerSource}`);\n    console.log(`📍 Секция: ${formType.triggerSection}`);\n  }\n\n  console.log(`📄 Сообщение для отправки:`);\n  console.log(decodeURI(message));\n  console.groupEnd();\n\n  // Simulate network delay for realistic testing\n  setTimeout(() => {\n    console.log(`✅ Форма успешно \"отправлена\" (имитация)`);\n    handleSubmissionSuccess(formType);\n  }, 800);\n};\n\n/**\n * Smart form sender - automatically chooses real or fake based on environment\n */\nconst sendForm = ({ message, formType }) => {\n  if (isDevelopment) {\n    console.log('Dev mode - using fake form sending');\n    sendToTelegramFake({ message, formType });\n  } else {\n    sendToTelegram({ message, formType });\n  }\n};\n\n// ==========================================================================\n// Yandex Metrika integration\n// ==========================================================================\n\nconst ym = window.ym;\nif (!ym) {\n  console.log('Yandex Metrika не найдена');\n}\n\n/**\n * Trigger Yandex Metrika goals\n */\nconst triggerMetrikaSubmitGoal = formType => {\n  if (isDevelopment || !ym) {\n    return;\n  }\n\n  const goalMap = {\n    [FORM_TYPES.modal]: 'new_lid',\n    [FORM_TYPES.callback]: 'new_lid',\n    [FORM_TYPES.giftForm]: 'new_lid',\n    [FORM_TYPES.onPage]: 'new_lid',\n  };\n\n  const goal = goalMap[formType];\n  if (goal) {\n    ym(75394450, 'reachGoal', goal);\n  } else {\n    ym(75394450, 'reachGoal', 'new_lid');\n  }\n};\n\nconst triggerMetrikaCloseModal = () => {\n  if (isDevelopment || !ym) {\n    return;\n  }\n\n  ym(75394450, 'reachGoal', 'non-f');\n};\n\nconst triggerMetrikaOpenGiftForm = () => {\n  if (isDevelopment || !ym) {\n    return;\n  }\n\n  ym(75394450, 'reachGoal', 'cpc_podarok_lid');\n};\n\n// ==========================================================================\n// Form Processing\n// ==========================================================================\n\n/**\n * Validate form data\n */\nconst validateFormData = formData => {\n  const validation = { isValid: true, errors: [] };\n\n  for (let [key, value] of formData.entries()) {\n    if (key === 'g-recaptcha-response') continue;\n\n    const trimmedValue = value.trim();\n\n    // Validation for required fields\n    if (key === 'name') {\n      if (!trimmedValue || trimmedValue.length < 2) {\n        validation.isValid = false;\n        validation.errors.push('Пожалуйста, укажите ваше имя');\n      }\n    }\n\n    if (key === 'tel') {\n      if (!trimmedValue || trimmedValue === '+7' || trimmedValue === '+7 ') {\n        validation.isValid = false;\n        validation.errors.push('Укажите номер телефона для связи');\n      } else if (!validatePhone(trimmedValue)) {\n        validation.isValid = false;\n        validation.errors.push('Проверьте правильность номера телефона');\n      }\n    }\n  }\n\n  return validation;\n};\n\n/**\n * Prepare Telegram message from form data\n */\nconst prepareTelegramMessage = async (formData, formType) => {\n  let message = `Заявка с <b>${window.location.hostname}</b>\\n\\n`;\n\n  for (let [key, value] of formData.entries()) {\n    if (key === 'g-recaptcha-response') continue;\n\n    const fieldName = getFieldName(key);\n    const trimmedValue = value.trim();\n\n    if (trimmedValue) {\n      // Специальная обработка для поля телефона\n      if (key === 'tel') {\n        const formattedPhone = formatPhoneForMessage(trimmedValue);\n        message += `${fieldName}: <b>${formattedPhone}</b>\\n`;\n      } else {\n        message += `${fieldName}: <b>${trimmedValue}</b>\\n`;\n      }\n    }\n  }\n\n  message += `\\n<i>Форма:</i>\\n<b>${\n    formType.formLocation ? `${formType.formLocation}` : ''\n  }</b>`;\n\n  if (formType.type === FORM_TYPES.modal && formType.triggerSource) {\n    message += `\\n<i>${formType.buttonType}: \"${formType.triggerSource}\"</i>`;\n    message += `\\n<i>Секция: \"${formType.triggerSection}\"</i>`;\n  }\n\n  // const analytics = await collectAnalyticsInfo();\n  // message += formatAnalyticsMessage(analytics);\n\n  // message += `\\n\\n<i>Информация подготовлена <b>${CRMName}</b></i>`;\n  return message;\n};\n\n/**\n * Handle form submission\n */\nconst handleFormSubmit = formType => async e => {\n  e.preventDefault();\n\n  // reCAPTCHA check for modal forms\n  // if (formType.type === FORM_TYPES.modal && typeof grecaptcha !== 'undefined') {\n  //   const response = grecaptcha.getResponse();\n  //   if (response.length === 0) {\n  //     showToast('Пожалуйста, подтвердите, что вы не робот!', 'error', 8000);\n  //     return false;\n  //   }\n  // }\n\n  const form = e.target;\n  const formData = new FormData(form);\n  const validation = validateFormData(formData);\n\n  if (!validation.isValid) {\n    showFormErrors(validation);\n    return;\n  }\n\n  const message = await prepareTelegramMessage(formData, formType);\n  sendForm({ message, formType });\n};\n\n/**\n * Show form validation errors as toast notifications\n */\nconst showFormErrors = validation => {\n  // Create a single, comprehensive error message\n  let errorMessage = '';\n\n  if (validation.errors.length === 1) {\n    errorMessage = validation.errors[0];\n  } else {\n    const errorList = validation.errors\n      .map(\n        error =>\n          `<div style=\"margin: 4px 0; padding-left: 8px;\">• ${error}</div>`\n      )\n      .join('');\n    errorMessage = `${errorList}`;\n  }\n\n  const duration = validation.errors.length > 1 ? 11000 : 6000;\n  showToast(errorMessage, 'error', duration);\n};\n\n/**\n * Handle successful form submission\n */\nconst handleSubmissionSuccess = formType => {\n  const { form, isModal } = formType;\n  showToast(\n    'Заявка успешно отправлена! Мы свяжемся с&nbsp;вами в&nbsp;ближайшее время.',\n    'success',\n    18000\n  );\n\n  if (isModal) {\n    updateModalSuccessTag(form);\n\n    setTimeout(() => {\n      hideModal(form);\n      formReset(form);\n    }, 1000);\n  } else {\n    formReset(form);\n  }\n};\n\n/**\n * Handle form submission error\n */\nconst handleSubmissionError = formType => {\n  const { form, isModal } = formType;\n  showToast(\n    'Произошла ошибка при отправке заявки. Попробуйте позже или позвоните нам по телефону +7 (4842) 23-00-15',\n    'error',\n    18000\n  );\n\n  if (isModal) {\n    setTimeout(() => {\n      hideModal(form);\n      formReset(form);\n    }, 1000);\n  } else {\n    formReset(form);\n  }\n};\n\nconst formReset = form => {\n  const formTag =\n    form.nodeName === 'FORM' ? form : form.querySelector('.contact-form');\n\n  if (!formTag) {\n    return;\n  }\n\n  // Reset form\n  formTag.reset();\n  const phoneInput = formTag.querySelector('input[type=\"tel\"]');\n  if (phoneInput) {\n    phoneInput.value = '+7 ';\n  }\n};\n\n// ==========================================================================\n// Modal System\n// ==========================================================================\n\n/**\n * Update modal content with success tag if form was sent\n */\nconst updateModalSuccessTag = modal => {\n  isFormSent = isFormSendedFresh();\n  const formContent = modal.querySelector('.form-content .form-header');\n  const existingTag = modal.querySelector('.form-tag');\n\n  // Remove existing tag if present\n  if (existingTag) {\n    existingTag.remove();\n  }\n\n  // Add success tag if form was sent\n  if (isFormSent && formContent) {\n    const tagElement = `\n      <div class=\"form-tag form-tag--success-modal\">\n        <svg width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" fill=\"none\">\n          <path d=\"M1 5.35L4.75 9.25L11 2.75\" stroke=\"#2BB109\" stroke-width=\"2\"></path>\n        </svg>\n        <span>Заявка отправлена! Мы скоро свяжемся с вами</span>\n      </div>\n    `;\n\n    formContent.insertAdjacentHTML('afterbegin', tagElement);\n  }\n};\n\n// ==========================================================================\n// Form Registration & Initialization\n// ==========================================================================\n\nexport function initializeLocalForm(formId, fields, options = {}) {\n  const form = document.getElementById(formId);\n  if (!form) {\n    console.warn(`Form with ID \"${formId}\" not found`);\n    return;\n  }\n\n  const formType = {\n    type: FORM_TYPES.onPage,\n    fields,\n    isModal: false,\n    options,\n    form,\n    formLocation: options.formLocation || 'Зарегистрированная форма',\n  };\n\n  createLocalForm(formType);\n}\n\nconst createLocalForm = formType => {\n  const { form } = formType;\n\n  const phoneInput = form.querySelector('input[type=\"tel\"]');\n  if (phoneInput) {\n    phoneInput.addEventListener('input', formatPhoneInput);\n  }\n\n  form.addEventListener('submit', handleFormSubmit(formType));\n};\n\n/**\n * Initialize modal form system\n */\nconst initializeModalForm = (type, options = {}) => {\n  const formType = {\n    type: type,\n    isModal: true,\n    form: null,\n    buttonType: '',\n    formLocation: options.formLocation || 'Модальная форма (всплывающая)',\n    triggerSource: '', // Источник клика (кнопка)\n    triggerSection: '', // Секция, из которой был клик\n  };\n\n  createModalForm(formType);\n};\n\n/**\n * Create modal form\n */\nconst createModalForm = formType => {\n  const formTemplates = {\n    [FORM_TYPES.modal]: `\n    <div class='modal-container modal-container--default-form'>\n      <div class='modal-close modal-close-icon'></div>\n      <div class='form-content'>\n        <form class='contact-form'>  \n          <div class='form-header'>\n            <h3>Оставьте заявку</h3>\n            <p>Мы свяжемся с вами как можно раньше</p>\n          </div>\n          <div class='form-fields'>\n            <div class='form-field'>\n              <input type='text' name='name' placeholder='Ваше имя' class='input input-solid' />\n            </div>\n            <div class='form-field'>\n              <input type='tel' name='tel' placeholder='+7' class='input input-solid' minlength=\"10\" value='+7 ' />\n            </div>\n          </div>\n          <button type='submit' class='btn btn-orange'>Отправить</button>\n          <p class='form-disclaimer'>\n            Отправляя данные через форму вы даете согласие на обработку своих \n            <a href=\"/policy.pdf\" target=\"_blank\" rel=\"noopener noreferrer\">персональных данных</a>\n          </p>\n        </form>\n      </div>\n    </div>\n    `,\n    [FORM_TYPES.callback]: `\n      <div class='modal-container modal-container--callback-form'>\n        <div class='modal-close modal-close-icon'></div>\n        <div class='form-content'>\n          <form class='contact-form'>\n            <div class='form-header'>\n              <h4>Оставьте заявку на консультацию и&nbsp;мы&nbsp;вам перезвоним</h4>\n            </div>\n            <div class='form-fields'>\n              <div class='form-field'>\n                <input type='tel' name='tel' minlength=10 value='+7 ' class='input input-solid input--phone' required />\n              </div>\n            </div>\n            <button type=\"submit\" class=\"btn btn-green btn-fw\">\n              Да, перезвоните мне\n            </button>\n            <p class='form-disclaimer'>\n              Отправляя данные через форму вы&nbsp;даете <a href=\"/policy.pdf\" target=\"_blank\" rel=\"noopener noreferrer\">согласие на&nbsp;обработку своих персональных данных</a>\n            </p>\n          </form> \n        </div>\n      </div>\n    `,\n    [FORM_TYPES.giftForm]: `\n      <div class='modal-container modal-container--gift-form'>\n        <div class='modal-close modal-close-icon'></div>\n        <div class='form-content'>\n          <form class='contact-form'>\n            <div class='form-header'>\n              <h4>\n                У нас для вас подарок — специальная цена\n              </h4>\n              <p>\n              Оставьте заявку, чтобы&nbsp;получить персональное предложение и&nbsp;бесплатный выезд замерщика!\n            </p>\n            </div>\n            <div class='form-fields'>\n              <div class='form-field'>\n                <input type='tel' name='tel' minlength=10 value='+7 ' class='input input--phone' required />\n              </div>\n            </div>\n            <button type=\"submit\" class=\"btn btn-green btn-fw\">\n              Да, перезвоните мне\n            </button>\n            <p class='form-disclaimer'>\n              Отправляя данные через форму вы&nbsp;даете <a href=\"/policy.pdf\" target=\"_blank\" rel=\"noopener noreferrer\">согласие на&nbsp;обработку своих персональных данных</a>\n            </p>\n          </form>\n        </div>\n      </div>`,\n  };\n\n  const formModal = document.createElement('div');\n  const modalClasses = {\n    [FORM_TYPES.modal]: 'modal-form modal-default-form hide',\n    [FORM_TYPES.callback]: 'modal-form modal-callback-form hide',\n    [FORM_TYPES.giftForm]: 'modal-form modal-gift-form hide',\n  };\n  formModal.className = modalClasses[formType.type];\n  formModal.innerHTML = formTemplates[formType.type];\n\n  updateModalSuccessTag(formModal);\n  formType.form = formModal;\n  document.body.appendChild(formModal);\n\n  if (formType.type === FORM_TYPES.callback) {\n    const iconPhoneCall = new URL(\n      '../img/phone-call-white-fill.svg',\n      import.meta.url\n    );\n    const callbackButton = `\n      <button class=\"openCallBackModal btn-callback\">\n        <img src=\"${iconPhoneCall}\" \n          alt=\"Заказать консультацию бесплатно\" \n          loading=\"lazy\"\n          decoding=\"async\" \n        />\n      </button>`;\n\n    formModal.insertAdjacentHTML('afterbegin', callbackButton);\n\n    const openCallBackModal = document.querySelector('.openCallBackModal');\n    if (openCallBackModal) {\n      openCallBackModal.addEventListener('click', e => {\n        e.preventDefault();\n        toggleModal(formModal);\n      });\n    }\n\n    if (!isFormSendedFresh()) {\n      setTimeout(() => {\n        showModal(formModal);\n      }, showCallbackFormDelay);\n    }\n  }\n\n  if (formType.type === FORM_TYPES.giftForm) {\n    const giftButton = `\n      <button class=\"openGiftModal btn-gift hide\">\n        <label>Получи подарок!</label>\n      </button>`;\n    formModal.insertAdjacentHTML('afterbegin', giftButton);\n\n    const openGiftModal = formModal.querySelector('.openGiftModal');\n    if (openGiftModal) {\n      openGiftModal.addEventListener('click', e => {\n        e.preventDefault();\n        toggleModal(formModal);\n        triggerMetrikaOpenGiftForm();\n      });\n    }\n\n    if (!isFormSendedFresh()) {\n      setTimeout(() => {\n        const button = formModal.querySelector('.btn-gift.hide');\n        button.classList.remove('hide');\n      }, showGiftDelay);\n    }\n  }\n\n  if (formType.type === FORM_TYPES.modal) {\n    const modalTriggers = document.querySelectorAll(\n      '[href=\"/forma-obratnoj-svyaz\"], .modal-trigger'\n    );\n\n    modalTriggers.forEach(trigger => {\n      trigger.addEventListener('click', e => {\n        e.preventDefault();\n        getTriggerInfo({ trigger, formType });\n        showModal(formModal);\n      });\n    });\n  }\n\n  /***** Setup form handlers *****/\n\n  // Submit handler\n  const formTag = formModal.querySelector('.contact-form');\n  if (formTag) {\n    formTag.addEventListener('submit', handleFormSubmit(formType));\n\n    // Setup phone input\n    const phoneInput = formTag.querySelector('input[type=\"tel\"]');\n    if (phoneInput) {\n      phoneInput.addEventListener('input', formatPhoneInput);\n    }\n  }\n\n  // Close handler\n  const closeIcon = formModal.querySelector('.modal-close-icon');\n  if (closeIcon) {\n    closeIcon.addEventListener('click', e => {\n      e.preventDefault();\n      hideModal(formModal);\n      triggerMetrikaCloseModal();\n    });\n  }\n\n  // Close on backdrop handler\n  window.addEventListener('click', e => {\n    if (e.target === formModal) {\n      hideModal(formModal);\n    }\n  });\n\n  return formModal;\n};\n\nconst getTriggerInfo = ({ trigger, formType }) => {\n  const buttonText =\n    trigger.textContent?.trim() ||\n    trigger.querySelector('.btn-main-text')?.textContent?.trim() ||\n    'Кнопка';\n  const buttonType = trigger.className?.includes('btn-green')\n    ? 'Зеленая кнопка'\n    : trigger.className?.includes('btn-light-blue')\n    ? 'Голубая кнопка'\n    : trigger.className?.includes('btn-primary')\n    ? 'Основная кнопка'\n    : 'Кнопка';\n\n  // Define section or header\n  const section = findParentSection(trigger);\n  const headerContainer = trigger.closest('.header');\n  const sectionTitle = section\n    ? getSectionTitle(section)\n    : headerContainer\n    ? 'Шапка сайта'\n    : 'Неизвестная секция';\n\n  // Update trigger info\n  formType.buttonType = `${buttonType}`;\n  formType.triggerSource = `${buttonText}`;\n  formType.triggerSection = sectionTitle;\n  formType.formLocation = `Модальная форма`;\n};\n\nconst showModal = modal => {\n  modal.classList.remove('hide');\n  modal.classList.add('show');\n};\n\nconst hideModal = modal => {\n  modal.classList.remove('show');\n  modal.classList.add('hide');\n};\n\nconst toggleModal = modal => {\n  modal.classList.toggle('show');\n  modal.classList.toggle('hide');\n};\n\n/**\n * Find parent section of an element\n */\nconst findParentSection = element => {\n  let current = element;\n  while (current && current !== document.body) {\n    if (\n      current.tagName === 'SECTION' ||\n      current.classList.contains('section')\n    ) {\n      return current;\n    }\n    current = current.parentElement;\n  }\n  return null;\n};\n\n/**\n * Get section title for tracking\n */\nconst getSectionTitle = section => {\n  if (!section) return '—';\n\n  // Попытка найти заголовок секции\n  const titleElement = section.querySelector('.section-title, h2, h3');\n  if (titleElement) {\n    return titleElement.textContent?.trim() || 'Секция, заголовок не найден';\n  }\n\n  // Определение по классу секции\n  const sectionClass = section.className;\n  if (sectionClass.includes('hero-section')) return 'Hero секция';\n  if (sectionClass.includes('pricing-section')) return 'Секция цен';\n  if (sectionClass.includes('glazing-balconies-section'))\n    return 'Остекление балконов';\n  if (sectionClass.includes('balcony-loggias-section'))\n    return 'Балконы и лоджии';\n  if (sectionClass.includes('reviews-section')) return 'Отзывы и работы';\n  if (sectionClass.includes('lead-form-section')) return 'Форма заявки';\n  if (sectionClass.includes('contacts-section')) return 'Контакты';\n  if (sectionClass.includes('header')) return 'Шапка сайта';\n\n  return 'Неизвестная секция';\n};\n\n// ==========================================================================\n// Forms System Initialization\n// ==========================================================================\n\nexport function initializeForms() {\n  console.log('🚀 Initializing Forms System...');\n  console.log(\n    `🔧 Mode: ${\n      isDevelopment ? 'Development (fake sending)' : 'Production (real sending)'\n    }`\n  );\n\n  // initializeAnalytics();\n\n  initializeModalForm(FORM_TYPES.modal, {\n    formLocation: 'Модальная форма (всплывающая)',\n  });\n\n  initializeModalForm(FORM_TYPES.callback, {\n    formLocation: 'Форма callback',\n  });\n\n  initializeModalForm(FORM_TYPES.giftForm, {\n    formLocation: 'Форма \"подарок\"',\n  });\n\n  initializeLocalForm('contactForm', ['name', 'tel'], {\n    formLocation: 'Главная форма (Hero секция)',\n  });\n\n  initializeLocalForm('leadForm', ['tel'], {\n    formLocation:\n      'Форма сбора лидов (секция \"Не знаете какие окна подойдут именно вам\")',\n  });\n\n  initializeLocalForm('reviewLeadForm', ['name', 'tel'], {\n    formLocation:\n      'Форма отзывов (секция \"Оставьте заявку и получите точную смету на пластиковые окна...\")',\n  });\n}\n\ndocument.addEventListener('DOMContentLoaded', initializeForms);\n\n// Re-export toast functions for backward compatibility\nexport { showToast, hideToast } from './toast.js';\n","// ==========================================================================\r\n// Toast Notification Component\r\n// ==========================================================================\r\n\r\n/**\r\n * Create toast notification container if it doesn't exist\r\n */\r\nconst createToastContainer = () => {\r\n  let container = document.getElementById('toast-container');\r\n  if (!container) {\r\n    container = document.createElement('div');\r\n    container.id = 'toast-container';\r\n    container.className = 'toast-container';\r\n    document.body.appendChild(container);\r\n  }\r\n  return container;\r\n};\r\n\r\n/**\r\n * Create individual toast element\r\n * @param {string} message - Error message\r\n * @param {string} type - Toast type (error, success, info)\r\n * @param {number} duration - Duration in milliseconds\r\n * @returns {HTMLElement} - Toast element\r\n */\r\nconst createToast = (message, type = 'error', duration = 12000) => {\r\n  const toast = document.createElement('div');\r\n  toast.className = `toast toast-${type}`;\r\n\r\n  const getIcon = type => {\r\n    if (type === 'error') {\r\n      return `<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n        <path d=\"M12 1.5C6.15 1.5 1.5 6.15 1.5 12C1.5 17.85 6.15 22.5 12 22.5C17.85 22.5 22.5 17.85 22.5 12C22.5 6.15 17.85 1.5 12 1.5ZM16.05 17.25L12 13.2L7.95 17.25L6.75 16.05L10.8 12L6.75 7.95L7.95 6.75L12 10.8L16.05 6.75L17.25 7.95L13.2 12L17.25 16.05L16.05 17.25Z\" fill=\"white\"/>\r\n      </svg>`;\r\n    }\r\n    if (type === 'success') {\r\n      return `<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n        <path d=\"M12 1.5C9.9233 1.5 7.89323 2.11581 6.16652 3.26957C4.4398 4.42332 3.09399 6.0632 2.29927 7.98182C1.50455 9.90045 1.29661 12.0116 1.70176 14.0484C2.1069 16.0852 3.10693 17.9562 4.57538 19.4246C6.04383 20.8931 7.91476 21.8931 9.95156 22.2982C11.9884 22.7034 14.0996 22.4955 16.0182 21.7007C17.9368 20.906 19.5767 19.5602 20.7304 17.8335C21.8842 16.1068 22.5 14.0767 22.5 12C22.5 9.21523 21.3938 6.54451 19.4246 4.57538C17.4555 2.60625 14.7848 1.5 12 1.5ZM10.5 16.1925L6.75 12.4425L7.94251 11.25L10.5 13.8075L16.0575 8.25L17.2545 9.4395L10.5 16.1925Z\" fill=\"white\"/>\r\n      </svg>`;\r\n    }\r\n    return 'ℹ️'; // default for info\r\n  };\r\n\r\n  toast.innerHTML = `\r\n    <div class=\"toast-content\">\r\n      <div class=\"toast-icon\">\r\n        ${getIcon(type)}\r\n      </div>\r\n      <div class=\"toast-message\">${message}</div>\r\n      <button class=\"toast-close\" aria-label=\"Закрыть уведомление\">\r\n        <svg width=\"14\" height=\"14\" viewBox=\"0 0 14 14\" fill=\"none\">\r\n          <path d=\"M13 1L1 13M1 1L13 13\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\"/>\r\n        </svg>\r\n      </button>\r\n    </div>\r\n    <div class=\"toast-progress\"></div>\r\n  `;\r\n\r\n  return toast;\r\n};\r\n\r\n/**\r\n * Show toast notification\r\n * @param {string} message - Message to show\r\n * @param {string} type - Toast type (error, success, info)\r\n * @param {number} duration - Duration in milliseconds (default: 12000)\r\n */\r\nconst showToast = (message, type = 'error', duration = 12000) => {\r\n  const container = createToastContainer();\r\n  const toast = createToast(message, type, duration);\r\n\r\n  // Add unique ID to toast for debugging and isolation\r\n  const toastId = `toast-${Date.now()}-${Math.random()\r\n    .toString(36)\r\n    .substr(2, 5)}`;\r\n  toast.dataset.toastId = toastId;\r\n\r\n  // Add toast to container\r\n  container.appendChild(toast);\r\n\r\n  // Trigger animation after DOM insertion\r\n  setTimeout(() => {\r\n    toast.classList.add('toast-show');\r\n\r\n    // Start progress bar animation after toast is visible\r\n    setTimeout(() => {\r\n      const progressBar = toast.querySelector('.toast-progress');\r\n      if (progressBar) {\r\n        progressBar.style.animationDuration = `${duration / 1000}s`;\r\n        progressBar.style.animationName = 'toast-progress';\r\n        progressBar.style.animationPlayState = 'running';\r\n      }\r\n    }, 50);\r\n  }, 10);\r\n\r\n  // Setup close button\r\n  const closeBtn = toast.querySelector('.toast-close');\r\n  closeBtn.addEventListener('click', () => {\r\n    hideToast(toast);\r\n  });\r\n\r\n  // Simple timer management - each toast has its own isolated state\r\n  let autoHideTimeout = null;\r\n  let isPaused = false;\r\n  let isDestroyed = false;\r\n  let startTime = Date.now();\r\n  let totalPausedTime = 0; // Общее время, проведенное на паузе\r\n  let pauseStartTime = 0; // Время начала текущей паузы\r\n\r\n  // Function to start auto-hide timer\r\n  const startAutoHideTimer = () => {\r\n    if (isDestroyed || isPaused) return;\r\n\r\n    const elapsed = Date.now() - startTime - totalPausedTime;\r\n    const remaining = Math.max(0, duration - elapsed);\r\n\r\n    if (remaining <= 0) {\r\n      hideToast(toast);\r\n      return;\r\n    }\r\n\r\n    // Clear any existing timeout\r\n    if (autoHideTimeout) {\r\n      clearTimeout(autoHideTimeout);\r\n    }\r\n\r\n    autoHideTimeout = setTimeout(() => {\r\n      if (!isDestroyed && !isPaused) {\r\n        hideToast(toast);\r\n      }\r\n    }, remaining);\r\n  };\r\n\r\n  // Function to pause toast\r\n  const pauseToast = () => {\r\n    if (isPaused || isDestroyed) return;\r\n\r\n    isPaused = true;\r\n    pauseStartTime = Date.now();\r\n\r\n    // Pause progress bar animation\r\n    const progressBar = toast.querySelector('.toast-progress');\r\n    if (progressBar) {\r\n      progressBar.style.animationPlayState = 'paused';\r\n    }\r\n\r\n    // Clear timer\r\n    if (autoHideTimeout) {\r\n      clearTimeout(autoHideTimeout);\r\n      autoHideTimeout = null;\r\n    }\r\n  };\r\n\r\n  // Function to resume toast\r\n  const resumeToast = () => {\r\n    if (!isPaused || isDestroyed) return;\r\n\r\n    // Add current pause duration to total paused time\r\n    totalPausedTime += Date.now() - pauseStartTime;\r\n    isPaused = false;\r\n\r\n    // Resume progress bar animation\r\n    const progressBar = toast.querySelector('.toast-progress');\r\n    if (progressBar) {\r\n      progressBar.style.animationPlayState = 'running';\r\n    }\r\n\r\n    // Restart timer for remaining time\r\n    startAutoHideTimer();\r\n  };\r\n\r\n  // Setup hover effects - isolated for this specific toast\r\n  let isHovered = false;\r\n\r\n  const handleMouseEnter = () => {\r\n    if (isHovered || isDestroyed) return;\r\n    isHovered = true;\r\n    pauseToast();\r\n  };\r\n\r\n  const handleMouseLeave = () => {\r\n    if (!isHovered || isDestroyed) return;\r\n    isHovered = false;\r\n    resumeToast();\r\n  };\r\n\r\n  // Bind events to this specific toast element\r\n  toast.addEventListener('mouseenter', handleMouseEnter);\r\n  toast.addEventListener('mouseleave', handleMouseLeave);\r\n\r\n  // Cleanup function - isolated for this toast instance\r\n  const cleanup = () => {\r\n    isDestroyed = true;\r\n    if (autoHideTimeout) {\r\n      clearTimeout(autoHideTimeout);\r\n      autoHideTimeout = null;\r\n    }\r\n    toast.removeEventListener('mouseenter', handleMouseEnter);\r\n    toast.removeEventListener('mouseleave', handleMouseLeave);\r\n  };\r\n\r\n  // Store cleanup function\r\n  toast._cleanup = cleanup;\r\n\r\n  // Start initial timer\r\n  startAutoHideTimer();\r\n\r\n  return toast;\r\n};\r\n\r\n/**\r\n * Hide toast notification\r\n * @param {HTMLElement} toast - Toast element to hide\r\n */\r\nconst hideToast = toast => {\r\n  if (!toast || !toast.parentNode) return;\r\n\r\n  // Call cleanup function if it exists\r\n  if (typeof toast._cleanup === 'function') {\r\n    toast._cleanup();\r\n  }\r\n\r\n  // Clear timeout if exists\r\n  if (toast.dataset.timeoutId) {\r\n    clearTimeout(parseInt(toast.dataset.timeoutId));\r\n  }\r\n\r\n  // Add hide animation\r\n  toast.classList.add('toast-hide');\r\n\r\n  // Remove from DOM after animation\r\n  setTimeout(() => {\r\n    if (toast.parentNode) {\r\n      toast.parentNode.removeChild(toast);\r\n    }\r\n  }, 300); // Match CSS transition duration\r\n};\r\n\r\n// Export functions for use in other modules\r\nexport { showToast, hideToast, createToast, createToastContainer };\r\n","// ==========================================================================\r\n// Analytics Module\r\n// ==========================================================================\r\n\r\n/**\r\n * Get client IP address\r\n * @returns {Promise<string>} - Client IP\r\n */\r\nexport const getClientIP = async () => {\r\n  try {\r\n    const response = await fetch('https://api.ipify.org?format=json');\r\n    const data = await response.json();\r\n    return data.ip;\r\n  } catch (error) {\r\n    return 'Не определен';\r\n  }\r\n};\r\n\r\n/**\r\n * Get UTM parameters from URL\r\n * @returns {Object} - UTM parameters\r\n */\r\nexport const getUTMParams = () => {\r\n  const urlParams = new URLSearchParams(window.location.search);\r\n  const utmParams = {};\r\n\r\n  for (let [key, value] of urlParams.entries()) {\r\n    if (key.startsWith('utm_')) {\r\n      utmParams[key] = value;\r\n    }\r\n  }\r\n\r\n  return utmParams;\r\n};\r\n\r\n/**\r\n * Get user device information\r\n * Tries exact brand/model first, then approximate, then unknown.\r\n * @returns {Object} - Device info\r\n */\r\nexport const getDeviceInfo = () => {\r\n  const userAgent = navigator.userAgent || '';\r\n\r\n  const isIPadDesktopUA =\r\n    navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1;\r\n\r\n  const isAndroid = /Android/i.test(userAgent);\r\n  const isIPhone = /iPhone/i.test(userAgent);\r\n  const isIPad = /iPad/i.test(userAgent) || isIPadDesktopUA;\r\n  const isIOSLike = /iPhone|iPad|iPod/i.test(userAgent) || isIPadDesktopUA;\r\n\r\n  const isMobile =\r\n    (isAndroid && /Mobile/i.test(userAgent)) ||\r\n    isIPhone ||\r\n    (!!navigator.userAgentData && navigator.userAgentData.mobile === true);\r\n  const isTablet = isIPad || (isAndroid && !/Mobile/i.test(userAgent));\r\n\r\n  const screenMin = Math.min(screen.width, screen.height);\r\n  const screenMax = Math.max(screen.width, screen.height);\r\n  const dpr = Math.round(window.devicePixelRatio || 1);\r\n\r\n  const screenKey = `${screenMin}x${screenMax}@${dpr}`;\r\n\r\n  function approximateIPhoneModel() {\r\n    const map = {\r\n      '320x568@2': 'iPhone SE / 5/5s/5c (approx.)',\r\n      '375x667@2': 'iPhone 6/6s/7/8/SE 2-3 (approx.)',\r\n      '414x736@3': 'iPhone 6+/6s+/7+/8+ (approx.)',\r\n      '375x812@3': 'iPhone X/XS/11 Pro (approx.)',\r\n      '360x780@3': 'iPhone 12 mini/13 mini (approx.)',\r\n      '390x844@3': 'iPhone 12/13/14/16e (approx.)',\r\n      '393x852@3': 'iPhone 14 Pro/15 Pro/16 (approx.)',\r\n      '402x874@3': 'iPhone 16 Pro (approx.)',\r\n      '428x926@3': 'iPhone 12/13 Pro Max / 14 Plus (approx.)',\r\n      '430x932@3': 'iPhone 14 Pro Max / 15 Pro Max / 16 Plus (approx.)',\r\n      '440x956@3': 'iPhone 16 Pro Max (approx.)',\r\n    };\r\n    return map[screenKey] || 'iPhone (модель не распознана)';\r\n  }\r\n\r\n  function guessAndroidBrandFromModel(model) {\r\n    const m = model || '';\r\n    if (/POCO/i.test(m)) return 'POCO';\r\n    if (/Redmi/i.test(m)) return 'Redmi';\r\n    if (/SM-|SAMSUNG|Samsung|GT-|SCH-|SGH-/i.test(m)) return 'Samsung';\r\n    if (/ONEPLUS|LE\\d|NE\\d/i.test(m)) return 'OnePlus';\r\n    if (/Pixel|Nexus|Google/i.test(m)) return 'Google';\r\n    if (/HUAWEI|Huawei|HONOR|Honor|EVA-|VOG-|LYA-|CLT-|ANE-/i.test(m))\r\n      return /HONOR|Honor/i.test(m) ? 'Honor' : 'Huawei';\r\n    if (/CPH\\d|OPPO|P[A-Z]\\d{3}/i.test(m)) return 'OPPO';\r\n    if (/Vivo|V\\d{3}/i.test(m)) return 'Vivo';\r\n    if (/RMX\\d|Realme/i.test(m)) return 'Realme';\r\n    if (/Moto|Motorola|XT\\d/i.test(m)) return 'Motorola';\r\n    if (/ASUS|ROG|AI\\d/i.test(m)) return 'ASUS';\r\n    if (/Sony|XQ-|H\\d{4}/i.test(m)) return 'Sony';\r\n    if (/Xiaomi|Mi\\s|MIX\\s|M\\d{4}/i.test(m)) return 'Xiaomi';\r\n    return null;\r\n  }\r\n\r\n  function extractAndroidModelFromUA(ua) {\r\n    try {\r\n      const afterAndroid = ua.split(/Android\\s+[\\d.]+\\s*;\\s*/i)[1];\r\n      if (!afterAndroid) return null;\r\n      const untilParen = afterAndroid.split(')')[0];\r\n      const tokens = untilParen.split(/;\\s*/);\r\n      const candidate = tokens.find(t => {\r\n        const token = t.trim();\r\n        if (!token) return false;\r\n        if (/^[a-z]{2}-[A-Z]{2}$/.test(token)) return false; // locale\r\n        if (/Build\\//i.test(token)) return false;\r\n        if (/Linux|U|wv|AppleWebKit|KHTML|Version|Mobile/i.test(token))\r\n          return false;\r\n        if (/^\\d+(?:[._]\\d+)*$/.test(token)) return false; // pure version\r\n        return /[A-Za-z]/.test(token) && /[0-9A-Za-z-]/.test(token);\r\n      });\r\n      return candidate ? candidate.trim() : null;\r\n    } catch (e) {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  let brand = null;\r\n  let model = null;\r\n  let deviceModel = 'Неизвестное устройство';\r\n  let approximationLevel = 'unknown';\r\n\r\n  if (isIPhone) {\r\n    const exactModelMatch = userAgent.match(\r\n      /\\(([^;]+);\\s*CPU\\s+iPhone\\s+OS\\s+(\\d+)_(\\d+)/\r\n    );\r\n    brand = 'Apple';\r\n    if (exactModelMatch) {\r\n      const modelInfo = exactModelMatch[1].trim();\r\n      const majorVersion = parseInt(exactModelMatch[2]);\r\n      const minorVersion = parseInt(exactModelMatch[3]);\r\n      // Если указана конкретная модель, используем её\r\n      if (modelInfo.includes('iPhone') && modelInfo !== 'iPhone') {\r\n        model = modelInfo.replace(/^Apple\\s+/i, '');\r\n        approximationLevel = 'exact';\r\n      } else {\r\n        // Если точной модели нет, пробуем определить по экрану\r\n        const approx = approximateIPhoneModel();\r\n        if (approx && !/не распознана/i.test(approx)) {\r\n          model = approx;\r\n          approximationLevel = 'approximate';\r\n        } else {\r\n          model = `iPhone (iOS ${majorVersion}.${minorVersion})`;\r\n          approximationLevel = 'approximate';\r\n        }\r\n      }\r\n    } else {\r\n      // Нет iOS версии в UA — определяем по экрану\r\n      const approx = approximateIPhoneModel();\r\n      model = approx;\r\n      approximationLevel = 'approximate';\r\n    }\r\n  } else if (isIPad) {\r\n    brand = 'Apple';\r\n    model = 'iPad';\r\n    approximationLevel = 'approximate';\r\n  } else if (isAndroid) {\r\n    const androidModel = extractAndroidModelFromUA(userAgent);\r\n    if (androidModel) {\r\n      model = androidModel;\r\n      const guessed = guessAndroidBrandFromModel(androidModel);\r\n      brand =\r\n        guessed ||\r\n        /(Samsung|Xiaomi|Huawei|OnePlus|Google|OPPO|Vivo|Realme|Redmi|POCO)/i.exec(\r\n          userAgent\r\n        )?.[1] ||\r\n        null;\r\n      approximationLevel = 'exact';\r\n    } else {\r\n      const match =\r\n        /(Samsung|Xiaomi|Huawei|OnePlus|Google|OPPO|Vivo|Realme|Redmi|POCO)/i.exec(\r\n          userAgent\r\n        );\r\n      if (match) {\r\n        brand = match[1];\r\n        model = `${brand} устройство`;\r\n        approximationLevel = 'approximate';\r\n      }\r\n    }\r\n  } else if (/Windows/i.test(userAgent)) {\r\n    brand = null;\r\n    model = 'Windows PC';\r\n    approximationLevel = 'approximate';\r\n  } else if (/Macintosh/i.test(userAgent) && !isIPadDesktopUA) {\r\n    brand = 'Apple';\r\n    model = 'Mac';\r\n    approximationLevel = 'approximate';\r\n  } else if (/Linux/i.test(userAgent)) {\r\n    brand = null;\r\n    model = 'Linux PC';\r\n    approximationLevel = 'approximate';\r\n  }\r\n\r\n  if (brand && model) {\r\n    const modelLower = model.toLowerCase();\r\n    const brandLower = brand.toLowerCase();\r\n    deviceModel = modelLower.includes(brandLower) ? model : `${brand} ${model}`;\r\n  } else if (model) {\r\n    deviceModel = model;\r\n  } else if (isIOSLike) {\r\n    deviceModel = isIPhone ? 'iPhone' : 'iPad';\r\n  } else if (isAndroid) {\r\n    deviceModel = 'Android устройство';\r\n  } else {\r\n    deviceModel = 'Не удалось определить устройство';\r\n  }\r\n\r\n  // Browser detection\r\n  let browser = 'Неизвестный браузер';\r\n  if (/YaBrowser|Yowser/i.test(userAgent)) browser = 'Yandex Browser';\r\n  else if (/Edg\\//i.test(userAgent)) browser = 'Edge';\r\n  else if (/OPR\\//i.test(userAgent)) browser = 'Opera';\r\n  else if (/Chrome/i.test(userAgent) && !/Edg\\//i.test(userAgent))\r\n    browser = 'Chrome';\r\n  else if (/Firefox/i.test(userAgent)) browser = 'Firefox';\r\n  else if (/Safari/i.test(userAgent) && !/Chrome/i.test(userAgent))\r\n    browser = 'Safari';\r\n\r\n  // OS version string\r\n  let osVersion = 'Неизвестная ОС';\r\n  if (/Windows NT/i.test(userAgent)) {\r\n    const windowsMatch = userAgent.match(/Windows NT (\\d+\\.\\d+)/);\r\n    if (windowsMatch) {\r\n      const version = parseFloat(windowsMatch[1]);\r\n      osVersion =\r\n        version >= 10.0\r\n          ? 'Windows 11/10'\r\n          : version >= 6.3\r\n          ? 'Windows 8.1'\r\n          : version >= 6.2\r\n          ? 'Windows 8'\r\n          : version >= 6.1\r\n          ? 'Windows 7'\r\n          : version >= 6.0\r\n          ? 'Windows Vista'\r\n          : 'Windows (старая версия)';\r\n    } else {\r\n      osVersion = 'Windows';\r\n    }\r\n  } else if (/Macintosh/i.test(userAgent) && !isIPadDesktopUA) {\r\n    const macMatch = userAgent.match(/Mac OS X (\\d+[._]\\d+)/);\r\n    if (macMatch) {\r\n      const version = macMatch[1].replace('_', '.');\r\n      const versionNum = parseFloat(version);\r\n      osVersion =\r\n        versionNum >= 14.0\r\n          ? 'macOS Sonoma (14+)'\r\n          : versionNum >= 13.0\r\n          ? 'macOS Ventura (13+)'\r\n          : versionNum >= 12.0\r\n          ? 'macOS Monterey (12+)'\r\n          : versionNum >= 11.0\r\n          ? 'macOS Big Sur (11+)'\r\n          : versionNum >= 10.15\r\n          ? 'macOS Catalina (10.15)'\r\n          : versionNum >= 10.14\r\n          ? 'macOS Mojave (10.14)'\r\n          : 'macOS (старая версия)';\r\n    } else {\r\n      osVersion = 'macOS';\r\n    }\r\n  } else if (isIOSLike) {\r\n    const iosMatch = userAgent.match(/OS (\\d+)_?(\\d+)?/);\r\n    if (iosMatch) {\r\n      const majorVersion = parseInt(iosMatch[1]);\r\n      const minorVersion = iosMatch[2] ? parseInt(iosMatch[2]) : undefined;\r\n      osVersion = `iOS/iPadOS ${majorVersion}${\r\n        typeof minorVersion === 'number' ? `.${minorVersion}` : ''\r\n      }`;\r\n    } else {\r\n      osVersion = isIPadDesktopUA ? 'iPadOS (approx.)' : 'iOS';\r\n    }\r\n  } else if (isAndroid) {\r\n    const androidMatch = userAgent.match(/Android (\\d+\\.?\\d*)/);\r\n    if (androidMatch) {\r\n      const version = parseFloat(androidMatch[1]);\r\n      osVersion =\r\n        version >= 14\r\n          ? 'Android 14+'\r\n          : version >= 13\r\n          ? 'Android 13+'\r\n          : version >= 12\r\n          ? 'Android 12+'\r\n          : version >= 11\r\n          ? 'Android 11+'\r\n          : version >= 10\r\n          ? 'Android 10+'\r\n          : version >= 9\r\n          ? 'Android 9+'\r\n          : 'Android (старая версия)';\r\n    } else {\r\n      osVersion = 'Android';\r\n    }\r\n  } else if (/Linux/i.test(userAgent)) {\r\n    osVersion = 'Linux';\r\n  }\r\n\r\n  return {\r\n    isMobile,\r\n    isTablet,\r\n    isDesktop: !isMobile && !isTablet,\r\n    deviceModel,\r\n    brand: brand || '—',\r\n    model: model || '—',\r\n    approximation: approximationLevel,\r\n    browser,\r\n    osVersion,\r\n    userAgent:\r\n      userAgent.substring(0, 120) + (userAgent.length > 120 ? '…' : ''),\r\n    screenResolution: `${screen.width}x${screen.height}`,\r\n    language: navigator.language,\r\n    timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,\r\n  };\r\n};\r\n\r\n/**\r\n * Get session information\r\n * @returns {Object} - Session info\r\n */\r\n// ----------------------------------------------------------------------------\r\n// Persistence helpers (handle iOS tab discard / reload)\r\n// ----------------------------------------------------------------------------\r\nconst getOrInitTabId = () => {\r\n  try {\r\n    if (!window.name || !window.name.startsWith('tab:')) {\r\n      window.name = `tab:${Math.random().toString(36).slice(2)}-${Date.now()}`;\r\n    }\r\n    return window.name;\r\n  } catch (_) {\r\n    return 'tab:unknown';\r\n  }\r\n};\r\n\r\nconst getAccActivePersistKey = () => `accActiveMs:${getOrInitTabId()}`;\r\n\r\nconst readPersistedAccActiveMs = () => {\r\n  try {\r\n    const key = getAccActivePersistKey();\r\n    const value = localStorage.getItem(key);\r\n    if (value != null) return parseInt(value) || 0;\r\n    // Legacy/global fallback\r\n    const legacy = localStorage.getItem('accActiveMsPersist');\r\n    return legacy != null ? parseInt(legacy) || 0 : 0;\r\n  } catch (_) {\r\n    return 0;\r\n  }\r\n};\r\n\r\nconst writePersistedAccActiveMs = ms => {\r\n  try {\r\n    const normalized = Math.max(0, ms | 0);\r\n    localStorage.setItem(getAccActivePersistKey(), String(normalized));\r\n    // Keep a global backup to survive even if tab id changes\r\n    localStorage.setItem('accActiveMsPersist', String(normalized));\r\n  } catch (_) {}\r\n};\r\n\r\nexport const getSessionInfo = () => {\r\n  // Read accumulated active time (in ms) and estimate up to idle threshold\r\n  const IDLE_THRESHOLD_MS = 30000; // 30s of inactivity switches to idle\r\n  // Fallback to localStorage backup in case iOS discarded the page (sessionStorage lost)\r\n  const accumulatedActiveMs = parseInt(\r\n    sessionStorage.getItem('accActiveMs') ||\r\n      (typeof readPersistedAccActiveMs === 'function'\r\n        ? String(readPersistedAccActiveMs())\r\n        : '0') ||\r\n      '0'\r\n  );\r\n  const lastEventTs = parseInt(sessionStorage.getItem('lastEventTs') || '0');\r\n  const isIdle = sessionStorage.getItem('isIdle') === '1';\r\n\r\n  let activeMs = accumulatedActiveMs;\r\n  if (!isIdle && lastEventTs) {\r\n    // Add recent activity since last event, capped by idle threshold\r\n    const delta = Date.now() - lastEventTs;\r\n    activeMs += Math.max(0, Math.min(delta, IDLE_THRESHOLD_MS));\r\n  }\r\n\r\n  const timeOnSite = Math.max(Math.floor(activeMs / 1000), 0);\r\n\r\n  const visitCount = parseInt(localStorage.getItem('visitCount') || '1');\r\n  const lastVisit = localStorage.getItem('lastVisit');\r\n\r\n  return {\r\n    timeOnSite: `${Math.floor(timeOnSite / 60)}м ${timeOnSite % 60}с`,\r\n    visitCount,\r\n    lastVisit: lastVisit\r\n      ? new Date(parseInt(lastVisit)).toLocaleDateString('ru-RU')\r\n      : 'Первое посещение',\r\n    currentPage: window.location.pathname,\r\n    referrer: document.referrer || 'Прямой переход',\r\n  };\r\n};\r\n\r\n/**\r\n * Initialize session tracking and activity listeners\r\n */\r\n// ----------------------------------------------------------------------------\r\n// Active time tracking (pure time on site)\r\n// ----------------------------------------------------------------------------\r\nconst IDLE_THRESHOLD_MS = 30000; // 30 seconds of inactivity -> idle\r\nlet __idleTimerId = null;\r\n\r\nconst scheduleIdleTimer = () => {\r\n  if (__idleTimerId) clearTimeout(__idleTimerId);\r\n  __idleTimerId = setTimeout(() => {\r\n    try {\r\n      const last = parseInt(sessionStorage.getItem('lastEventTs') || '0');\r\n      if (!last) {\r\n        sessionStorage.setItem('isIdle', '1');\r\n        sessionStorage.setItem('lastEventTs', Date.now().toString());\r\n        // persist current accumulated value\r\n        const acc = parseInt(sessionStorage.getItem('accActiveMs') || '0');\r\n        writePersistedAccActiveMs(acc);\r\n        return;\r\n      }\r\n      const now = Date.now();\r\n      const delta = now - last;\r\n      const addMs = Math.max(0, Math.min(delta, IDLE_THRESHOLD_MS));\r\n      const acc = parseInt(sessionStorage.getItem('accActiveMs') || '0');\r\n      const newAcc = acc + addMs;\r\n      sessionStorage.setItem('accActiveMs', String(newAcc));\r\n      writePersistedAccActiveMs(newAcc);\r\n      sessionStorage.setItem('isIdle', '1');\r\n      sessionStorage.setItem('lastEventTs', String(now));\r\n    } catch (_) {}\r\n  }, IDLE_THRESHOLD_MS);\r\n};\r\n\r\nconst handleActivity = () => {\r\n  try {\r\n    const now = Date.now();\r\n    const last = parseInt(sessionStorage.getItem('lastEventTs') || String(now));\r\n    const wasIdle = sessionStorage.getItem('isIdle') === '1';\r\n\r\n    if (!wasIdle) {\r\n      const delta = now - last;\r\n      if (delta > 0) {\r\n        const acc = parseInt(sessionStorage.getItem('accActiveMs') || '0');\r\n        const addMs = Math.max(0, Math.min(delta, IDLE_THRESHOLD_MS));\r\n        const newAcc = acc + addMs;\r\n        sessionStorage.setItem('accActiveMs', String(newAcc));\r\n        writePersistedAccActiveMs(newAcc);\r\n      }\r\n    } else {\r\n      // Transition from idle to active\r\n      sessionStorage.setItem('isIdle', '0');\r\n    }\r\n\r\n    sessionStorage.setItem('lastEventTs', String(now));\r\n  } catch (_) {}\r\n\r\n  scheduleIdleTimer();\r\n};\r\n\r\nconst forceFlushActiveTime = () => {\r\n  try {\r\n    const isIdle = sessionStorage.getItem('isIdle') === '1';\r\n    const last = parseInt(sessionStorage.getItem('lastEventTs') || '0');\r\n    if (!isIdle && last) {\r\n      const now = Date.now();\r\n      const delta = now - last;\r\n      const addMs = Math.max(0, Math.min(delta, IDLE_THRESHOLD_MS));\r\n      const acc = parseInt(sessionStorage.getItem('accActiveMs') || '0');\r\n      const newAcc = acc + addMs;\r\n      sessionStorage.setItem('accActiveMs', String(newAcc));\r\n      writePersistedAccActiveMs(newAcc);\r\n      sessionStorage.setItem('lastEventTs', String(now));\r\n    }\r\n  } catch (_) {}\r\n};\r\n\r\nexport const initializeAnalytics = () => {\r\n  // Ensure tab id exists early and preload persisted acc time if sessionStorage was wiped\r\n  const persistedAcc = readPersistedAccActiveMs();\r\n\r\n  // Core session info\r\n  if (!sessionStorage.getItem('sessionStartTime')) {\r\n    sessionStorage.setItem('sessionStartTime', Date.now().toString());\r\n  }\r\n  if (!sessionStorage.getItem('accActiveMs')) {\r\n    sessionStorage.setItem('accActiveMs', String(persistedAcc));\r\n  }\r\n  sessionStorage.setItem('lastEventTs', Date.now().toString());\r\n  sessionStorage.setItem('isIdle', '0');\r\n  // Persist immediately to align storages\r\n  try {\r\n    writePersistedAccActiveMs(\r\n      parseInt(sessionStorage.getItem('accActiveMs') || '0')\r\n    );\r\n  } catch (_) {}\r\n\r\n  // Visit stats\r\n  const visitCount = parseInt(localStorage.getItem('visitCount') || '0') + 1;\r\n  localStorage.setItem('visitCount', visitCount.toString());\r\n  localStorage.setItem('lastVisit', Date.now().toString());\r\n\r\n  // Unique pages in this session\r\n  const viewedPages = JSON.parse(sessionStorage.getItem('viewedPages') || '[]');\r\n  const currentPage = window.location.pathname;\r\n  if (!viewedPages.includes(currentPage)) {\r\n    viewedPages.push(currentPage);\r\n    sessionStorage.setItem('viewedPages', JSON.stringify(viewedPages));\r\n  }\r\n\r\n  // Activity listeners (pure time tracking)\r\n  const activityEvents = [\r\n    'pointerdown',\r\n    'pointerup',\r\n    'mousemove',\r\n    'keydown',\r\n    'scroll',\r\n    'touchstart',\r\n    'click',\r\n    'wheel',\r\n  ];\r\n  activityEvents.forEach(evt => {\r\n    document.addEventListener(evt, handleActivity, { passive: true });\r\n  });\r\n\r\n  // Visibility/focus handling\r\n  document.addEventListener('visibilitychange', () => {\r\n    if (document.hidden) {\r\n      // Go idle immediately and flush up to threshold since last event\r\n      if (__idleTimerId) clearTimeout(__idleTimerId);\r\n      try {\r\n        const last = parseInt(sessionStorage.getItem('lastEventTs') || '0');\r\n        const now = Date.now();\r\n        if (last) {\r\n          const delta = now - last;\r\n          const addMs = Math.max(0, Math.min(delta, IDLE_THRESHOLD_MS));\r\n          const acc = parseInt(sessionStorage.getItem('accActiveMs') || '0');\r\n          const newAcc = acc + addMs;\r\n          sessionStorage.setItem('accActiveMs', String(newAcc));\r\n          writePersistedAccActiveMs(newAcc);\r\n        }\r\n        sessionStorage.setItem('isIdle', '1');\r\n        sessionStorage.setItem('lastEventTs', String(Date.now()));\r\n      } catch (_) {}\r\n    } else {\r\n      handleActivity();\r\n    }\r\n  });\r\n\r\n  window.addEventListener('blur', () => {\r\n    if (__idleTimerId) clearTimeout(__idleTimerId);\r\n    try {\r\n      const last = parseInt(sessionStorage.getItem('lastEventTs') || '0');\r\n      const now = Date.now();\r\n      if (last) {\r\n        const delta = now - last;\r\n        const addMs = Math.max(0, Math.min(delta, IDLE_THRESHOLD_MS));\r\n        const acc = parseInt(sessionStorage.getItem('accActiveMs') || '0');\r\n        const newAcc = acc + addMs;\r\n        sessionStorage.setItem('accActiveMs', String(newAcc));\r\n        writePersistedAccActiveMs(newAcc);\r\n      }\r\n      sessionStorage.setItem('isIdle', '1');\r\n      sessionStorage.setItem('lastEventTs', String(Date.now()));\r\n    } catch (_) {}\r\n  });\r\n\r\n  window.addEventListener('focus', () => handleActivity());\r\n\r\n  // Flush active time when leaving\r\n  window.addEventListener('beforeunload', () => {\r\n    forceFlushActiveTime();\r\n  });\r\n\r\n  // iOS Safari often fires pagehide/pageshow and can discard bfcache/state\r\n  window.addEventListener('pagehide', () => {\r\n    try {\r\n      forceFlushActiveTime();\r\n      const acc = parseInt(sessionStorage.getItem('accActiveMs') || '0');\r\n      writePersistedAccActiveMs(acc);\r\n    } catch (_) {}\r\n  });\r\n\r\n  window.addEventListener('pageshow', evt => {\r\n    try {\r\n      // If the page was restored from BFCache, keep going; if it was a new load after discard, restore acc time\r\n      if (evt.persisted) {\r\n        // Just resume timers\r\n        handleActivity();\r\n      } else {\r\n        // New context; restore from persistence\r\n        const restored = readPersistedAccActiveMs();\r\n        const current = parseInt(sessionStorage.getItem('accActiveMs') || '0');\r\n        if (restored > current) {\r\n          sessionStorage.setItem('accActiveMs', String(restored));\r\n        }\r\n        handleActivity();\r\n      }\r\n    } catch (_) {}\r\n  });\r\n\r\n  // Start idle timer\r\n  scheduleIdleTimer();\r\n};\r\n\r\n/**\r\n * Collect all analytics info in one call\r\n */\r\nexport const collectAnalyticsInfo = async () => {\r\n  const deviceInfo = getDeviceInfo();\r\n  const sessionInfo = getSessionInfo();\r\n  const utmParams = getUTMParams();\r\n  const clientIP = await getClientIP();\r\n  return { deviceInfo, sessionInfo, utmParams, clientIP };\r\n};\r\n\r\n/**\r\n * Format analytics block for Telegram message\r\n */\r\nexport const formatAnalyticsMessage = ({\r\n  deviceInfo,\r\n  sessionInfo,\r\n  utmParams,\r\n  clientIP,\r\n}) => {\r\n  let res = '';\r\n  if (utmParams && Object.keys(utmParams).length > 0) {\r\n    res += `\\n\\n<b>📈 UTM метки:</b>`;\r\n    Object.entries(utmParams).forEach(([key, value]) => {\r\n      const utmName = key\r\n        .replace('utm_', '')\r\n        .replace(/\\b\\w/g, l => l.toUpperCase());\r\n      res += `\\n${utmName}: <b>${value}</b>`;\r\n    });\r\n  }\r\n\r\n  res += `\\n\\n<i>Информация о посетителе:</i>`;\r\n  res += `\\nВремя отправки: ${new Date().toLocaleString('ru-RU')}; `;\r\n  res += `Устройство: ${\r\n    deviceInfo.isMobile\r\n      ? 'Мобильное'\r\n      : deviceInfo.isTablet\r\n      ? 'Планшет'\r\n      : 'Десктоп'\r\n  }; `;\r\n  res += `Модель: ${deviceInfo.deviceModel}; `;\r\n  res += `Браузер: ${deviceInfo.browser}; `;\r\n  res += `ОС: ${deviceInfo.osVersion}; `;\r\n  res += `Разрешение: ${deviceInfo.screenResolution}; `;\r\n  res += `Язык: ${deviceInfo.language}; `;\r\n  res += `⏱️ Время на сайте: <b>${sessionInfo.timeOnSite}</b>; `;\r\n  res += `👥 Посещений: <b>${sessionInfo.visitCount}</b>; `;\r\n  res += `🔗 Источник: <b>${sessionInfo.referrer}</b>; `;\r\n  res += `IP: ${clientIP};`;\r\n  return res;\r\n};\r\n","module.exports = parcelRequire.resolve(\"8BHOp\");","document.addEventListener('DOMContentLoaded', function () {\r\n  const tabs = document.querySelectorAll('.pricing-tabs .tab');\r\n  const carouselContainers = document.querySelectorAll(\r\n    '.pricing-carousel-container'\r\n  );\r\n\r\n  function switchTab(tabType) {\r\n    carouselContainers.forEach(container => {\r\n      container.style.display = 'none';\r\n    });\r\n\r\n    const targetContainer = document.querySelector(\r\n      `.pricing-carousel-container[data-tab=\"${tabType}\"]`\r\n    );\r\n    if (targetContainer) {\r\n      targetContainer.style.display = 'block';\r\n    }\r\n  }\r\n\r\n  tabs.forEach(tab => {\r\n    tab.addEventListener('click', function () {\r\n      tabs.forEach(t => t.classList.remove('active'));\r\n\r\n      this.classList.add('active');\r\n\r\n      const tabType = this.getAttribute('data-tab');\r\n      console.log(tabType);\r\n      switchTab(tabType);\r\n    });\r\n  });\r\n\r\n  switchTab('whs');\r\n});\r\n\r\nfunction debounce(func, delay) {\r\n  let timeout;\r\n\r\n  return function (...args) {\r\n    const context = this;\r\n\r\n    clearTimeout(timeout);\r\n\r\n    timeout = setTimeout(() => {\r\n      func.apply(context, args);\r\n    }, delay);\r\n  };\r\n}\r\n\r\ndocument.fonts.addEventListener('loadingdone', function () {\r\n  const profileComparison = document.querySelector('.profile-comparison');\r\n  const titles = profileComparison.querySelectorAll('.card-title');\r\n  const headers = profileComparison.querySelectorAll('.card-header');\r\n\r\n  function getMaxHeight() {\r\n    let maxHeight = 0;\r\n\r\n    titles.forEach(title => {\r\n      maxHeight = Math.max(maxHeight, title.offsetHeight);\r\n    });\r\n\r\n    return maxHeight;\r\n  }\r\n\r\n  const maxHeight = getMaxHeight();\r\n  headers.forEach(h => {\r\n    h.style.minHeight = `${maxHeight}px`;\r\n  });\r\n\r\n  window.addEventListener('resize', () => {\r\n    const maxHeight = getMaxHeight();\r\n    headers.forEach(h => {\r\n      h.style.minHeight = `${maxHeight}px`;\r\n    });\r\n  });\r\n});\r\n","document.addEventListener('DOMContentLoaded', function () {\r\n  let swiperPricing1 = new Swiper('.swiper-section-pricing-1', {\r\n    slidesPerView: 1,\r\n    spaceBetween: 24,\r\n    navigation: {\r\n      nextEl: '.swiper-button-next-1',\r\n      prevEl: '.swiper-button-prev-1',\r\n    },\r\n    pagination: {\r\n      el: '.swiper-pagination-1',\r\n      clickable: true,\r\n    },\r\n    breakpoints: {\r\n      390: {\r\n        slidesPerView: 2,\r\n        spaceBetween: 16,\r\n      },\r\n      768: {\r\n        slidesPerView: 3,\r\n        spaceBetween: 24,\r\n      },\r\n      1024: {\r\n        slidesPerView: 4,\r\n        spaceBetween: 24,\r\n      },\r\n    },\r\n  });\r\n\r\n  let swiperPricing2 = new Swiper('.swiper-section-pricing-2', {\r\n    slidesPerView: 1,\r\n    spaceBetween: 24,\r\n    navigation: {\r\n      nextEl: '.swiper-button-next-2',\r\n      prevEl: '.swiper-button-prev-2',\r\n    },\r\n    pagination: {\r\n      el: '.swiper-pagination-2',\r\n      clickable: true,\r\n    },\r\n    breakpoints: {\r\n      390: {\r\n        slidesPerView: 2,\r\n        spaceBetween: 16,\r\n      },\r\n      768: {\r\n        slidesPerView: 3,\r\n        spaceBetween: 24,\r\n      },\r\n      1024: {\r\n        slidesPerView: 4,\r\n        spaceBetween: 24,\r\n      },\r\n    },\r\n  });\r\n  let swiperPricing3 = new Swiper('.swiper-section-pricing-3', {\r\n    slidesPerView: 1,\r\n    spaceBetween: 24,\r\n    navigation: {\r\n      nextEl: '.swiper-button-next-3',\r\n      prevEl: '.swiper-button-prev-3',\r\n    },\r\n    pagination: {\r\n      el: '.swiper-pagination-3',\r\n      clickable: true,\r\n    },\r\n    breakpoints: {\r\n      390: {\r\n        slidesPerView: 2,\r\n        spaceBetween: 16,\r\n      },\r\n      768: {\r\n        slidesPerView: 3,\r\n        spaceBetween: 24,\r\n      },\r\n      1024: {\r\n        slidesPerView: 4,\r\n        spaceBetween: 24,\r\n      },\r\n    },\r\n  });\r\n\r\n  let swiperComparison1 = new Swiper('.swiper-section-comparison-1', {\r\n    slidesPerView: 1,\r\n    spaceBetween: 24,\r\n    navigation: {\r\n      nextEl: '.swiper-button-next-comparison-1',\r\n      prevEl: '.swiper-button-prev-comparison-1',\r\n    },\r\n    pagination: {\r\n      el: '.swiper-pagination-comparison-1',\r\n      clickable: true,\r\n    },\r\n    breakpoints: {\r\n      390: {\r\n        slidesPerView: 2,\r\n        spaceBetween: 16,\r\n      },\r\n      768: {\r\n        slidesPerView: 3,\r\n        spaceBetween: 24,\r\n      },\r\n      1024: {\r\n        slidesPerView: 3,\r\n        spaceBetween: 24,\r\n      },\r\n    },\r\n  });\r\n\r\n  let ourWorks = new Swiper('.our-works-slider', {\r\n    slidesPerView: 1,\r\n    spaceBetween: 12,\r\n    grid: {\r\n      rows: 1,\r\n    },\r\n    pagination: {\r\n      el: '.swiper-pagination',\r\n      clickable: true,\r\n      dynamicBullets: true,\r\n    },\r\n    navigation: {\r\n      nextEl: '.swiper-btn-next',\r\n      prevEl: '.swiper-btn-prev',\r\n    },\r\n    breakpoints: {\r\n      375: {\r\n        slidesPerView: 1,\r\n        spaceBetween: 12,\r\n        grid: {\r\n          rows: 1,\r\n        },\r\n      },\r\n      768: {\r\n        slidesPerView: 3,\r\n        spaceBetween: 24,\r\n        grid: {\r\n          rows: 2,\r\n        },\r\n        pagination: {\r\n          dynamicBullets: false,\r\n        },\r\n      },\r\n      1024: {\r\n        slidesPerView: 4,\r\n        spaceBetween: 24,\r\n        grid: {\r\n          rows: 2,\r\n        },\r\n        pagination: {\r\n          dynamicBullets: false,\r\n        },\r\n      },\r\n    },\r\n  });\r\n});\r\n","document.addEventListener('DOMContentLoaded', function () {\r\n  const lightbox = GLightbox({\r\n    selector: '.owlbox',\r\n    touchNavigation: true,\r\n    loop: true,\r\n  });\r\n});\r\n"],"names":["url","$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","Object","assign","i","document","addEventListener","resizeTimeout","updateBodyPadding","header","querySelector","headerHeight","Math","round","offsetHeight","body","style","paddingTop","clearTimeout","setTimeout","mobileMenuToggle","mobileMenuOverlay","navLinks","querySelectorAll","closeMobileMenu","classList","remove","overflow","setAttribute","focus","e","preventDefault","stopPropagation","contains","openMobileMenu","add","firstNavLink","forEach","link","key","innerWidth","navWrapper","trapFocus","container","focusableElements","firstFocusableElement","lastFocusableElement","length","shiftKey","activeElement","anchor","targetId","getAttribute","target","isMobile","targetPosition","offsetTop","scrollTo","top","behavior","$e6c79a397e222007$export$f6cef6fcf9ca4e17","message","type","duration","getElementById","createElement","className","appendChild","toast","$e6c79a397e222007$export$1290c4a291d31c79","innerHTML","toastId","Date","now","random","toString","substr","dataset","progressBar","animationDuration","animationName","animationPlayState","closeBtn","$e6c79a397e222007$export$49ee64cc8ae40679","autoHideTimeout","isPaused","isDestroyed","startTime","totalPausedTime","pauseStartTime","startAutoHideTimer","remaining","max","isHovered","handleMouseEnter","pauseToast","handleMouseLeave","resumeToast","_cleanup","removeEventListener","parentNode","timeoutId","parseInt","removeChild","$060b6401bd8f1882$var$TELEGRAM_CONFIG","t1","t2","chatId","mode","token","$060b6401bd8f1882$var$FORM_SENDED_KEY","$060b6401bd8f1882$var$FORM_SENDED_AT_KEY","$060b6401bd8f1882$var$isFormSendedFresh","localStorage","getItem","timestamp","Number","isFinite","removeItem","_","$060b6401bd8f1882$var$isFormSent","$060b6401bd8f1882$var$FIELD_CONFIG","tel","name","email","$060b6401bd8f1882$var$formatPhoneInput","match","digits","val","value","replace","result","$060b6401bd8f1882$var$formatPhoneForMessage","phone","startsWith","substring","$060b6401bd8f1882$var$validatePhone","operatorCode","regex","test","$060b6401bd8f1882$var$getFieldName","$060b6401bd8f1882$var$ym","ym","console","log","$060b6401bd8f1882$var$prepareTelegramMessage","formData","formType","location","hostname","entries","fieldName","trimmedValue","trim","formattedPhone","formLocation","triggerSource","buttonType","triggerSection","$060b6401bd8f1882$var$handleFormSubmit","FormData","validation","$060b6401bd8f1882$var$validateFormData","isValid","errors","push","$060b6401bd8f1882$var$showFormErrors","$060b6401bd8f1882$var$sendForm","$060b6401bd8f1882$var$sendToTelegram","encodedMessage","encodeURIComponent","fetch","then","res","json","ok","$060b6401bd8f1882$var$handleSubmissionSuccess","$060b6401bd8f1882$var$setFormSended","setItem","$060b6401bd8f1882$var$triggerMetrikaSubmitGoal","goal","goalMap","catch","error","$060b6401bd8f1882$var$handleSubmissionError","errorMessage","errorList","map","join","form","isModal","$060b6401bd8f1882$var$updateModalSuccessTag","$060b6401bd8f1882$var$hideModal","$060b6401bd8f1882$var$formReset","formTag","nodeName","reset","phoneInput","modal","formContent","existingTag","tagElement","insertAdjacentHTML","$060b6401bd8f1882$export$dcc7b70fba9bea24","formId","fields","options","warn","$060b6401bd8f1882$var$createLocalForm","$060b6401bd8f1882$var$initializeModalForm","$060b6401bd8f1882$var$createModalForm","$d7ab04b40f31cbd3$exports","URL","$parcel$distDir","formTemplates","formModal","modalClasses","iconPhoneCall","callbackButton","openCallBackModal","$060b6401bd8f1882$var$toggleModal","$060b6401bd8f1882$var$showModal","giftButton","openGiftModal","button","modalTriggers","trigger","$060b6401bd8f1882$var$getTriggerInfo","closeIcon","buttonText","textContent","includes","section","$060b6401bd8f1882$var$findParentSection","headerContainer","closest","sectionTitle","$060b6401bd8f1882$var$getSectionTitle","toggle","element","current","tagName","parentElement","titleElement","sectionClass","tabs","carouselContainers","switchTab","tabType","display","targetContainer","tab","t","fonts","profileComparison","titles","headers","getMaxHeight","maxHeight","title","h","minHeight","Swiper","slidesPerView","spaceBetween","navigation","nextEl","prevEl","pagination","el","clickable","breakpoints","grid","rows","dynamicBullets","GLightbox","selector","touchNavigation","loop","event","reason"],"version":3,"file":"d1sa.github.io.9138608e.js.map"}