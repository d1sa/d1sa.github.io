document.addEventListener("DOMContentLoaded",function(){function e(){const e=document.querySelector(".header");if(e){const t=Math.round(e.offsetHeight);t>0&&(document.body.style.paddingTop=t+"px")}}let t;e(),window.addEventListener("resize",function(){clearTimeout(t),t=setTimeout(e,100)}),window.addEventListener("orientationchange",function(){setTimeout(e,200)})}),document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".header"),t=document.querySelector(".mobile-menu-toggle"),n=document.querySelector(".mobile-menu-overlay"),o=document.querySelectorAll(".nav-link");if(!t||!e)return;function i(){e.classList.contains("mobile-menu-open")?r():function(){e.classList.add("mobile-menu-open"),document.body.style.overflow="hidden",t.setAttribute("aria-expanded","true"),t.setAttribute("aria-label","–ó–∞–∫—Ä—ã—Ç—å –º–µ–Ω—é");const n=document.querySelector(".nav-link");n&&setTimeout(()=>n.focus(),300)}()}function r(){e.classList.remove("mobile-menu-open"),document.body.style.overflow="",t.setAttribute("aria-expanded","false"),t.setAttribute("aria-label","–û—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é"),t.focus()}t.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),i()}),n&&n.addEventListener("click",function(){r()}),o.forEach(e=>{e.addEventListener("click",function(){setTimeout(()=>{r()},150)})}),document.addEventListener("keydown",function(t){"Escape"===t.key&&e.classList.contains("mobile-menu-open")&&r()}),window.addEventListener("resize",function(){window.innerWidth>=768&&r()});const s=document.querySelector(".nav-and-actions-wrapper");s&&function(e){const t=e.querySelectorAll('a[href], button, textarea, input[type="text"], input[type="radio"], input[type="checkbox"], select'),n=t[0],o=t[t.length-1];e.addEventListener("keydown",function(e){"Tab"===e.key&&(e.shiftKey?document.activeElement===n&&(o.focus(),e.preventDefault()):document.activeElement===o&&(n.focus(),e.preventDefault()))})}(s)});const e=(e,n="error",o=12e3)=>{const i=(()=>{let e=document.getElementById("toast-container");return e||(e=document.createElement("div"),e.id="toast-container",e.className="toast-container",document.body.appendChild(e)),e})(),r=((e,t="error")=>{const n=document.createElement("div");return n.className=`toast toast-${t}`,n.innerHTML=`\n    <div class="toast-content">\n      <div class="toast-icon">\n        ${(e=>"error"===e?'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M12 1.5C6.15 1.5 1.5 6.15 1.5 12C1.5 17.85 6.15 22.5 12 22.5C17.85 22.5 22.5 17.85 22.5 12C22.5 6.15 17.85 1.5 12 1.5ZM16.05 17.25L12 13.2L7.95 17.25L6.75 16.05L10.8 12L6.75 7.95L7.95 6.75L12 10.8L16.05 6.75L17.25 7.95L13.2 12L17.25 16.05L16.05 17.25Z" fill="white"/>\n      </svg>':"success"===e?'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M12 1.5C9.9233 1.5 7.89323 2.11581 6.16652 3.26957C4.4398 4.42332 3.09399 6.0632 2.29927 7.98182C1.50455 9.90045 1.29661 12.0116 1.70176 14.0484C2.1069 16.0852 3.10693 17.9562 4.57538 19.4246C6.04383 20.8931 7.91476 21.8931 9.95156 22.2982C11.9884 22.7034 14.0996 22.4955 16.0182 21.7007C17.9368 20.906 19.5767 19.5602 20.7304 17.8335C21.8842 16.1068 22.5 14.0767 22.5 12C22.5 9.21523 21.3938 6.54451 19.4246 4.57538C17.4555 2.60625 14.7848 1.5 12 1.5ZM10.5 16.1925L6.75 12.4425L7.94251 11.25L10.5 13.8075L16.0575 8.25L17.2545 9.4395L10.5 16.1925Z" fill="white"/>\n      </svg>':"‚ÑπÔ∏è")(t)}\n      </div>\n      <div class="toast-message">${e}</div>\n      <button class="toast-close" aria-label="–ó–∞–∫—Ä—ã—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ">\n        <svg width="14" height="14" viewBox="0 0 14 14" fill="none">\n          <path d="M13 1L1 13M1 1L13 13" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>\n        </svg>\n      </button>\n    </div>\n    <div class="toast-progress"></div>\n  `,n})(e,n,o),s=`toast-${Date.now()}-${Math.random().toString(36).substr(2,5)}`;r.dataset.toastId=s,i.appendChild(r),setTimeout(()=>{r.classList.add("toast-show"),setTimeout(()=>{const e=r.querySelector(".toast-progress");e&&(e.style.animationDuration=o/1e3+"s",e.style.animationName="toast-progress",e.style.animationPlayState="running")},50)},10);r.querySelector(".toast-close").addEventListener("click",()=>{t(r)});let a=null,c=!1,l=!1,d=Date.now(),u=0,m=0;const p=()=>{if(l||c)return;const e=Date.now()-d-u,n=Math.max(0,o-e);n<=0?t(r):(a&&clearTimeout(a),a=setTimeout(()=>{l||c||t(r)},n))};let w=!1;const v=()=>{w||l||(w=!0,(()=>{if(c||l)return;c=!0,m=Date.now();const e=r.querySelector(".toast-progress");e&&(e.style.animationPlayState="paused"),a&&(clearTimeout(a),a=null)})())},f=()=>{w&&!l&&(w=!1,(()=>{if(!c||l)return;u+=Date.now()-m,c=!1;const e=r.querySelector(".toast-progress");e&&(e.style.animationPlayState="running"),p()})())};r.addEventListener("mouseenter",v),r.addEventListener("mouseleave",f);return r._cleanup=()=>{l=!0,a&&(clearTimeout(a),a=null),r.removeEventListener("mouseenter",v),r.removeEventListener("mouseleave",f)},p(),r},t=e=>{e&&e.parentNode&&("function"==typeof e._cleanup&&e._cleanup(),e.dataset.timeoutId&&clearTimeout(parseInt(e.dataset.timeoutId)),e.classList.add("toast-hide"),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e)},300))},n={token1:"",token2:"",chatId:"",mode:"html",get token(){return`${this.token1}:${this.token2}`}},o=window.ym;o||console.log("Yandex Metrika –Ω–µ –Ω–∞–π–¥–µ–Ω–∞");const i={tel:"–ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω",name:"–ò–º—è",email:"Email (–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)"},r="modalForm",s="registeredForm",a="callbackForm",c="mainBlueForm",l=new Map,d=e=>{const t=e.target.value.replace(/\D/g,"").match(/(7|8)?(\d{0,3})(\d{0,3})(\d{0,2})(\d{0,2})/);let n="+7 ";t[2]&&(n+="("+t[2],t[2]&&t[3]&&(n+=")")),t[3]&&(n+=" "+t[3]),t[4]&&(n+=" "+t[4]),t[5]&&(n+="-"+t[5]),e.target.value=n},u=e=>/^(\+7|7|8)?[\s\-]?\(?[489][0-9]{2}\)?[\s\-]?[0-9]{3}[\s\-]?[0-9]{2}[\s\-]?[0-9]{2}$/.test(e),m=e=>i[e]||e,p=({message:e,formType:t})=>{console.log("üì§ Production mode - sending to Telegram bot"),(({message:e,formType:t})=>{const{token:o,chatId:i,mode:r}=n,s=encodeURI(e);fetch(`https://api.telegram.org/bot${o}/sendMessage?chat_id=${i}&parse_mode=${r}&text=${s}`).then(e=>e.json()).then(e=>{console.log("Telegram API response:",e),e.ok&&(g(t),localStorage.setItem("formSended",!0),w(t.type))}).catch(e=>{console.error("Telegram sending error:",e),g(t)})})({message:e,formType:t})},w=e=>{if(!o)return;const t={[r]:"new_lid",[a]:"new_lid",[c]:"new_lid"}[e];t&&o(75394450,"reachGoal",t)},v=t=>n=>{if(n.preventDefault(),t.type===r&&"undefined"!=typeof grecaptcha){if(0===grecaptcha.getResponse().length)return e("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ, —á—Ç–æ –≤—ã –Ω–µ —Ä–æ–±–æ—Ç!","error",8e3),!1}const o=n.target,{textName:i}=t,s=o.querySelector(".errorsContainer");s&&s.remove();let a="<b>–ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞ —Å —Å–∞–π—Ç–∞ oknanaveka40.ru</b>\n‚Äì‚Äì‚Äì‚Äì\n\n";const c=new FormData(o),l={isValid:!0,errors:[]};for(let[e,t]of c.entries()){if("g-recaptcha-response"===e)continue;const n=t.trim();"name"===e&&(!n||n.length<2)&&(l.isValid=!1,l.errors.push("–ò–º—è –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º")),"tel"===e&&(n&&"+7"!==n&&"+7 "!==n?u(n)||(l.isValid=!1,l.errors.push("–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω")):(l.isValid=!1,l.errors.push("–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞"))),n&&(a+=`<i>${m(e)}</i>: <b>${n}</b>\n`)}a+=`\n\n<i>${i?`(${i})`:""}</i>`,l.isValid?p({message:a,formType:t}):f(l,t)},f=(t,n)=>{t.errors.forEach((t,n)=>{setTimeout(()=>{e(t,"error",12e3)},200*n)});const{modal:o}=n,i=("FORM"===o.nodeName?o:o.querySelector(".contact-form")).querySelector(".errorsContainer");i&&i.remove()},g=t=>{const{type:n,modal:o}=t;if(e("–ó–∞—è–≤–∫–∞ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞! –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.","success",18e3),n===r)y(o),setTimeout(()=>{h(o);const e=o.querySelector(".contact-form");if(e){e.reset();const t=e.querySelector('input[type="tel"]');t&&(t.value="+7 ")}},1e3);else{const e="FORM"===o.nodeName?o:o.querySelector(".contact-form");if(e){e.reset();const t=e.querySelector('input[type="tel"]');t&&(t.value="+7 ")}}},h=e=>{e.classList.remove("show")},y=e=>{const t="true"===localStorage.getItem("formSended"),n=e.querySelector(".form-content .form-header"),o=e.querySelector(".form-tag");if(o&&o.remove(),t&&n){const e=document.createElement("div");e.innerHTML='\n    <div class="form-tag">\n      <svg width="12" height="12" viewBox="0 0 12 12" fill="none">\n        <path d="M1 5.35L4.75 9.25L11 2.75" stroke="#2BB109" stroke-width="2"></path>\n      </svg>\n      <span>–ó–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞! –ú—ã —Å–∫–æ—Ä–æ —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏</span>\n    </div>\n  ';const t=e.firstElementChild;n.insertBefore(t,n.firstChild)}};function L(e,t,n={}){const o=document.getElementById(e);if(!o)return void console.warn(`Form with ID "${e}" not found`);const i={fields:t,options:n,element:o,type:s,textName:n.textName||"–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ñ–æ—Ä–º–∞"};l.set(e,i),b(i)}const b=e=>{const{element:t,textName:n}=e;t.querySelectorAll('input[type="tel"]').forEach(e=>{e.addEventListener("input",d),e.value&&"+7"!==e.value||(e.value="+7 ")});const o={type:s,textName:n,modal:t};t.addEventListener("submit",v(o))},E=()=>{const e={type:r,textName:"–í—Å–ø–ª—ã–≤–∞—é—â–∞—è —Ñ–æ—Ä–º–∞"},t=(e=>{const t=document.createElement("div");return t.className=`modal-form ${e.type}`,t.innerHTML="\n    <div class='modal-container'>\n      <div class='modal-close modal-close-icon'></div>\n      <div class='form-content'>\n        <form class='contact-form'>  \n          <div class='form-header'>\n            <h3>–û—Å—Ç–∞–≤—å—Ç–µ –∑–∞—è–≤–∫—É</h3>\n            <p>–ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –∫–∞–∫ –º–æ–∂–Ω–æ —Ä–∞–Ω—å—à–µ</p>\n          </div>\n          <div class='form-fields'>\n            <div class='form-field'>\n              <input type='text' name='name' placeholder='–í–∞—à–µ –∏–º—è' class='input input-solid' />\n            </div>\n            <div class='form-field'>\n              <input type='tel' name='tel' placeholder='+7' class='input input-solid' minlength=\"10\" value='+7 ' />\n            </div>\n          </div>\n          <button type='submit' class='btn btn-orange'>–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>\n          <p class='form-disclaimer'>\n            –û—Ç–ø—Ä–∞–≤–ª—è—è –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É –≤—ã –¥–∞–µ—Ç–µ —Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–≤–æ–∏—Ö \n            <span>–ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</span>\n          </p>\n        </form>\n      </div>\n    </div>\n  ",t})(e);e.modal=t;const n=t.querySelector(".contact-form");if(n){n.addEventListener("submit",v(e));const o=t.querySelector('input[type="tel"]');o&&o.addEventListener("input",d)}document.body.appendChild(t);const o=t.querySelector(".modal-close-icon");o&&o.addEventListener("click",e=>{e.preventDefault(),h(t)}),window.addEventListener("click",e=>{e.target===t&&h(t)});document.querySelectorAll('[href="/forma-obratnoj-svyaz"], .modal-trigger').forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),y(t),(e=>{e.classList.add("show")})(t)})})};document.addEventListener("DOMContentLoaded",function(){console.log("üöÄ Initializing Forms System..."),console.log("üîß Mode: Production (real sending)"),E(),L("contactForm",["name","tel"],{textName:"–§–æ—Ä–º–∞ Hero —Å–µ–∫—Ü–∏–∏"}),L("leadForm",["tel"],{textName:"–û—Å–Ω–æ–≤–Ω–∞—è –ª–∏–¥-—Ñ–æ—Ä–º–∞"}),L("reviewLeadForm",["name","tel"],{textName:"–§–æ—Ä–º–∞ –æ—Ç–∑—ã–≤–æ–≤"}),console.log("‚úÖ Registered forms")}),document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".pricing-tabs .tab"),t=document.querySelectorAll(".pricing-carousel-container");function n(e){t.forEach(e=>{e.style.display="none"});const n=document.querySelector(`.pricing-carousel-container[data-tab="${e}"]`);n&&(n.style.display="block")}e.forEach(t=>{t.addEventListener("click",function(){e.forEach(e=>e.classList.remove("active")),this.classList.add("active");const t=this.getAttribute("data-tab");console.log(t),n(t)})}),n("whs")}),document.fonts.addEventListener("loadingdone",function(){const e=document.querySelector(".profile-comparison"),t=e.querySelectorAll(".card-title"),n=e.querySelectorAll(".card-header");function o(){let e=0;return t.forEach(t=>{e=Math.max(e,t.offsetHeight)}),e}const i=o();n.forEach(e=>{e.style.minHeight=`${i}px`}),window.addEventListener("resize",()=>{const e=o();n.forEach(t=>{t.style.minHeight=`${e}px`})})}),document.addEventListener("DOMContentLoaded",function(){new Swiper(".swiper-section-pricing-1",{slidesPerView:1,spaceBetween:24,navigation:{nextEl:".swiper-button-next-1",prevEl:".swiper-button-prev-1"},pagination:{el:".swiper-pagination-1",clickable:!0},breakpoints:{390:{slidesPerView:2,spaceBetween:16},768:{slidesPerView:3,spaceBetween:24},1024:{slidesPerView:4,spaceBetween:24}}}),new Swiper(".swiper-section-pricing-2",{slidesPerView:1,spaceBetween:24,navigation:{nextEl:".swiper-button-next-2",prevEl:".swiper-button-prev-2"},pagination:{el:".swiper-pagination-2",clickable:!0},breakpoints:{390:{slidesPerView:2,spaceBetween:16},768:{slidesPerView:3,spaceBetween:24},1024:{slidesPerView:4,spaceBetween:24}}}),new Swiper(".swiper-section-pricing-3",{slidesPerView:1,spaceBetween:24,navigation:{nextEl:".swiper-button-next-3",prevEl:".swiper-button-prev-3"},pagination:{el:".swiper-pagination-3",clickable:!0},breakpoints:{390:{slidesPerView:2,spaceBetween:16},768:{slidesPerView:3,spaceBetween:24},1024:{slidesPerView:4,spaceBetween:24}}}),new Swiper(".swiper-section-comparison-1",{slidesPerView:1,spaceBetween:24,navigation:{nextEl:".swiper-button-next-comparison-1",prevEl:".swiper-button-prev-comparison-1"},pagination:{el:".swiper-pagination-comparison-1",clickable:!0},breakpoints:{390:{slidesPerView:2,spaceBetween:16},768:{slidesPerView:3,spaceBetween:24},1024:{slidesPerView:3,spaceBetween:24}}}),new Swiper(".our-works-slider",{slidesPerView:1,spaceBetween:16,grid:{rows:1},pagination:{el:".swiper-pagination",clickable:!0,dynamicBullets:!0},navigation:{nextEl:".swiper-btn-next",prevEl:".swiper-btn-prev"},breakpoints:{390:{slidesPerView:2,spaceBetween:16,grid:{rows:1}},768:{slidesPerView:3,spaceBetween:24,grid:{rows:2},pagination:{dynamicBullets:!1}},1024:{slidesPerView:4,spaceBetween:24,grid:{rows:2},pagination:{dynamicBullets:!1}}}})}),document.addEventListener("DOMContentLoaded",function(){GLightbox({selector:".glightbox",touchNavigation:!0,loop:!0})}),document.addEventListener("DOMContentLoaded",function(){console.log("üöÄ App initialized successfully");const e=performance.now();console.log(`‚ö° JS modules loaded in ${e.toFixed(2)}ms`),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=document.querySelector(this.getAttribute("href"));t&&t.scrollIntoView({behavior:"smooth",block:"start"})})})}),window.addEventListener("error",function(e){console.error("JavaScript error:",e.error)}),window.addEventListener("unhandledrejection",function(e){console.error("Unhandled promise rejection:",e.reason)}),window.OknaApp={version:"1.0.0",initialized:!1,modules:["header","forms","pricing"]};
//# sourceMappingURL=d1sa.github.io.e16b5a0a.js.map
