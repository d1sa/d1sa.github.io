document.addEventListener("DOMContentLoaded",function(){function e(){const e=document.querySelector(".header");if(e){const t=Math.round(e.offsetHeight);t>0&&(document.body.style.paddingTop=t+"px")}}let t;e(),window.addEventListener("resize",function(){clearTimeout(t),t=setTimeout(e,100)}),window.addEventListener("orientationchange",function(){setTimeout(e,200)})});const e={token1:"",token2:"",chatId:"",mode:"html",get token(){return`${this.token1}:${this.token2}`}},t=window.ym;t||console.log("Yandex Metrika –Ω–µ –Ω–∞–π–¥–µ–Ω–∞");const n={tel:"–ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω",name:"–ò–º—è",email:"Email (–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)"},o="modalForm",r="registeredForm",i="callbackForm",l="mainBlueForm",a=new Map,c=e=>{const t=e.target.value.replace(/\D/g,"").match(/(7|8)?(\d{0,3})(\d{0,3})(\d{0,2})(\d{0,2})/);let n="+7 ";t[2]&&(n+="("+t[2],t[2]&&t[3]&&(n+=")")),t[3]&&(n+=" "+t[3]),t[4]&&(n+=" "+t[4]),t[5]&&(n+="-"+t[5]),e.target.value=n},s=e=>/^(\+7|7|8)?[\s\-]?\(?[489][0-9]{2}\)?[\s\-]?[0-9]{3}[\s\-]?[0-9]{2}[\s\-]?[0-9]{2}$/.test(e),d=e=>n[e]||e,m=({message:t,formType:n})=>{console.log("üì§ Production mode - sending to Telegram bot"),(({message:t,formType:n})=>{const{token:o,chatId:r,mode:i}=e,l=encodeURI(t);fetch(`https://api.telegram.org/bot${o}/sendMessage?chat_id=${r}&parse_mode=${i}&text=${l}`).then(e=>e.json()).then(e=>{console.log("Telegram API response:",e),e.ok&&(h(n),localStorage.setItem("formSended",!0),u(n.type))}).catch(e=>{console.error("Telegram sending error:",e),h(n)})})({message:t,formType:n})},u=e=>{if(!t)return;const n={[o]:"new_lid",[i]:"new_lid",[l]:"new_lid"}[e];n&&t(75394450,"reachGoal",n)},f=e=>t=>{if(t.preventDefault(),e.type===o&&"undefined"!=typeof grecaptcha){if(0===grecaptcha.getResponse().length)return alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ, —á—Ç–æ –≤—ã –Ω–µ —Ä–æ–±–æ—Ç!"),!1}const n=t.target,{textName:r}=e,i=n.querySelector(".errorsContainer");i&&i.remove();let l="<b>–ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞ —Å —Å–∞–π—Ç–∞ oknanaveka40.ru</b>\n‚Äì‚Äì‚Äì‚Äì\n\n";const a=new FormData(n),c={isValid:!0,errors:[]};for(let[e,t]of a.entries()){if("g-recaptcha-response"===e)continue;const n=t.trim();n&&("tel"===e&&(s(n)||(c.isValid=!1,c.errors.push("–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω"))),"name"===e&&n.length<2&&(c.isValid=!1,c.errors.push("–ò–º—è –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º")),l+=`<i>${d(e)}</i>: <b>${n}</b>\n`)}l+=`\n\n<i>${r?`(${r})`:""}</i>`,c.isValid?m({message:l,formType:e}):p(c,e)},p=(e,t)=>{const{modal:n}=t,o="FORM"===n.nodeName?n:n.querySelector(".contact-form");let r=o.querySelector(".errorsContainer");if(!r){r=document.createElement("div"),r.className="errorsContainer";const e=o.querySelector(".form-fields");e?o.insertBefore(r,e):o.appendChild(r)}r.innerHTML="",e.errors.forEach(e=>{const t=document.createElement("div");t.className="errorItem",t.textContent=e,r.appendChild(t)})},h=e=>{const{type:t,modal:n}=e,i={[o]:"\n      <div class='form-header'>\n        <h3>–ó–∞—è–≤–∫–∞ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞</h3>\n        <p>–ë–ª–∞–≥–æ–¥–∞—Ä–∏–º –≤–∞—Å –∑–∞ —É—Å–ø–µ—à–Ω—É—é –æ—Ç–ø—Ä–∞–≤–∫—É –∑–∞—è–≤–∫–∏! –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ —Å–∞–º–æ–µ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.</p>\n      </div>\n      <button class='btn btn-blue modal-close-button'>–ó–∞–∫—Ä—ã—Ç—å</button>\n    ",[r]:"\n      <div class='form-header'>\n        <h3>–ó–∞—è–≤–∫–∞ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞</h3>\n        <p>–ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ —Å–∞–º–æ–µ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.</p>\n      </div>\n    ",default:"\n      <div class='form-header'>\n        <h3>–ó–∞—è–≤–∫–∞ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞</h3>\n        <p>–ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ —Å–∞–º–æ–µ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.</p>\n      </div>\n    "},l=i[t]||i.default;if(("FORM"===n.nodeName?n:n.querySelector(".contact-form")).innerHTML=l,t===o){n.querySelectorAll(".modal-close-button").forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),v(n)})})}},v=e=>{e.classList.remove("show")};function g(e,t,n={}){const o=document.getElementById(e);if(!o)return void console.warn(`Form with ID "${e}" not found`);const i={fields:t,options:n,element:o,type:r,textName:n.textName||"–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ñ–æ—Ä–º–∞"};a.set(e,i),E(i)}const E=e=>{const{element:t,textName:n}=e;t.querySelectorAll('input[type="tel"]').forEach(e=>{e.addEventListener("input",c),e.value&&"+7"!==e.value||(e.value="+7 ")});const o={type:r,textName:n,modal:t};t.addEventListener("submit",f(o))},y=()=>{const e={type:o,textName:"–í—Å–ø–ª—ã–≤–∞—é—â–∞—è —Ñ–æ—Ä–º–∞"},t=(e=>{const t=document.createElement("div");return t.className=`modal-form ${e.type}`,t.innerHTML="\n    <div class='modal-container'>\n      <div class='modal-close modal-close-icon'></div>\n      <div class='form-content'>\n        <form class='contact-form'>  \n          <div class='form-header'>\n            <h3>–û—Å—Ç–∞–≤—å—Ç–µ –∑–∞—è–≤–∫—É</h3>\n            <p>–ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –∫–∞–∫ –º–æ–∂–Ω–æ —Ä–∞–Ω—å—à–µ</p>\n          </div>\n          <div class='form-fields'>\n            <div class='form-field'>\n              <input type='text' name='name' placeholder='–í–∞—à–µ –∏–º—è' class='input' required />\n            </div>\n            <div class='form-field'>\n              <input type='tel' name='tel' placeholder='+7' class='input' minlength=\"10\" value='+7 ' required />\n            </div>\n          </div>\n          <button type='submit' class='btn btn-orange'>–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>\n          <p class='form-disclaimer'>\n            –û—Ç–ø—Ä–∞–≤–ª—è—è –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É –≤—ã –¥–∞–µ—Ç–µ —Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–≤–æ–∏—Ö \n            <span>–ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</span>\n          </p>\n        </form>\n      </div>\n    </div>\n  ",t})(e);e.modal=t;t.querySelector(".contact-form").addEventListener("submit",f(e));t.querySelector('input[type="tel"]').addEventListener("input",c),document.body.appendChild(t);t.querySelector(".modal-close-icon").addEventListener("click",e=>{e.preventDefault(),v(t)}),window.addEventListener("click",e=>{e.target===t&&v(t)});document.querySelectorAll('[href="/forma-obratnoj-svyaz"], .modal-trigger').forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),(e=>{e.classList.add("show")})(t)})})};document.addEventListener("DOMContentLoaded",function(){console.log("üöÄ Initializing Forms System..."),console.log("üîß Mode: Production (real sending)"),y(),g("contactForm",["name","tel"],{textName:"–§–æ—Ä–º–∞ Hero —Å–µ–∫—Ü–∏–∏"}),g("leadForm",["tel"],{textName:"–û—Å–Ω–æ–≤–Ω–∞—è –ª–∏–¥-—Ñ–æ—Ä–º–∞"}),g("reviewLeadForm",["name","tel"],{textName:"–§–æ—Ä–º–∞ –æ—Ç–∑—ã–≤–æ–≤"}),console.log("‚úÖ Forms system initialized successfully!"),console.log("üìä Registered forms: contactForm, leadForm, reviewLeadForm"),console.log('üéØ Modal triggers: [href="/forma-obratnoj-svyaz"]')}),document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".pricing-tabs .tab"),t=document.getElementById("pricingCards"),n=document.getElementById("prevBtn"),o=document.getElementById("nextBtn");let r=0;const i=document.querySelectorAll(".pricing-card").length,l=Math.max(0,i-4);function a(){const e=288*r;t.style.transform=`translateX(-${e}px)`,n.disabled=0===r,o.disabled=r>=l}function c(e){const t=document.querySelectorAll(".pricing-card"),n={whs:{brand:"WHS",profiles:[{title:"–û–¥–Ω–æ—Å—Ç–≤–æ—Ä—á–∞—Ç–æ–µ –æ–∫–Ω–æ",price:"–æ—Ç 4 500 ‚ÇΩ",profile:"WHS Profile 60",chambers:"3 –∫–∞–º–µ—Ä—ã, 60 –º–º"},{title:"–î–≤—É—Ö—Å—Ç–≤–æ—Ä—á–∞—Ç–æ–µ –æ–∫–Ω–æ",price:"–æ—Ç 7 200 ‚ÇΩ",profile:"WHS Profile 60",chambers:"3 –∫–∞–º–µ—Ä—ã, 60 –º–º"},{title:"–¢—Ä–µ—Ö—Å—Ç–≤–æ—Ä—á–∞—Ç–æ–µ –æ–∫–Ω–æ",price:"–æ—Ç 10 800 ‚ÇΩ",profile:"WHS Profile 60",chambers:"3 –∫–∞–º–µ—Ä—ã, 60 –º–º"},{title:"–ë–∞–ª–∫–æ–Ω–Ω—ã–π –±–ª–æ–∫",price:"–æ—Ç 12 500 ‚ÇΩ",profile:"WHS Profile 60",chambers:"3 –∫–∞–º–µ—Ä—ã, 60 –º–º"},{title:"–õ–æ–¥–∂–∏—è",price:"–æ—Ç 12 500 ‚ÇΩ",profile:"WHS Profile 60",chambers:"3 –∫–∞–º–µ—Ä—ã, 60 –º–º"}]},rehau:{brand:"REHAU",profiles:[{title:"–û–¥–Ω–æ—Å—Ç–≤–æ—Ä—á–∞—Ç–æ–µ –æ–∫–Ω–æ",price:"–æ—Ç 8 000 ‚ÇΩ",profile:"REHAU Blitz",chambers:"3 –∫–∞–º–µ—Ä—ã, 60 –º–º"},{title:"–î–≤—É—Ö—Å—Ç–≤–æ—Ä—á–∞—Ç–æ–µ –æ–∫–Ω–æ",price:"–æ—Ç 12 700 ‚ÇΩ",profile:"REHAU Blitz",chambers:"3 –∫–∞–º–µ—Ä—ã, 60 –º–º"},{title:"–¢—Ä–µ—Ö—Å—Ç–≤–æ—Ä—á–∞—Ç–æ–µ –æ–∫–Ω–æ",price:"–æ—Ç 18 800 ‚ÇΩ",profile:"REHAU Blitz",chambers:"3 –∫–∞–º–µ—Ä—ã, 60 –º–º"},{title:"–ë–∞–ª–∫–æ–Ω–Ω—ã–π –±–ª–æ–∫",price:"–æ—Ç 20 700 ‚ÇΩ",profile:"REHAU Blitz",chambers:"3 –∫–∞–º–µ—Ä—ã, 60 –º–º"},{title:"–õ–æ–¥–∂–∏—è",price:"–æ—Ç 20 700 ‚ÇΩ",profile:"REHAU Blitz",chambers:"3 –∫–∞–º–µ—Ä—ã, 60 –º–º"}]},veka:{brand:"VEKA",profiles:[{title:"–û–¥–Ω–æ—Å—Ç–≤–æ—Ä—á–∞—Ç–æ–µ –æ–∫–Ω–æ",price:"–æ—Ç 6 000 ‚ÇΩ",profile:"VEKA Evroline 58",chambers:"3 –∫–∞–º–µ—Ä—ã, 58 –º–º"},{title:"–î–≤—É—Ö—Å—Ç–≤–æ—Ä—á–∞—Ç–æ–µ –æ–∫–Ω–æ",price:"–æ—Ç 9 700 ‚ÇΩ",profile:"VEKA Evroline 58",chambers:"3 –∫–∞–º–µ—Ä—ã, 58 –º–º"},{title:"–¢—Ä–µ—Ö—Å—Ç–≤–æ—Ä—á–∞—Ç–æ–µ –æ–∫–Ω–æ",price:"–æ—Ç 13 800 ‚ÇΩ",profile:"VEKA Evroline 58",chambers:"3 –∫–∞–º–µ—Ä—ã, 58 –º–º"},{title:"–ë–∞–ª–∫–æ–Ω–Ω—ã–π –±–ª–æ–∫",price:"–æ—Ç 15 700 ‚ÇΩ",profile:"VEKA Evroline 58",chambers:"3 –∫–∞–º–µ—Ä—ã, 58 –º–º"},{title:"–õ–æ–¥–∂–∏—è",price:"–æ—Ç 15 700 ‚ÇΩ",profile:"VEKA Evroline 58",chambers:"3 –∫–∞–º–µ—Ä—ã, 58 –º–º"}]}}[e];t.forEach((e,t)=>{if(n.profiles[t]){const o=n.profiles[t],r=e.querySelector(".card-title");r&&(r.textContent=o.title);const i=e.querySelector(".card-price");i&&(i.textContent=o.price);const l=e.querySelector(".feature-item:nth-child(2) .feature-text");l&&(l.innerHTML=`<span class="highlight">${o.profile}:</span> ${o.chambers}`)}})}e.forEach(t=>{t.addEventListener("click",function(){e.forEach(e=>e.classList.remove("active")),this.classList.add("active");c(this.getAttribute("data-tab"))})}),n.addEventListener("click",function(){r>0&&(r--,a())}),o.addEventListener("click",function(){r<l&&(r++,a())});let s=0,d=!1;t.addEventListener("touchstart",function(e){s=e.touches[0].clientX,d=!0}),t.addEventListener("touchmove",function(e){d&&e.preventDefault()}),t.addEventListener("touchend",function(e){if(!d)return;const t=e.changedTouches[0].clientX,n=s-t;Math.abs(n)>50&&(n>0&&r<l?(r++,a()):n<0&&r>0&&(r--,a())),d=!1}),document.addEventListener("keydown",function(e){"ArrowLeft"===e.key&&r>0?(r--,a()):"ArrowRight"===e.key&&r<l&&(r++,a())}),window.addEventListener("resize",function(){const e=window.innerWidth;let t;t=e<576?1:e<768?2:e<992?3:4,4!==t&&(r=0,a())}),a(),c("veka")}),document.addEventListener("DOMContentLoaded",function(){console.log("üöÄ App initialized successfully");const e=performance.now();console.log(`‚ö° JS modules loaded in ${e.toFixed(2)}ms`),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=document.querySelector(this.getAttribute("href"));t&&t.scrollIntoView({behavior:"smooth",block:"start"})})})}),window.addEventListener("error",function(e){console.error("JavaScript error:",e.error)}),window.addEventListener("unhandledrejection",function(e){console.error("Unhandled promise rejection:",e.reason)}),window.OknaApp={version:"1.0.0",initialized:!1,modules:["header","forms","pricing"]};
//# sourceMappingURL=d1sa.github.io.62aff9a4.js.map
