{"mappings":"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ACrC;IAEA,uCAAuC;IACvC,SAAS,iBAAiB,SAAS;QACjC,MAAM,qBAAqB;QAC3B,MAAM,iBAAiB,KAAK,GAAG,CAAC,GAAG,cAAc;QAEjD,MAAM,WAAW,eAAe;QAChC,IAAI,YAAY,KAAK,YAAY,gBAAgB;YAC/C,eAAe;YACf;QACF;IACF;IAEA,QAAQ,gBAAgB,CAAC,SAAS,IAAM,iBAAiB;IACzD,QAAQ,gBAAgB,CAAC,SAAS,IAAM,iBAAiB;IAEzD,2CAA2C;IAC3C,MAAM,cAAc;QAClB,KAAK;YACH,OAAO;YACP,UAAU;gBACR;oBACE,OAAO;oBACP,OAAO;oBACP,SAAS;oBACT,UAAU;oBACV,MAAM;oBACN,UAAU;wBACR;wBACA;wBACA;qBACD;gBACH;gBACA;oBACE,OAAO;oBACP,OAAO;oBACP,SAAS;oBACT,UAAU;oBACV,MAAM;oBACN,UAAU;wBACR;wBACA;wBACA;qBACD;gBACH;gBACA;oBACE,OAAO;oBACP,OAAO;oBACP,SAAS;oBACT,UAAU;oBACV,MAAM;oBACN,UAAU;wBACR;wBACA;wBACA;qBACD;gBACH;gBACA;oBACE,OAAO;oBACP,OAAO;oBACP,SAAS;oBACT,UAAU;oBACV,MAAM;oBACN,UAAU;wBACR;wBACA;wBACA;qBACD;gBACH;gBACA;oBACE,OAAO;oBACP,OAAO;oBACP,SAAS;oBACT,UAAU;oBACV,MAAM;oBACN,UAAU;wBACR;wBACA;wBACA;qBACD;gBACH;aACD;QACH;QACA,OAAO;YACL,OAAO;YACP,UAAU;gBACR;oBACE,OAAO;oBACP,OAAO;oBACP,SAAS;oBACT,UAAU;oBACV,MAAM;oBACN,UAAU;wBACR;wBACA;wBACA;qBACD;gBACH;gBACA;oBACE,OAAO;oBACP,OAAO;oBACP,SAAS;oBACT,UAAU;oBACV,MAAM;oBACN,UAAU;wBACR;wBACA;wBACA;qBACD;gBACH;gBACA;oBACE,OAAO;oBACP,OAAO;oBACP,SAAS;oBACT,UAAU;oBACV,MAAM;oBACN,UAAU;wBACR;wBACA;wBACA;qBACD;gBACH;gBACA;oBACE,OAAO;oBACP,OAAO;oBACP,SAAS;oBACT,UAAU;oBACV,MAAM;oBACN,UAAU;wBACR;wBACA;wBACA;qBACD;gBACH;gBACA;oBACE,OAAO;oBACP,OAAO;oBACP,SAAS;oBACT,UAAU;oBACV,MAAM;oBACN,UAAU;wBACR;wBACA;wBACA;qBACD;gBACH;aACD;QACH;QACA,MAAM;YACJ,OAAO;YACP,UAAU;gBACR;oBACE,OAAO;oBACP,OAAO;oBACP,SAAS;oBACT,UAAU;oBACV,MAAM;oBACN,UAAU;wBACR;wBACA;wBACA;qBACD;gBACH;gBACA;oBACE,OAAO;oBACP,OAAO;oBACP,SAAS;oBACT,UAAU;oBACV,MAAM;oBACN,UAAU;wBACR;wBACA;wBACA;qBACD;gBACH;gBACA;oBACE,OAAO;oBACP,OAAO;oBACP,SAAS;oBACT,UAAU;oBACV,MAAM;oBACN,UAAU;wBACR;wBACA;wBACA;qBACD;gBACH;gBACA;oBACE,OAAO;oBACP,OAAO;oBACP,SAAS;oBACT,UAAU;oBACV,MAAM;oBACN,UAAU;wBACR;wBACA;wBACA;qBACD;gBACH;aAaD;QACH;IACF;IAEA,4CAA4C;IAC5C,SAAS,kBAAkB,OAAO;QAChC,MAAM,QAAQ,SAAS,gBAAgB,CAAC;QACxC,MAAM,OAAO,WAAW,CAAC,QAAQ;QAEjC,MAAM,OAAO,CAAC,CAAC,MAAM;YACnB,IAAI,KAAK,QAAQ,CAAC,MAAM,EAAE;gBACxB,MAAM,UAAU,KAAK,QAAQ,CAAC,MAAM;gBAEpC,uBAAuB;gBACvB,MAAM,eAAe,KAAK,aAAa,CAAC;gBACxC,IAAI,cAAc;oBAChB,aAAa,SAAS,GAAG;oBAEzB,oDAAoD;oBACpD,MAAM,cAAc;wBAClB,QAAQ,QAAQ,CAAC,EAAE;wBACnB,CAAC,wBAAwB,EAAE,QAAQ,OAAO,CAAC,SAAS,EAAE,QAAQ,QAAQ,EAAE;2BACrE,QAAQ,QAAQ,CAAC,KAAK,CAAC;qBAC3B;oBAED,qCAAqC;oBACrC,YAAY,OAAO,CAAC,CAAA;wBAClB,IAAI,aAAa;4BACf,6BAA6B;4BAC7B,MAAM,cAAc,SAAS,aAAa,CAAC;4BAC3C,YAAY,SAAS,GAAG;4BACxB,YAAY,SAAS,GAAG,CAAC;;wCAEC,EAAE,YAAY;cACxC,CAAC;4BACD,aAAa,WAAW,CAAC;wBAC3B;oBACF;gBACF;YACF;QACF;IACF;IAEA,uCAAuC;IACvC,IAAI,SAAS;IACb,IAAI,SAAS;IACb,IAAI,aAAa;IAEjB,aAAa,gBAAgB,CAAC,cAAc,SAAU,CAAC;QACrD,SAAS,EAAE,OAAO,CAAC,EAAE,CAAC,OAAO;QAC7B,SAAS,EAAE,OAAO,CAAC,EAAE,CAAC,OAAO;QAC7B,aAAa;IACf;IAEA,aAAa,gBAAgB,CAAC,aAAa,SAAU,CAAC;QACpD,IAAI,CAAC,YAAY;QAEjB,MAAM,WAAW,EAAE,OAAO,CAAC,EAAE,CAAC,OAAO;QACrC,MAAM,WAAW,EAAE,OAAO,CAAC,EAAE,CAAC,OAAO;QACrC,MAAM,QAAQ,KAAK,GAAG,CAAC,WAAW;QAClC,MAAM,QAAQ,KAAK,GAAG,CAAC,WAAW;QAElC,uEAAuE;QACvE,mEAAmE;QACnE,IAAI,QAAQ,SAAS,QAAQ,IAC3B,EAAE,cAAc;IAEpB;IAEA,aAAa,gBAAgB,CAAC,YAAY,SAAU,CAAC;QACnD,IAAI,CAAC,YAAY;QAEjB,MAAM,OAAO,EAAE,cAAc,CAAC,EAAE,CAAC,OAAO;QACxC,MAAM,OAAO,SAAS;QAEtB,IAAI,KAAK,GAAG,CAAC,QAAQ,IAAI;YACvB,yBAAyB;YACzB,MAAM,qBAAqB;YAC3B,MAAM,iBAAiB,KAAK,GAAG,CAAC,GAAG,cAAc;YAEjD,IAAI,OAAO,KAAK,eAAe,gBAAgB;gBAC7C,0BAA0B;gBAC1B;gBACA;YACF,OAAO,IAAI,OAAO,KAAK,eAAe,GAAG;gBACvC,+BAA+B;gBAC/B;gBACA;YACF;QACF;QAEA,aAAa;IACf;IAEA,sBAAsB;IACtB,SAAS,gBAAgB,CAAC,WAAW,SAAU,CAAC;QAC9C,MAAM,qBAAqB;QAC3B,MAAM,iBAAiB,KAAK,GAAG,CAAC,GAAG,cAAc;QAEjD,IAAI,EAAE,GAAG,KAAK,eAAe,eAAe,GAAG;YAC7C;YACA;QACF,OAAO,IAAI,EAAE,GAAG,KAAK,gBAAgB,eAAe,gBAAgB;YAClE;YACA;QACF;IACF;IAEA,sBAAsB;IACtB,SAAS;QACP,MAAM,QAAQ,OAAO,UAAU;QAE/B,iDAAiD;QACjD,MAAM,eAAe;YACnB;gBAAE,UAAU,YAAY,MAAM;gBAAE,QAAQ;YAAE;YAC1C;gBAAE,UAAU,YAAY,MAAM;gBAAE,QAAQ;YAAE;YAC1C;gBAAE,UAAU,YAAY,OAAO;gBAAE,QAAQ;YAAE;YAC3C;gBAAE,UAAU;gBAAU,QAAQ;YAAE;SACjC;QAED,MAAM,kBAAkB,aAAa,IAAI,CACvC,CAAA,SAAU,QAAQ,OAAO,QAAQ,EACjC,MAAM;QAER,IAAI,oBAAoB,cAAc;YACpC,mCAAmC;YACnC,eAAe;YACf,WAAW,KAAK,GAAG,CAAC,GAAG,cAAc;YAErC,qCAAqC;YACrC,eAAe;YACf;QACF,OACE,sEAAsE;QACtE;IAEJ;IAEA,OAAO,gBAAgB,CAAC,UAAU;IAElC,+BAA+B;IAC/B;IAEA,iEAAiE;IACjE,kBAAkB;IAClB,kBAAkB;IAElB,sBAAsB;IACtB;AACF","sources":["src/js/main.js","src/js/header.js","src/js/forms.js","node_modules/@parcel/transformer-js/src/esmodule-helpers.js","src/js/pricing.js"],"sourcesContent":["// ==========================================================================\r\n// Main JavaScript Entry Point\r\n// ==========================================================================\r\n\r\n/**\r\n * Single entry point for all JavaScript functionality\r\n * All modules are imported here to maintain clean dependency management\r\n */\r\n\r\n// Core functionality modules\r\nimport './header.js'; // Header height compensation and navigation\r\nimport './forms.js'; // Complete forms management system (replaces modal-form + utils)\r\nimport './pricing.js'; // Pricing carousel and tabs\r\n\r\n// ==========================================================================\r\n// Global App Initialization\r\n// ==========================================================================\r\n\r\n/**\r\n * Main application initialization\r\n * Runs after all modules are loaded\r\n */\r\nfunction initializeApp() {\r\n  console.log('🚀 App initialized successfully');\r\n\r\n  // Performance timing\r\n  const loadTime = performance.now();\r\n  console.log(`⚡ JS modules loaded in ${loadTime.toFixed(2)}ms`);\r\n\r\n  // Add any global initialization logic here\r\n  // For example: analytics, global event listeners, etc.\r\n\r\n  // Global smooth scroll for anchor links\r\n  initializeSmoothScroll();\r\n}\r\n\r\n/**\r\n * Initialize smooth scrolling for anchor links\r\n */\r\nfunction initializeSmoothScroll() {\r\n  document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\r\n    anchor.addEventListener('click', function (e) {\r\n      e.preventDefault();\r\n      const target = document.querySelector(this.getAttribute('href'));\r\n      if (target) {\r\n        target.scrollIntoView({\r\n          behavior: 'smooth',\r\n          block: 'start',\r\n        });\r\n      }\r\n    });\r\n  });\r\n}\r\n\r\n// Initialize app when DOM is ready\r\ndocument.addEventListener('DOMContentLoaded', initializeApp);\r\n\r\n// ==========================================================================\r\n// Global Error Handling\r\n// ==========================================================================\r\n\r\nwindow.addEventListener('error', function (event) {\r\n  console.error('JavaScript error:', event.error);\r\n\r\n  // In production, you might want to send this to your error tracking service\r\n  // Example: errorTracker.captureException(event.error);\r\n});\r\n\r\nwindow.addEventListener('unhandledrejection', function (event) {\r\n  console.error('Unhandled promise rejection:', event.reason);\r\n});\r\n\r\n// ==========================================================================\r\n// Performance Monitoring (Development)\r\n// ==========================================================================\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  console.log('📊 Development mode - performance monitoring enabled');\r\n\r\n  // Log performance metrics\r\n  window.addEventListener('load', function () {\r\n    const perfData = performance.getEntriesByType('navigation')[0];\r\n    console.log('📈 Performance metrics:', {\r\n      'DOM Content Loaded':\r\n        perfData.domContentLoadedEventEnd -\r\n        perfData.domContentLoadedEventStart +\r\n        'ms',\r\n      'Load Complete': perfData.loadEventEnd - perfData.loadEventStart + 'ms',\r\n      'Total Load Time': perfData.loadEventEnd - perfData.fetchStart + 'ms',\r\n    });\r\n  });\r\n}\r\n\r\n// ==========================================================================\r\n// Export main app for external access if needed\r\n// ==========================================================================\r\n\r\nwindow.OknaApp = {\r\n  version: '1.0.0',\r\n  initialized: false,\r\n  modules: ['header', 'forms', 'pricing'],\r\n};\r\n","// ==========================================================================\r\n// Header Height Compensation\r\n// ==========================================================================\r\n\r\n/**\r\n * Компенсирует высоту фиксированного хедера\r\n * Добавляет padding-top к body равный высоте .header\r\n */\r\n\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n  function updateBodyPadding() {\r\n    const header = document.querySelector('.header');\r\n    if (header) {\r\n      const headerHeight = Math.round(header.offsetHeight);\r\n      if (headerHeight > 0) {\r\n        document.body.style.paddingTop = headerHeight + 'px';\r\n      }\r\n    }\r\n  }\r\n\r\n  // Применяем при загрузке\r\n  updateBodyPadding();\r\n\r\n  // Debounce для resize\r\n  let resizeTimeout;\r\n  window.addEventListener('resize', function () {\r\n    clearTimeout(resizeTimeout);\r\n    resizeTimeout = setTimeout(updateBodyPadding, 100);\r\n  });\r\n\r\n  // Обработка изменения ориентации\r\n  window.addEventListener('orientationchange', function () {\r\n    setTimeout(updateBodyPadding, 200);\r\n  });\r\n});\r\n","// ==========================================================================\r\n// Forms Management System - Main File\r\n// ==========================================================================\r\n\r\n// ==========================================================================\r\n// Configuration\r\n// ==========================================================================\r\n\r\n// Telegram Bot Configuration\r\nconst TELEGRAM_CONFIG = {\r\n  token1: '', // тг бот токен ч1\r\n  token2: '', // тг бот токен ч2\r\n  chatId: '', // тг чат id\r\n  mode: 'html',\r\n  get token() {\r\n    return `${this.token1}:${this.token2}`;\r\n  },\r\n};\r\n\r\n// Yandex Metrika integration\r\nconst ym = window.ym;\r\nif (!ym) {\r\n  console.log('Yandex Metrika не найдена');\r\n}\r\n\r\n// Form field configurations\r\nconst FIELD_CONFIG = {\r\n  tel: 'Контактный телефон',\r\n  name: 'Имя',\r\n  email: 'Email (Необязательно)',\r\n};\r\n\r\n// Form types configuration\r\nconst FORM_TYPES = {\r\n  modal: 'modalForm',\r\n  registered: 'registeredForm',\r\n  callback: 'callbackForm',\r\n  mainBlue: 'mainBlueForm',\r\n};\r\n\r\n// Registered forms storage\r\nconst registeredForms = new Map();\r\n\r\n// ==========================================================================\r\n// Utilities (integrated from utils.js)\r\n// ==========================================================================\r\n\r\n/**\r\n * Phone number formatting with live input mask\r\n * @param {Event} e - Input event\r\n */\r\nconst formatPhoneInput = e => {\r\n  const val = e.target.value;\r\n  const digits = val.replace(/\\D/g, '');\r\n  const match = digits.match(/(7|8)?(\\d{0,3})(\\d{0,3})(\\d{0,2})(\\d{0,2})/);\r\n\r\n  let result = '+7 ';\r\n\r\n  if (match[2]) {\r\n    result += '(' + match[2];\r\n    if (match[2] && match[3]) {\r\n      result += ')';\r\n    }\r\n  }\r\n\r\n  if (match[3]) {\r\n    result += ' ' + match[3];\r\n  }\r\n\r\n  if (match[4]) {\r\n    result += ' ' + match[4];\r\n  }\r\n\r\n  if (match[5]) {\r\n    result += '-' + match[5];\r\n  }\r\n\r\n  e.target.value = result;\r\n};\r\n\r\n/**\r\n * Validate Russian phone number\r\n * @param {string} phone - Phone number string\r\n * @returns {boolean} - Is valid\r\n */\r\nconst validatePhone = phone => {\r\n  const regex =\r\n    /^(\\+7|7|8)?[\\s\\-]?\\(?[489][0-9]{2}\\)?[\\s\\-]?[0-9]{3}[\\s\\-]?[0-9]{2}[\\s\\-]?[0-9]{2}$/;\r\n  return regex.test(phone);\r\n};\r\n\r\n/**\r\n * Get field display name\r\n * @param {string} key - Field key\r\n * @returns {string} - Display name\r\n */\r\nconst getFieldName = key => {\r\n  return FIELD_CONFIG[key] || key;\r\n};\r\n\r\n// ==========================================================================\r\n// Telegram Bot Integration\r\n// ==========================================================================\r\n\r\n/**\r\n * Send message to Telegram bot\r\n * @param {Object} params - Message parameters\r\n */\r\nconst sendToTelegram = ({ message, formType }) => {\r\n  const { token, chatId, mode } = TELEGRAM_CONFIG;\r\n  const encodedMessage = encodeURI(message);\r\n  const url = `https://api.telegram.org/bot${token}/sendMessage?chat_id=${chatId}&parse_mode=${mode}&text=${encodedMessage}`;\r\n\r\n  fetch(url)\r\n    .then(res => res.json())\r\n    .then(res => {\r\n      console.log('Telegram API response:', res);\r\n\r\n      if (res.ok) {\r\n        handleSubmissionSuccess(formType);\r\n        localStorage.setItem('formSended', true);\r\n\r\n        // Yandex Metrika goals\r\n        triggerMetrikaGoal(formType.type);\r\n      }\r\n    })\r\n    .catch(error => {\r\n      console.error('Telegram sending error:', error);\r\n      // Fallback to success for better UX\r\n      handleSubmissionSuccess(formType);\r\n    });\r\n};\r\n\r\n/**\r\n * Fallback for development/testing\r\n * @param {Object} params - Message parameters\r\n */\r\nconst sendToTelegramFake = ({ message, formType }) => {\r\n  localStorage.setItem('formSended', true);\r\n\r\n  console.group(`📋 ФОРМА ОТПРАВЛЕНА (DEV MODE)`);\r\n  console.log(`📝 Тип формы: ${formType.textName}`);\r\n  console.log(`🏷️ Form Type: ${formType.type}`);\r\n  console.log(`📄 Сообщение для отправки:`);\r\n  console.log(decodeURI(message));\r\n  console.log(`📊 Время: ${new Date().toLocaleString()}`);\r\n  console.log(`💾 localStorage.formSended = true`);\r\n  console.groupEnd();\r\n\r\n  // Simulate network delay for realistic testing\r\n  setTimeout(() => {\r\n    console.log(`✅ Форма успешно \"отправлена\" (имитация)`);\r\n    handleSubmissionSuccess(formType);\r\n    // Trigger Metrika in dev mode too for testing\r\n    triggerMetrikaGoal(formType.type);\r\n  }, 800);\r\n};\r\n\r\n/**\r\n * Smart form sender - automatically chooses real or fake based on environment\r\n * @param {Object} params - Message parameters\r\n */\r\nconst sendForm = ({ message, formType }) => {\r\n  const isDevelopment = process.env.NODE_ENV !== 'production';\r\n\r\n  if (isDevelopment) {\r\n    console.log('🚀 Development mode - using fake form sending');\r\n    sendToTelegramFake({ message, formType });\r\n  } else {\r\n    console.log('📤 Production mode - sending to Telegram bot');\r\n    sendToTelegram({ message, formType });\r\n  }\r\n};\r\n\r\n/**\r\n * Trigger Yandex Metrika goals\r\n * @param {string} formType - Form type\r\n */\r\nconst triggerMetrikaGoal = formType => {\r\n  if (!ym) return;\r\n\r\n  const goalMap = {\r\n    [FORM_TYPES.modal]: 'new_lid',\r\n    [FORM_TYPES.callback]: 'new_lid',\r\n    [FORM_TYPES.mainBlue]: 'new_lid',\r\n  };\r\n\r\n  const goal = goalMap[formType];\r\n  if (goal) {\r\n    ym(75394450, 'reachGoal', goal);\r\n  }\r\n};\r\n\r\n// ==========================================================================\r\n// Form Processing\r\n// ==========================================================================\r\n\r\n/**\r\n * Handle form submission\r\n * @param {Object} formType - Form type configuration\r\n * @returns {Function} - Event handler\r\n */\r\nconst handleFormSubmit = formType => e => {\r\n  e.preventDefault();\r\n\r\n  // reCAPTCHA check for modal forms\r\n  if (formType.type === FORM_TYPES.modal && typeof grecaptcha !== 'undefined') {\r\n    const response = grecaptcha.getResponse();\r\n    if (response.length === 0) {\r\n      alert('Пожалуйста, подтвердите, что вы не робот!');\r\n      return false;\r\n    }\r\n  }\r\n\r\n  const form = e.target;\r\n  const { textName } = formType;\r\n\r\n  // Clear previous errors\r\n  const errorsContainer = form.querySelector('.errorsContainer');\r\n  if (errorsContainer) {\r\n    errorsContainer.remove();\r\n  }\r\n\r\n  // Build message\r\n  let message = `<b>Новая заявка с сайта oknanaveka40.ru</b>\\n––––\\n\\n`;\r\n\r\n  const formData = new FormData(form);\r\n  const validation = { isValid: true, errors: [] };\r\n\r\n  // Process and validate form data\r\n  for (let [key, value] of formData.entries()) {\r\n    if (key === 'g-recaptcha-response') continue;\r\n\r\n    const trimmedValue = value.trim();\r\n    if (!trimmedValue) continue;\r\n\r\n    // Validation\r\n    if (key === 'tel') {\r\n      if (!validatePhone(trimmedValue)) {\r\n        validation.isValid = false;\r\n        validation.errors.push('Введите корректный телефон');\r\n      }\r\n    }\r\n\r\n    if (key === 'name') {\r\n      if (trimmedValue.length < 2) {\r\n        validation.isValid = false;\r\n        validation.errors.push('Имя не может быть пустым');\r\n      }\r\n    }\r\n\r\n    // Add to message\r\n    message += `<i>${getFieldName(key)}</i>: <b>${trimmedValue}</b>\\n`;\r\n  }\r\n\r\n  message += `\\n\\n<i>${textName ? `(${textName})` : ''}</i>`;\r\n\r\n  // Handle validation errors\r\n  if (!validation.isValid) {\r\n    showFormErrors(validation, formType);\r\n    return;\r\n  }\r\n\r\n  // Send form using smart sender (auto-detects dev/prod mode)\r\n  sendForm({ message, formType });\r\n};\r\n\r\n/**\r\n * Show form validation errors\r\n * @param {Object} validation - Validation result\r\n * @param {Object} formType - Form type\r\n */\r\nconst showFormErrors = (validation, formType) => {\r\n  const { modal } = formType;\r\n  const mainForm =\r\n    modal.nodeName === 'FORM' ? modal : modal.querySelector('.contact-form');\r\n\r\n  let errorsContainer = mainForm.querySelector('.errorsContainer');\r\n\r\n  if (!errorsContainer) {\r\n    errorsContainer = document.createElement('div');\r\n    errorsContainer.className = 'errorsContainer';\r\n\r\n    // Insert before form fields\r\n    const formFields = mainForm.querySelector('.form-fields');\r\n    if (formFields) {\r\n      mainForm.insertBefore(errorsContainer, formFields);\r\n    } else {\r\n      mainForm.appendChild(errorsContainer);\r\n    }\r\n  }\r\n\r\n  errorsContainer.innerHTML = '';\r\n  validation.errors.forEach(error => {\r\n    const errorEl = document.createElement('div');\r\n    errorEl.className = 'errorItem';\r\n    errorEl.textContent = error;\r\n    errorsContainer.appendChild(errorEl);\r\n  });\r\n};\r\n\r\n/**\r\n * Handle successful form submission\r\n * @param {Object} formType - Form type\r\n */\r\nconst handleSubmissionSuccess = formType => {\r\n  const { type, modal } = formType;\r\n\r\n  const successTemplates = {\r\n    [FORM_TYPES.modal]: `\r\n      <div class='form-header'>\r\n        <h3>Заявка успешно отправлена</h3>\r\n        <p>Благодарим вас за успешную отправку заявки! Мы свяжемся с вами в самое ближайшее время.</p>\r\n      </div>\r\n      <button class='btn btn-blue modal-close-button'>Закрыть</button>\r\n    `,\r\n    [FORM_TYPES.registered]: `\r\n      <div class='form-header'>\r\n        <h3>Заявка успешно отправлена</h3>\r\n        <p>Мы свяжемся с вами в самое ближайшее время.</p>\r\n      </div>\r\n    `,\r\n    default: `\r\n      <div class='form-header'>\r\n        <h3>Заявка успешно отправлена</h3>\r\n        <p>Мы свяжемся с вами в самое ближайшее время.</p>\r\n      </div>\r\n    `,\r\n  };\r\n\r\n  const template = successTemplates[type] || successTemplates.default;\r\n  const mainForm =\r\n    modal.nodeName === 'FORM' ? modal : modal.querySelector('.contact-form');\r\n\r\n  mainForm.innerHTML = template;\r\n\r\n  // Add close handlers for modal\r\n  if (type === FORM_TYPES.modal) {\r\n    const closeButtons = modal.querySelectorAll('.modal-close-button');\r\n    closeButtons.forEach(button => {\r\n      button.addEventListener('click', e => {\r\n        e.preventDefault();\r\n        hideModal(modal);\r\n      });\r\n    });\r\n  }\r\n};\r\n\r\n// ==========================================================================\r\n// Modal System\r\n// ==========================================================================\r\n\r\n/**\r\n * Create modal HTML\r\n * @param {Object} config - Modal configuration\r\n * @returns {string} - Modal HTML\r\n */\r\nconst createModalHTML = config => {\r\n  return `\r\n    <div class='modal-container'>\r\n      <div class='modal-close modal-close-icon'></div>\r\n      <div class='form-content'>\r\n        <form class='contact-form'>  \r\n          <div class='form-header'>\r\n            <h3>Оставьте заявку</h3>\r\n            <p>Мы свяжемся с вами как можно раньше</p>\r\n          </div>\r\n          <div class='form-fields'>\r\n            <div class='form-field'>\r\n              <input type='text' name='name' placeholder='Ваше имя' class='input' required />\r\n            </div>\r\n            <div class='form-field'>\r\n              <input type='tel' name='tel' placeholder='+7' class='input' minlength=\"10\" value='+7 ' required />\r\n            </div>\r\n          </div>\r\n          <button type='submit' class='btn btn-orange'>Отправить</button>\r\n          <p class='form-disclaimer'>\r\n            Отправляя данные через форму вы даете согласие на обработку своих \r\n            <span>персональных данных</span>\r\n          </p>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  `;\r\n};\r\n\r\n/**\r\n * Create modal element\r\n * @param {Object} formType - Form type configuration\r\n * @returns {HTMLElement} - Modal element\r\n */\r\nconst createModal = formType => {\r\n  const modal = document.createElement('div');\r\n  modal.className = `modal-form ${formType.type}`;\r\n  modal.innerHTML = createModalHTML(formType);\r\n  return modal;\r\n};\r\n\r\n/**\r\n * Show modal\r\n * @param {HTMLElement} modal - Modal element\r\n */\r\nconst showModal = modal => {\r\n  modal.classList.add('show');\r\n};\r\n\r\n/**\r\n * Hide modal\r\n * @param {HTMLElement} modal - Modal element\r\n */\r\nconst hideModal = modal => {\r\n  modal.classList.remove('show');\r\n};\r\n\r\n// ==========================================================================\r\n// Form Registration & Initialization\r\n// ==========================================================================\r\n\r\n/**\r\n * Register a form for processing\r\n * @param {string} formId - Form ID\r\n * @param {Array} fields - Expected fields\r\n * @param {Object} options - Additional options\r\n */\r\nexport function registerForm(formId, fields, options = {}) {\r\n  const form = document.getElementById(formId);\r\n  if (!form) {\r\n    console.warn(`Form with ID \"${formId}\" not found`);\r\n    return;\r\n  }\r\n\r\n  const config = {\r\n    fields,\r\n    options,\r\n    element: form,\r\n    type: FORM_TYPES.registered,\r\n    textName: options.textName || 'Зарегистрированная форма',\r\n  };\r\n\r\n  registeredForms.set(formId, config);\r\n  initializeRegisteredForm(config);\r\n}\r\n\r\n/**\r\n * Initialize registered form\r\n * @param {Object} config - Form configuration\r\n */\r\nconst initializeRegisteredForm = config => {\r\n  const { element: form, textName } = config;\r\n\r\n  // Initialize phone inputs\r\n  const phoneInputs = form.querySelectorAll('input[type=\"tel\"]');\r\n  phoneInputs.forEach(input => {\r\n    input.addEventListener('input', formatPhoneInput);\r\n    if (!input.value || input.value === '+7') {\r\n      input.value = '+7 ';\r\n    }\r\n  });\r\n\r\n  // Create form type for submission\r\n  const formType = {\r\n    type: FORM_TYPES.registered,\r\n    textName: textName,\r\n    modal: form,\r\n  };\r\n\r\n  // Handle form submission\r\n  form.addEventListener('submit', handleFormSubmit(formType));\r\n};\r\n\r\n/**\r\n * Initialize modal form system\r\n */\r\nconst initializeModalForm = () => {\r\n  const formType = {\r\n    type: FORM_TYPES.modal,\r\n    textName: 'Всплывающая форма',\r\n  };\r\n\r\n  const modal = createModal(formType);\r\n  formType.modal = modal;\r\n\r\n  // Setup form submission\r\n  const form = modal.querySelector('.contact-form');\r\n  form.addEventListener('submit', handleFormSubmit(formType));\r\n\r\n  // Setup phone input\r\n  const phoneInput = modal.querySelector('input[type=\"tel\"]');\r\n  phoneInput.addEventListener('input', formatPhoneInput);\r\n\r\n  // Add to DOM\r\n  document.body.appendChild(modal);\r\n\r\n  // Setup close handlers\r\n  const closeIcon = modal.querySelector('.modal-close-icon');\r\n  closeIcon.addEventListener('click', e => {\r\n    e.preventDefault();\r\n    hideModal(modal);\r\n  });\r\n\r\n  // Close on backdrop click\r\n  window.addEventListener('click', e => {\r\n    if (e.target === modal) {\r\n      hideModal(modal);\r\n    }\r\n  });\r\n\r\n  // Setup modal triggers\r\n  const modalTriggers = document.querySelectorAll(\r\n    '[href=\"/forma-obratnoj-svyaz\"], .modal-trigger'\r\n  );\r\n  modalTriggers.forEach(trigger => {\r\n    trigger.addEventListener('click', e => {\r\n      e.preventDefault();\r\n      showModal(modal);\r\n    });\r\n  });\r\n};\r\n\r\n/**\r\n * Initialize all form systems\r\n */\r\nexport function initializeForms() {\r\n  const isDevelopment = process.env.NODE_ENV !== 'production';\r\n\r\n  console.log('🚀 Initializing Forms System...');\r\n  console.log(\r\n    `🔧 Mode: ${\r\n      isDevelopment ? 'Development (fake sending)' : 'Production (real sending)'\r\n    }`\r\n  );\r\n\r\n  // Initialize modal system\r\n  initializeModalForm();\r\n\r\n  // Auto-register common forms\r\n  registerForm('contactForm', ['name', 'tel'], {\r\n    textName: 'Форма Hero секции',\r\n  });\r\n\r\n  registerForm('leadForm', ['tel'], {\r\n    textName: 'Основная лид-форма',\r\n  });\r\n\r\n  registerForm('reviewLeadForm', ['name', 'tel'], {\r\n    textName: 'Форма отзывов',\r\n  });\r\n\r\n  console.log('✅ Forms system initialized successfully!');\r\n  console.log(`📊 Registered forms: contactForm, leadForm, reviewLeadForm`);\r\n  console.log(`🎯 Modal triggers: [href=\"/forma-obratnoj-svyaz\"]`);\r\n}\r\n\r\n// Auto-initialize when DOM is ready\r\ndocument.addEventListener('DOMContentLoaded', initializeForms);\r\n","exports.interopDefault = function (a) {\n  return a && a.__esModule ? a : {default: a};\n};\n\nexports.defineInteropFlag = function (a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n};\n\nexports.exportAll = function (source, dest) {\n  Object.keys(source).forEach(function (key) {\n    if (\n      key === 'default' ||\n      key === '__esModule' ||\n      Object.prototype.hasOwnProperty.call(dest, key)\n    ) {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function () {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n};\n\nexports.export = function (dest, destName, get) {\n  Object.defineProperty(dest, destName, {\n    enumerable: true,\n    get: get,\n  });\n};\n","// ==========================================================================\r\n// Pricing Section JavaScript\r\n// ==========================================================================\r\n\r\n// Import check icon with ?url to get URL string\r\nimport checkIconSrc from '../img/icon-check-white-blue-circle.svg?url';\r\n\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n  // Responsive breakpoints for carousel\r\n  const BREAKPOINTS = {\r\n    MOBILE: 576,\r\n    TABLET: 768,\r\n    DESKTOP: 992,\r\n  };\r\n\r\n  // Tab functionality\r\n  const tabs = document.querySelectorAll('.pricing-tabs .tab');\r\n  const pricingCards = document.getElementById('pricingCards');\r\n\r\n  // Carousel functionality\r\n  const prevBtn = document.getElementById('prevBtn');\r\n  const nextBtn = document.getElementById('nextBtn');\r\n  let currentSlide = 0;\r\n  let slidesToShow = 4; // Number of cards visible at once (responsive)\r\n  let totalSlides = 0; // Will be set dynamically based on current tab data\r\n  let maxSlide = 0;\r\n\r\n  // Function to create a single card element\r\n  function createCardElement(profile) {\r\n    const card = document.createElement('div');\r\n    card.className = 'pricing-card';\r\n\r\n    card.innerHTML = `\r\n      <div class=\"card-image\"></div>\r\n      <div class=\"card-header\">\r\n        <h3 class=\"card-title\">${profile.title}</h3>\r\n      </div>\r\n      <div class=\"card-info\">\r\n        <div class=\"window-size\">\r\n          <p class=\"size-label\">Размер</p>\r\n          <p class=\"size-value\">${profile.size}</p>\r\n        </div>\r\n        <div class=\"features-list\">\r\n          <!-- Features will be populated by updateCardContent -->\r\n        </div>\r\n      </div>\r\n      <p class=\"card-price\">${profile.price}</p>\r\n      <a class=\"order-button\" href=\"/forma-obratnoj-svyaz\">\r\n        <span class=\"button-text\">Заказать</span>\r\n      </a>\r\n    `;\r\n\r\n    return card;\r\n  }\r\n\r\n  // Function to create all cards for current tab data\r\n  function createCardsForTab(tabType) {\r\n    const data = contentData[tabType];\r\n    if (!data || !data.profiles) return;\r\n\r\n    // Clear existing cards\r\n    pricingCards.innerHTML = '';\r\n\r\n    // Create cards only for existing data\r\n    data.profiles.forEach(profile => {\r\n      const cardElement = createCardElement(profile);\r\n      pricingCards.appendChild(cardElement);\r\n    });\r\n\r\n    // Update total slides count\r\n    totalSlides = data.profiles.length;\r\n    maxSlide = Math.max(0, totalSlides - slidesToShow);\r\n\r\n    // Reset carousel position\r\n    currentSlide = 0;\r\n  }\r\n\r\n  // Tab switching\r\n  tabs.forEach(tab => {\r\n    tab.addEventListener('click', function () {\r\n      // Remove active class from all tabs\r\n      tabs.forEach(t => t.classList.remove('active'));\r\n\r\n      // Add active class to clicked tab\r\n      this.classList.add('active');\r\n\r\n      // Get the tab type\r\n      const tabType = this.getAttribute('data-tab');\r\n\r\n      // Create cards for new tab and update content\r\n      createCardsForTab(tabType);\r\n      updateCardContent(tabType);\r\n      updateCarousel();\r\n    });\r\n  });\r\n\r\n  // Helper function to get gap from CSS\r\n  function getCarouselGap() {\r\n    const firstCard = pricingCards.querySelector('.pricing-card');\r\n    if (!firstCard) return 24; // fallback\r\n\r\n    const containerStyles = getComputedStyle(pricingCards);\r\n    return parseInt(containerStyles.gap) || 24;\r\n  }\r\n\r\n  // Helper function to calculate how many slides actually fit\r\n  function calculateActualSlidesToShow() {\r\n    const firstCard = pricingCards.querySelector('.pricing-card');\r\n    if (!firstCard || totalSlides === 0)\r\n      return Math.min(slidesToShow, totalSlides);\r\n\r\n    const cardWidth = firstCard.offsetWidth;\r\n    const gap = getCarouselGap();\r\n    const carouselWidth = pricingCards.parentElement.offsetWidth;\r\n\r\n    // Calculate how many full cards fit\r\n    let actualSlides = 1;\r\n    let totalWidth = cardWidth;\r\n\r\n    while (\r\n      actualSlides < totalSlides &&\r\n      totalWidth + gap + cardWidth <= carouselWidth\r\n    ) {\r\n      totalWidth += gap + cardWidth;\r\n      actualSlides++;\r\n    }\r\n\r\n    return Math.min(actualSlides, totalSlides);\r\n  }\r\n\r\n  // Carousel navigation\r\n  function updateCarousel() {\r\n    const firstCard = pricingCards.querySelector('.pricing-card');\r\n    if (!firstCard) return;\r\n\r\n    // Use actual slides that fit instead of configured value\r\n    const actualSlidesToShow = calculateActualSlidesToShow();\r\n    const actualMaxSlide = Math.max(0, totalSlides - actualSlidesToShow);\r\n\r\n    const cardWidth = firstCard.offsetWidth;\r\n    const gap = getCarouselGap();\r\n    const carouselWidth = pricingCards.parentElement.offsetWidth;\r\n\r\n    // Ensure currentSlide doesn't exceed the actual max\r\n    if (currentSlide > actualMaxSlide) {\r\n      currentSlide = actualMaxSlide;\r\n    }\r\n\r\n    const translateX = currentSlide * (cardWidth + gap);\r\n    pricingCards.style.transform = `translateX(-${translateX}px)`;\r\n\r\n    // Update button states using actual max slide\r\n    prevBtn.disabled = currentSlide === 0;\r\n    nextBtn.disabled = currentSlide >= actualMaxSlide;\r\n  }\r\n\r\n  // Unified carousel navigation function\r\n  function navigateCarousel(direction) {\r\n    const actualSlidesToShow = calculateActualSlidesToShow();\r\n    const actualMaxSlide = Math.max(0, totalSlides - actualSlidesToShow);\r\n\r\n    const newSlide = currentSlide + direction;\r\n    if (newSlide >= 0 && newSlide <= actualMaxSlide) {\r\n      currentSlide = newSlide;\r\n      updateCarousel();\r\n    }\r\n  }\r\n\r\n  prevBtn.addEventListener('click', () => navigateCarousel(-1));\r\n  nextBtn.addEventListener('click', () => navigateCarousel(1));\r\n\r\n  // Pricing data for different profile types\r\n  const contentData = {\r\n    whs: {\r\n      brand: 'WHS',\r\n      profiles: [\r\n        {\r\n          title: 'Одностворчатое окно',\r\n          price: 'от 4 500 ₽',\r\n          profile: 'WHS Profile 60',\r\n          chambers: '3 камеры, 60 мм',\r\n          size: '600 × 1200 мм (0,72 м²)',\r\n          features: [\r\n            'Поворотно-откидная створка',\r\n            'Двухкамерный стеклопакет 24/32 мм',\r\n            'Энергосберегающее стекло',\r\n          ],\r\n        },\r\n        {\r\n          title: 'Двухстворчатое окно',\r\n          price: 'от 7 200 ₽',\r\n          profile: 'WHS Profile 60',\r\n          chambers: '3 камеры, 60 мм',\r\n          size: '1300 × 1400 мм (1,82 м²)',\r\n          features: [\r\n            'Одна поворотно-откидная, одна глухая створка',\r\n            'Двухкамерный стеклопакет 24/32 мм',\r\n            'Энергосберегающее стекло',\r\n          ],\r\n        },\r\n        {\r\n          title: 'Трехстворчатое окно',\r\n          price: 'от 10 800 ₽',\r\n          profile: 'WHS Profile 60',\r\n          chambers: '3 камеры, 60 мм',\r\n          size: '2100 × 1400 мм (2,94 м²)',\r\n          features: [\r\n            'Две поворотно-откидные, одна глухая створка',\r\n            'Двухкамерный стеклопакет 24/32 мм',\r\n            'Энергосберегающее стекло',\r\n          ],\r\n        },\r\n        {\r\n          title: 'Балконный блок',\r\n          price: 'от 12 500 ₽',\r\n          profile: 'WHS Profile 60',\r\n          chambers: '3 камеры, 60 мм',\r\n          size: '2100 × 2100 мм (4,41 м²)',\r\n          features: [\r\n            'Окно + балконная дверь',\r\n            'Двухкамерный стеклопакет 24/32 мм',\r\n            'Энергосберегающее стекло',\r\n          ],\r\n        },\r\n        {\r\n          title: 'Лоджия',\r\n          price: 'от 12 500 ₽',\r\n          profile: 'WHS Profile 60',\r\n          chambers: '3 камеры, 60 мм',\r\n          size: '3000 × 1400 мм (4,2 м²)',\r\n          features: [\r\n            'Панорамное остекление лоджии',\r\n            'Двухкамерный стеклопакет 24/32 мм',\r\n            'Энергосберегающее стекло',\r\n          ],\r\n        },\r\n      ],\r\n    },\r\n    rehau: {\r\n      brand: 'REHAU',\r\n      profiles: [\r\n        {\r\n          title: 'Одностворчатое окно',\r\n          price: 'от 8 000 ₽',\r\n          profile: 'REHAU Blitz',\r\n          chambers: '3 камеры, 60 мм',\r\n          size: '600 × 1200 мм (0,72 м²)',\r\n          features: [\r\n            'Поворотно-откидная створка',\r\n            'Двухкамерный стеклопакет 24/32 мм',\r\n            'Энергосберегающее i-стекло',\r\n          ],\r\n        },\r\n        {\r\n          title: 'Двухстворчатое окно',\r\n          price: 'от 12 700 ₽',\r\n          profile: 'REHAU Blitz',\r\n          chambers: '3 камеры, 60 мм',\r\n          size: '1300 × 1400 мм (1,82 м²)',\r\n          features: [\r\n            'Одна поворотно-откидная, одна глухая створка',\r\n            'Двухкамерный стеклопакет 24/32 мм',\r\n            'Энергосберегающее i-стекло',\r\n          ],\r\n        },\r\n        {\r\n          title: 'Трехстворчатое окно',\r\n          price: 'от 18 800 ₽',\r\n          profile: 'REHAU Blitz',\r\n          chambers: '3 камеры, 60 мм',\r\n          size: '2100 × 1400 мм (2,94 м²)',\r\n          features: [\r\n            'Две поворотно-откидные, одна глухая створка',\r\n            'Двухкамерный стеклопакет 24/32 мм',\r\n            'Энергосберегающее i-стекло',\r\n          ],\r\n        },\r\n        {\r\n          title: 'Балконный блок',\r\n          price: 'от 20 700 ₽',\r\n          profile: 'REHAU Blitz',\r\n          chambers: '3 камеры, 60 мм',\r\n          size: '2100 × 2100 мм (4,41 м²)',\r\n          features: [\r\n            'Окно + балконная дверь',\r\n            'Двухкамерный стеклопакет 24/32 мм',\r\n            'Энергосберегающее i-стекло',\r\n          ],\r\n        },\r\n        {\r\n          title: 'Лоджия',\r\n          price: 'от 20 700 ₽',\r\n          profile: 'REHAU Blitz',\r\n          chambers: '3 камеры, 60 мм',\r\n          size: '3000 × 1400 мм (4,2 м²)',\r\n          features: [\r\n            'Панорамное остекление лоджии',\r\n            'Двухкамерный стеклопакет 24/32 мм',\r\n            'Энергосберегающее i-стекло',\r\n          ],\r\n        },\r\n      ],\r\n    },\r\n    veka: {\r\n      brand: 'VEKA',\r\n      profiles: [\r\n        {\r\n          title: 'Одностворчатое окно',\r\n          price: 'от 6 000 ₽',\r\n          profile: 'VEKA Evroline 58',\r\n          chambers: '3 камеры, 58 мм',\r\n          size: '600 × 1200 мм (0,72 м²)',\r\n          features: [\r\n            'Поворотно-откидная створка',\r\n            'Двухкамерный стеклопакет 24/32 мм',\r\n            'Энергосберегающее стекло',\r\n          ],\r\n        },\r\n        {\r\n          title: 'Двухстворчатое окно',\r\n          price: 'от 9 700 ₽',\r\n          profile: 'VEKA Evroline 58',\r\n          chambers: '3 камеры, 58 мм',\r\n          size: '1300 × 1400 мм (1,82 м²)',\r\n          features: [\r\n            'Одна поворотно-откидная, одна глухая створка',\r\n            'Двухкамерный стеклопакет 24/32 мм',\r\n            'Энергосберегающее стекло',\r\n          ],\r\n        },\r\n        {\r\n          title: 'Трехстворчатое окно',\r\n          price: 'от 13 800 ₽',\r\n          profile: 'VEKA Evroline 58',\r\n          chambers: '3 камеры, 58 мм',\r\n          size: '2100 × 1400 мм (2,94 м²)',\r\n          features: [\r\n            'Две поворотно-откидные, одна глухая створка',\r\n            'Двухкамерный стеклопакет 24/32 мм',\r\n            'Энергосберегающее стекло',\r\n          ],\r\n        },\r\n        {\r\n          title: 'Балконный блок',\r\n          price: 'от 15 700 ₽',\r\n          profile: 'VEKA Evroline 58',\r\n          chambers: '3 камеры, 58 мм',\r\n          size: '2100 × 2100 мм (4,41 м²)',\r\n          features: [\r\n            'Окно + балконная дверь',\r\n            'Двухкамерный стеклопакет 24/32 мм',\r\n            'Энергосберегающее стекло',\r\n          ],\r\n        },\r\n        // {\r\n        //   title: 'Лоджия',\r\n        //   price: 'от 15 700 ₽',\r\n        //   profile: 'VEKA Evroline 58',\r\n        //   chambers: '3 камеры, 58 мм',\r\n        //   size: '3000 × 1400 мм (4,2 м²)',\r\n        //   features: [\r\n        //     'Панорамное остекление лоджии',\r\n        //     'Двухкамерный стеклопакет 24/32 мм',\r\n        //     'Энергосберегающее стекло',\r\n        //   ],\r\n        // },\r\n      ],\r\n    },\r\n  };\r\n\r\n  // Update card content based on selected tab\r\n  function updateCardContent(tabType) {\r\n    const cards = document.querySelectorAll('.pricing-card');\r\n    const data = contentData[tabType];\r\n\r\n    cards.forEach((card, index) => {\r\n      if (data.profiles[index]) {\r\n        const profile = data.profiles[index];\r\n\r\n        // Update features list\r\n        const featuresList = card.querySelector('.features-list');\r\n        if (featuresList) {\r\n          featuresList.innerHTML = '';\r\n\r\n          // Prepare complete features array with profile info\r\n          const allFeatures = [\r\n            profile.features[0], // First feature (створки)\r\n            `<span class=\"highlight\">${profile.profile}:</span> ${profile.chambers}`, // Profile info\r\n            ...profile.features.slice(1), // Remaining features\r\n          ];\r\n\r\n          // Generate feature items dynamically\r\n          allFeatures.forEach(featureText => {\r\n            if (featureText) {\r\n              // Only add if feature exists\r\n              const featureItem = document.createElement('div');\r\n              featureItem.className = 'feature-item';\r\n              featureItem.innerHTML = `\r\n                <img src=\"/img/icon-check-white-blue-circle.svg\" alt=\"check\" class=\"check-icon\" width=\"24\" height=\"24\">\r\n                <p class=\"feature-text\">${featureText}</p>\r\n              `;\r\n              featuresList.appendChild(featureItem);\r\n            }\r\n          });\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  // Touch/swipe functionality for mobile\r\n  let startX = 0;\r\n  let startY = 0;\r\n  let isDragging = false;\r\n\r\n  pricingCards.addEventListener('touchstart', function (e) {\r\n    startX = e.touches[0].clientX;\r\n    startY = e.touches[0].clientY;\r\n    isDragging = true;\r\n  });\r\n\r\n  pricingCards.addEventListener('touchmove', function (e) {\r\n    if (!isDragging) return;\r\n\r\n    const currentX = e.touches[0].clientX;\r\n    const currentY = e.touches[0].clientY;\r\n    const diffX = Math.abs(currentX - startX);\r\n    const diffY = Math.abs(currentY - startY);\r\n\r\n    // Prevent default only if horizontal movement is greater than vertical\r\n    // This allows vertical scrolling while enabling horizontal swiping\r\n    if (diffX > diffY && diffX > 10) {\r\n      e.preventDefault();\r\n    }\r\n  });\r\n\r\n  pricingCards.addEventListener('touchend', function (e) {\r\n    if (!isDragging) return;\r\n\r\n    const endX = e.changedTouches[0].clientX;\r\n    const diff = startX - endX;\r\n\r\n    if (Math.abs(diff) > 50) {\r\n      // Minimum swipe distance\r\n      const actualSlidesToShow = calculateActualSlidesToShow();\r\n      const actualMaxSlide = Math.max(0, totalSlides - actualSlidesToShow);\r\n\r\n      if (diff > 0 && currentSlide < actualMaxSlide) {\r\n        // Swipe left - next slide\r\n        currentSlide++;\r\n        updateCarousel();\r\n      } else if (diff < 0 && currentSlide > 0) {\r\n        // Swipe right - previous slide\r\n        currentSlide--;\r\n        updateCarousel();\r\n      }\r\n    }\r\n\r\n    isDragging = false;\r\n  });\r\n\r\n  // Keyboard navigation\r\n  document.addEventListener('keydown', function (e) {\r\n    const actualSlidesToShow = calculateActualSlidesToShow();\r\n    const actualMaxSlide = Math.max(0, totalSlides - actualSlidesToShow);\r\n\r\n    if (e.key === 'ArrowLeft' && currentSlide > 0) {\r\n      currentSlide--;\r\n      updateCarousel();\r\n    } else if (e.key === 'ArrowRight' && currentSlide < actualMaxSlide) {\r\n      currentSlide++;\r\n      updateCarousel();\r\n    }\r\n  });\r\n\r\n  // Responsive handling\r\n  function handleResize() {\r\n    const width = window.innerWidth;\r\n\r\n    // Calculate slides to show based on screen width\r\n    const slidesConfig = [\r\n      { maxWidth: BREAKPOINTS.MOBILE, slides: 1 },\r\n      { maxWidth: BREAKPOINTS.TABLET, slides: 2 },\r\n      { maxWidth: BREAKPOINTS.DESKTOP, slides: 3 },\r\n      { maxWidth: Infinity, slides: 4 },\r\n    ];\r\n\r\n    const newSlidesToShow = slidesConfig.find(\r\n      config => width < config.maxWidth\r\n    ).slides;\r\n\r\n    if (newSlidesToShow !== slidesToShow) {\r\n      // Update configured slides to show\r\n      slidesToShow = newSlidesToShow;\r\n      maxSlide = Math.max(0, totalSlides - slidesToShow);\r\n\r\n      // Reset carousel position and update\r\n      currentSlide = 0;\r\n      updateCarousel();\r\n    } else {\r\n      // Even if slidesToShow didn't change, we should recalculate on resize\r\n      updateCarousel();\r\n    }\r\n  }\r\n\r\n  window.addEventListener('resize', handleResize);\r\n\r\n  // Initialize responsive layout\r\n  handleResize();\r\n\r\n  // Initialize with default tab content (WHS - matches active tab)\r\n  createCardsForTab('whs');\r\n  updateCardContent('whs');\r\n\r\n  // Initialize carousel\r\n  updateCarousel();\r\n});\r\n"],"names":[],"version":3,"file":"d1sa.github.io.b828852a.js.map","sourceRoot":"/__parcel_source_root/"}